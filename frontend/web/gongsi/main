(function(){var X=X||{Ca:{Dc:0,nk:[]}},pc={};X.CLASS_NAME="AMap";X.a=X.BuryPoint={YJ:{},bA:{},options:{},tA:{},TE:{},UE:{},EF:{},FF:{}};
X.a.Pf=X.BuryPoint.dic={"AMap.event":{c:"ev",m:{addDomListener:"a",addListener:"b",addListenerOnce:"c",removeListener:"d",trigger:"e"}},AMap:{c:"aa",m:{convertFrom:"a"}},"AMap.Map":{c:"m",o:{view:"a",layers:"b",level:"c",center:"d",zooms:"e",lang:"f",cursor:"g",crs:"h",animateEnable:"i",isHotspot:"j",defaultLayer:"k",rotateEnable:"l",resizeEnable:"m",dragEnable:"n",zoomEnable:"o",doubleClickZoom:"p",keyboardEnable:"q",jogEnable:"r",scrollWheel:"s",touchZoom:"t",mapStyle:"u","features ":"v",zoom:"w"},
m:{setMapStyle:"a",getMapStyle:"b",getFeatures:"c",setFeatures:"d",setLang:"e",getLang:"f",setCity:"g",getCity:"h",getAdcode:"i",setLimitBounds:"j",clearLimitBounds:"k",getLimitBounds:"l",setZoom:"m",getZoom:"n",getCenter:"o",setCenter:"p",setRotation:"q",getBounds:"r",getStatus:"s",setStatus:"t",getResolution:"u",getScale:"v",getDefaultCursor:"w",setDefaultCursor:"x",zoomIn:"y",zoomOut:"z",setZoomAndCenter:"0",setBounds:"1",clearMap:"2",destroy:"3",addControl:"4",removeControl:"5",clearControl:"6",
clearInfoWindow:"7",remove:"8",add:"9",getAllOverlays:"a1",getSize:"a2",getContainer:"a3",panTo:"a4",panBy:"a5",setFitView:"a6",setLayers:"a7",getLayers:"a8",getDefaultLayer:"a9",setDefaultLayer:"a0",pixelToLngLat:"b0",lnglatToPixel:"b1",drawPolyline:"b2",drawPolygon:"b3",drawCircle:"b4"}},"AMap.View2D":{c:"v",o:{center:"a",rotation:"b",zoom:"c",crs:"d"}},"AMap.Buildings":{p:"AMap.Layer",c:"b"},"AMap.CustomLayer":{p:"AMap.Layer",c:"c",o:{map:"a",zIndex:"b",opacity:"c",zooms:"d"},m:{setOpacity:"2a",
getContainer:"2b",show:"2c",hide:"2d",setzIndex:"2e"}},"AMap.ImageLayer":{p:"AMap.Layer",c:"i",o:{bounds:"a",url:"b",map:"c",opacity:"d",visible:"e",zIndex:"f",zooms:"g"},m:{getMap:"4a",show:"4b",getOpacity:"4c",setOpacity:"4d",getBounds:"4e",setBounds:"4f",getImageUrl:"4g",setImageUrl:"4h",hide:"4i",setOptions:"4j",getOptions:"4k"}},"AMap.Layer":{c:"l",m:{getZooms:"a",setOpacity:"b",show:"c",hide:"d",setMap:"e",getMap:"f",setzIndex:"g"}},"AMap.MassMarks":{p:"AMap.Layer",c:"ma",o:{zIndex:"a",opacity:"b",
zooms:"c",anchor:"d",url:"e",size:"f",cursor:"g",alwaysRender:"h"},m:{setData:"0a",getData:"0b",getStyle:"0c",setStyle:"0d",setMap:"0e"}},"AMap.TileLayer":{p:"AMap.Layer",c:"tl",o:{map:"a",tileSize:"b",tileUrl:"c",errorUrl:"d",getTileUrl:"e",zIndex:"f",opacity:"g",zooms:"h",detectRetina:"i"},m:{setTextIndex:"3a",getTiles:"3b",reload:"3c",setTileUrl:"3d",getTileUrl:"3e",getZooms:"3f",stopRefresh:"3g",startRefresh:"3h",reload:"3i"}},"AMap.TileLayer.Satellite":{p:"AMap.TileLayer",c:"s",o:{map:"a",zIndex:"b",
opacity:"c",zooms:"d",detectRetina:"e"}},"AMap.TileLayer.RoadNet":{p:"AMap.TileLayer",c:"r",o:{map:"a",zIndex:"b",opacity:"c",zooms:"d",detectRetina:"e"}},"AMap.TileLayer.Traffic":{p:"AMap.TileLayer",c:"t",o:{map:"a",zIndex:"b",opacity:"c",zooms:"d",detectRetina:"e",autoRefresh:"f",interval:"g"}},"AMap.Vector":{p:"AMap.Overlay",c:"v",m:{show:"4a",hide:"4b",getVisible:"4c",getOptions:"4d",setOptions:"4e",setDraggable:"4f"}},"AMap.VectorTile":{p:"AMap.Layer",c:"vt"},"AMap.Circle":{p:"AMap.Vector",c:"ci",
o:{map:"a",zIndex:"b",center:"c",radius:"d",strokeColor:"e",strokeOpacity:"f",strokeWeight:"g",fillColor:"h",fillOpacity:"i",strokeStyle:"j",extData:"k",strokeDasharray:"l"},m:{setCenter:"8a",getCenter:"8b",setRadius:"8c",getRadius:"8d",contains:"8e"}},"AMap.ContextMenu":{p:"AMap.Overlay",c:"cm",o:{position:"a",content:"b",width:"c"},m:{addItem:"2a",removeItem:"2b",open:"2c",close:"2d"}},"AMap.GroundImage":{p:"AMap.ImageLayer",c:"g",o:{map:"a",clickable:"b",opacity:"c"},m:{setMap:"8a"}},"AMap.Icon":{c:"ic",
o:{size:"a",imageOffset:"b",image:"c",imageSize:"c"},m:{setImageSize:"a",getImageSize:"b"}},"AMap.ImageMarker":{p:"AMap.Overlay",c:"im",m:{setPosition:"3a",getBounds:"3b",getPosition:"3c",hide:"3d",show:"3e",setCursor:"3f",setRotation:"3g",setzIndex:"3h"}},"AMap.InfoWindow":{p:"AMap.Overlay",c:"iw",o:{isCustom:"a",autoMove:"b",closeWhenClickMap:"c",content:"d",size:"e",offset:"f",position:"g",showShadow:"h"},m:{open:"1a",close:"1b",setContent:"1c",getContentU:"1d",getContent:"1e",setPosition:"1f",
setOffset:"1g",getPosition:"1h",setSize:"1i",getSize:"1j",getIsOpen:"1k"}},"AMap.Marker":{p:"AMap.Overlay",c:"mk",o:{map:"a",position:"b",offset:"c",icon:"d",content:"e",topWhenClick:"f",topWhenMouseOver:"g",draggable:"h",raiseOnDrag:"j",cursor:"k",visible:"l",zIndex:"m",angle:"n",autoRotation:"o",animation:"p",shadow:"q",title:"r",clickable:"s",shape:"t",extData:"u"},m:{setRaiseOnDrag:"9a",setPosition:"9b",getPosition:"9c",setIcon:"9d",getIcon:"9e",setContent:"9f",getContent:"9g",hide:"9h",show:"9i",
setCursor:"9j",setRotation:"9k",setAngle:"9l",getAngle:"9m",setOffset:"9n",getOffset:"9o",setzIndex:"9p",setOpacity:"9q",setDraggable:"9r",getDraggable:"9s",moveTo:"9t",moveAlong:"9u",stopMove:"9v",setShadow:"9w",getShadow:"9x",setClickable:"9y",getClickable:"9z",setTitle:"90",getTitle:"91",setLabel:"92",getLabel:"93",setTop:"94",getTop:"95",setShape:"96",getShape:"97",setAnimation:"98",getAnimation:"99",getMap:"9a1"}},"AMap.MarkerShape":{c:"ms",o:{coords:"a",type:"b"}},"AMap.Overlay":{c:"o",m:{show:"a",
hide:"b",setMap:"c",getMap:"d",setExtData:"e",getExtData:"f"}},"AMap.Poly":{p:"AMap.Vector",c:"ly",m:{setPath:"5a",getPath:"5b"}},"AMap.Polygon":{p:"AMap.Poly",c:"gn",o:{map:"a",zIndex:"b",path:"c",strokeColor:"d",strokeOpacity:"e",strokeWeight:"f",fillColor:"g",fillOpacity:"h",extData:"i",strokeStyle:"j",strokeDasharray:"k"},m:{getArea:"6a",toString:"6b",contains:"6c"}},"AMap.Polyline":{p:"AMap.Poly",c:"le",o:{map:"a",zIndex:"b",geodesic:"c",isOutline:"d",outlineColor:"e",path:"f",strokeColor:"g",
strokeOpacity:"h",strokeWeight:"i",strokeStyle:"j",strokeDasharray:"k",extData:"l"},m:{getLength:"7a"}},"AMap.Text":{p:"AMap.Overlay",c:"tt"},"AMap.Panorama":{c:"aa"},"AMap.PanoramaMarker":{c:"ar"},"AMap.PanoramaService":{c:"ae"},"AMap.AdvancedInfoWindow":{p:"AMap.InfoWindow",c:"pa",o:{autoMove:"a",closeWhenClickMap:"b",content:"c",offset:"d",position:"e",panel:"f",searchRadius:"g",placeSearch:"h",driving:"i",walking:"j",transit:"k",asOrigin:"l",asDestination:"m"},m:{clear:"aa",searchPoiByKeyWord:"ab"}},
"AMap.AntiCrabFrame":{c:"pb",m:{setMapStyle:"a"}},"AMap.ArrivalRange":{c:"pc",m:{search:"a"}},"AMap.Autocomplete":{c:"pd",o:{type:"a",city:"b",input:"c"},m:{setType:"a",setCity:"b",search:"c"}},"AMap.AutoPanby":{c:"pe"},"AMap.CircleEditor":{c:"pf",m:{open:"a",close:"b"}},"AMap.CitySearch":{c:"pg",m:{getLocalCity:"a",getCityByIp:"b"}},"AMap.CloudDataLayer":{c:"ph",o:{map:"a",query:"b",clickable:"c"},m:{reload:"a",setMap:"b",getMap:"c",setOptions:"d",wrapUrl:"e"}},"AMap.CloudDataSearch":{c:"pi",o:{keywords:"a",
filter:"b",orderBy:"c",pageSize:"d",pageIndex:"e"},m:{setOptions:"a",clear:"b",setPageIndex:"c",setPageSize:"d",searchNearBy:"e",searchById:"f",searchByDistrict:"g",searchInPolygon:"h"}},"AMap.CloudDataSearchRender":{c:"pj"},"AMap.DistrictSearch":{c:"pk",o:{level:"a",extensions:"b",subdistrict:"c"},m:{setLevel:"a",setExtensions:"b",setSubdistrict:"c",search:"d"}},"AMap.DragRoute":{c:"pl",o:{polyOptions:"a",startMarkerOptions:"b",midMarkerOptions:"c",endMarkerOptions:"d",showTraffic:"e"},m:{setAvoidPolygons:"a",
clearAvoidPolygons:"b",getAvoidPolygons:"c",setAvoidRoad:"d",clearAvoidRoad:"e",getAvoidRoad:"f",search:"g",setPolicy:"h",showRoute:"i",close:"j",open:"k",getWays:"l",getRoute:"m",destroy:"n",getPolyline:"o",getStart:"p",getEnd:"q",getPoint:"r",getRoutes:"s"}},"AMap.Driving":{c:"pm",o:{policy:"a",extensions:"b",map:"c",panel:"d",hideMarkers:"e"},m:{clear:"a",search:"b",setAvoidPolygons:"c",clearAvoidPolygons:"d",getAvoidPolygons:"e",setAvoidRoad:"f",clearAvoidRoad:"g",getAvoidRoad:"h",setPolicy:"i",
setLocation:"j",close:"k",open:"l"}},"AMap.DrivingRender":{c:"pp"},"AMap.Geocoder":{c:"pq",o:{city:"a",radius:"b",extensions:"c"},m:{getLocation:"a",setCity:"b",getAddress:"c"}},"AMap.Geolocation":{c:"pr",o:{enableHighAccuracy:"a",timeout:"b",maximumAge:"c",convert:"d",showButton:"e",buttonDom:"f",buttonPosition:"g",buttonOffset:"h",showMarker:"i",markerOptions:"j",showCircle:"k",circleOptions:"l",panToLocation:"m",zoomToAccuracy:"n",useNative:"o"},m:{isSupported:"a",getCurrentPosition:"b",watchPosition:"c",
clearWatch:"d"}},"AMap.GetLL":{c:"ps"},"AMap.Heatmap":{c:"pt",o:{radius:"a",gradient:"b",opacity:"c",zooms:"d"},m:{setOptions:"a",getOptions:"b",setDataSet:"c",getDataSet:"d",addDataPoint:"e",setMap:"f",hide:"g",show:"h",getMap:"i",setzIndex:"j",getzIndex:"k"}},"AMap.HotSpot":{c:"pu",m:{setMap:"a"}},"AMap.LineSearch":{c:"pv",o:{pageIndex:"a",pageSize:"b",city:"c",extensions:"d"},m:{setPageIndex:"a",setPageSize:"b",setCity:"c",searchById:"d",search:"e"}},"AMap.MapType":{c:"pw",m:{hide:"a",show:"b"}},
"AMap.Cluster":{c:"px"},"AMap.MarkerClusterer":{c:"py",o:{gridSize:"a",minClusterSize:"b",maxZoom:"c",averageCenter:"d",styles:"e",zoomOnClick:"f"},m:{disperse:"a",addMarker:"b",addMarkers:"c",removeMarker:"d",removeMarkers:"e",clearMarkers:"f",getClustersCount:"g",getMap:"h",setMap:"i",getMarkers:"j",setMarkers:"k",getGridSize:"l",setGridSize:"m",getMinClusterSize:"n",setMinClusterSize:"o",getMaxZoom:"p",setMaxZoom:"q",isAverageCenter:"r",setAverageCenter:"s",getStyles:"t",setStyles:"u"}},"AMap.MouseTool":{c:"pz",
m:{marker:"a",polyline:"b",polygon:"c",rectangle:"d",circle:"e",rule:"f",measureArea:"g",rectZoomIn:"h",rectZoomOut:"i",close:"j"}},"AMap.OverView":{c:"p0",o:{tileLayer:"a",isOpen:"b",visible:"c"},m:{open:"a",close:"b",getTileLayer:"c",setTileLayer:"d",show:"e",hide:"f"}},"AMap.PlaceSearch":{c:"p1",o:{city:"a",type:"b",lang:"c",pageSize:"d",pageIndex:"e",extensions:"f",map:"g",panel:"h"},m:{clear:"a",setLang:"b",searchInBounds:"c",searchNearBy:"d",getDetails:"e",setType:"f",setPageIndex:"g",setPageSize:"h",
setCity:"i",close:"j",open:"k"}},"AMap.PlaceSearchLayer":{c:"p2",o:{map:"a",keywords:"b"},m:{setMap:"a",setKeywords:"b"}},"AMap.PlaceSearchRender":{c:"p3"},"AMap.PolyEditor":{c:"p4",m:{open:"a",close:"b"}},"AMap.RangingTool":{c:"p5",o:{startMarkerOptions:"a",midMarkerOptions:"b",endMarkerOptions:"c",lineOptions:"d",tmpLineOptions:"e",startLabelText:"f",midLabelText:"g",endLabelText:"h",startLabelOffset:"i",midLabelOffset:"j",endLabelOffset:"k"},m:{turnOn:"a",turnOff:"b"}},"AMap.RoadInfoSearch":{c:"p6",
o:{pageIndex:"a",pageSize:"b",city:"c"},m:{setPageIndex:"a",setPageSize:"b",setCity:"c",roadInfoSearchByRoadId:"d",roadInfoSearchByRoadName:"e",crossInfoSearchByCrossId:"f",crossInfoSearchByRoadName:"g"}},"AMap.Scale":{c:"p7",m:{show:"a",hide:"b"}},"AMap.StationSearch":{c:"p8",o:{pageIndex:"a",pageSize:"b",city:"c"},m:{setPageIndex:"a",setPageSize:"b",setCity:"c",searchById:"d",search:"e"}},"AMap.ToolBar":{c:"p9",o:{offset:"a",ruler:"b",direction:"c",autoPosition:"d",locationMarker:"e",useNative:"f"},
m:{getOffset:"a",setOffset:"b",hideRuler:"c",showRuler:"d",hideDirection:"e",showDirection:"f",hideLocation:"g",showLocation:"h",hide:"i",show:"j",doLocation:"k",getLocation:"l"}},"AMap.Transfer":{c:"1",o:{city:"a",policy:"b",nightflag:"c",cityd:"d",extensions:"e",map:"f",panel:"g",hideMarkers:"h"},m:{clear:"a",search:"b",leaveAt:"c",setPolicy:"d",setCity:"e",setCityd:"f",close:"g",open:"h"}},"AMap.TransferRender":{c:"2"},"AMap.UTFGrid":{c:"3",m:{setMap:"a"}},"AMap.Walking":{c:"4",o:{map:"a",panel:"b",
hideMarkers:"c"},m:{clear:"a",search:"b",close:"c",open:"d"}},"AMap.WalkingRender":{c:"5"},"AMap.Weather":{c:"6",m:{getLive:"a",getForecast:"b"}},"AMap.IndoorMap":{p:"AMap.CustomLayer",c:"7",o:{alwaysShow:"9a"},m:{showIndoorMap:"9a",showFloor:"9b",showFloorBar:"9c",hideFloorBar:"9d",hideLabels:"9e",showLabels:"9f",getSelectedBuildingId:"9g",getSelectedBuilding:"9h",setSelectedBuildingId:"9i",getVisibleBuildingIds:"9j"}},"AMap.Riding":{c:"prd",o:{map:"a",panel:"b",policy:"c"},m:{clear:"a",search:"b",
close:"c",open:"d",setPolicy:"e"}},"AMap.RidingRender":{c:"prdr"}};X.a.FX=X.BuryPoint.getMethodName=function(a,b){var c;for(c=this.Pf[a].m&&this.Pf[a].m[b];!c&&this.Pf[a].p;){var d=this.Pf[a].p;c=this.Pf[d].m&&this.Pf[d].m[b];a=d}c||(c=b);return c};X.a.add=X.BuryPoint.add=function(a,b,c){var d=this.Pf[a].c;if(d){if(b){a=this.FX(a,b);if(!a)return;d+=","+a}this.YJ[d]=1;c&&(this.bA[d]=c)}};
X.a.Sa=X.BuryPoint.addOptions=function(a,b){var c=this.Pf[a].c,d,f;for(f in b)(d=this.Pf[a].o&&this.Pf[a].o[f])||(d=f),d=c+","+d,this.options[d]=1;"AMap.Map"==a&&this.IN(a,b,["mapStyle","lang","renderer","zoom"])};X.a.IN=X.BuryPoint._addOptionsValue=function(a,b,c){for(var d=0,f,g;d<c.length;d++)f=c[d],b&&b[f]&&(g={},g[f]=b[f],this.DU(a,g))};X.a.DU=X.BuryPoint.addOptionsValue=function(a,b){var c=this.Pf[a].c,d,f;for(f in b)(d=this.Pf[a].o&&this.Pf[a].o[f])||(d=f),d=c+","+d,this.tA[d]=b[f]};
X.a.send=X.BuryPoint.send=function(){var a=[],b=[],c=[],d=[],f=X.a,g;for(g in f.YJ)1!=f.TE[g]&&a.push(g);for(g in f.bA)1!=f.UE[g]&&b.push(g+"="+f.bA[g]);for(g in f.options)1!=f.EF[g]&&c.push(g);for(g in f.tA)1!=f.FF[g]&&d.push(g+"="+f.tA[g]);if(0<a.length||0<b.length||0<c.length||0<d.length)new X.na.ya(X.k.zc+"://webapi.amap.com/count?"+["type=f","k="+X.k.key,"u="+X.k.Zk,"m="+(X.j.U?1:0),"pf="+X.j.qq,"methods="+a.join("@"),"methodsParams="+b.join("@"),"options="+c.join("@"),"optionsValue="+d.join("@")].join("&")),
f.clear(a,b,c,d);window.setTimeout(f.send,1E4)};X.a.clear=X.BuryPoint.clear=function(a,b,c,d){for(var f=0;f<a.length;f++)this.TE[a[f]]=1;for(f=0;f<b.length;f++)this.UE[b[f].split("=")[0]]=1;for(f=0;f<c.length;f++)this.EF[c[f]]=1;for(f=0;f<d.length;f++)this.FF[d[f].split("=")[0]]=1};window.setTimeout(X.a.send,1E4);X.W=function(){};
X.W.extend=X.W.extend=function(a){function b(){}function c(){this.B&&(this.B.apply(this,arguments),this.CLASS_NAME&&X.a.add(this.CLASS_NAME))}b.prototype=this.prototype;var d=new b;d.constructor=c;c.prototype=d;for(var f in this)this.hasOwnProperty(f)&&"prototype"!==f&&(c[f]=this[f]);a.PL&&(X.extend(c,a.PL),a.PL=null);a.oa&&(X.extend.apply(null,[d].concat(a.oa)),a.oa=null);a.G&&d.G&&(a.G=X.extend({},d.G,a.G));X.extend(d,a);a.toString&&(d.toString=a.toString);c.pe=this.prototype;return c};
X.W.Mc=X.W.include=function(a){X.extend(this.prototype,a)};X.extend=function(a){var b=Array.prototype.slice.call(arguments,1),c,d,f,g;d=0;for(f=b.length;d<f;d+=1)for(c in g=b[d]||{},g)Object.prototype.hasOwnProperty.call(g,c)&&("function"===typeof g[c]&&"function"===typeof a[c]&&(g[c].Ya=a[c]),a[c]=g[c]);return a};X.W.cn=function(a){for(var b in a)if(a.hasOwnProperty(b)){var c=a[b];this.prototype[b]&&(this.prototype[c]=this.prototype[b])}};X.ca={e:function(a,b,c,d,f){if(this.Ze(a,b,c||this))return this;var g=this.rh=this.rh||{};g[a]=g[a]||[];f?g[a].unshift({Ha:b,we:c||this,ak:d}):g[a].push({Ha:b,we:c||this,ak:d});"complete"===a&&this.yb&&this.l(a);return this},Ze:function(a,b,c){var d=this.rh;if(b&&c){if(d&&a in d&&d[a])for(var f=0;f<d[a].length;f+=1)if(d[a][f].Ha===b&&d[a][f].we===c)return!0;return!1}return d&&a in d&&d[a]&&0<d[a].length},C:function(a,b,c){if(!this.Ze(a))return this;var d=this.rh;if(d&&d[a])for(var f=0;f<d[a].length;f+=
1)if(!(d[a][f].Ha!==b&&"mv"!==b||c&&d[a][f].we!==c)){d[a].splice(f,1);d[a].length||(d[a]=null);break}return this},l:function(a,b){if(!this.Ze(a))return this;var c={type:a};b||"string"!=typeof b&&"number"!=typeof b&&"boolean"!=typeof b?X.g.Jz(b)?c.value=b:c=X.extend(c,b):c.value=b;for(var d=[].concat(this.rh[a]),f=0;f<d.length;f+=1)d[f].Ha&&(d[f].Ha.call(d[f].we||this,c),d[f].ak&&this.rh[a]&&this.rh[a].splice(f,1));return this},Hi:function(a){a?this.rh&&this.rh[a]&&(this.rh[a]=null):this.rh=null;return this}};
X.ca.on||(X.ca.on=X.ca.e);X.ca.off||(X.ca.off=X.ca.C);X.ca.emit||(X.ca.emit=X.ca.l);X.gd={set:function(a,b,c){var d=this.Xf;if(d&&d[a]){var d=d[a],f="set"+this.QI(a);d[f]?(d[f](b,c),c||this.au(a,b)):d.set(a,b,c)}else(this.pi=this.pi||{})[a]=b,c||this.au(a,b)},QI:function(a){return a.charAt(0).toUpperCase()+a.substr(1)},get:function(a,b,c){var d,f=this.Xf;d="get"+this.QI(a);if(f&&f[a])return c=f[a],c[d]?c[d](b):c.get(a,b);if(this[d]&&!c)return this[d](b);if(this.pi&&this.pi.hasOwnProperty(a))return this.pi[a]},P:function(a,b,c){this.Xf||(this.Xf={});this.Xf[a]!==b&&(b.e(a,function(b){this.au(a,
b)},this),this.Xf[a]=b,c||this.au(a))},ld:function(a,b,c){for(var d=0;d<a.length;d+=1)this.P(a[d],b,!c)},fi:function(a){this.Xf&&this.Xf[a]&&(this.Xf[a].C(a,"mv",this),this.Xf[a]=void 0)},Wl:function(){if(this.Xf)for(var a in this.Xf)this.Xf.hasOwnProperty(a)&&this.fi(a)},au:function(a,b){if(this[a+"Changed"])this[a+"Changed"](b);else this.uH&&this.uH();this.l(a,b)},o4:function(a,b,c){var d=new (X.W.extend({oa:[X.ca,X.gd]}));d.uH=function(){for(var b=!0,f=0;f<a.length;f+=1)d.get(a[f])||(b=!1);b&&
(d.Wl(),c())};for(var f=0;f<a.length;f+=1)d.P(a[f],b)},je:function(a,b){var c,d;for(c in a)a.hasOwnProperty(c)&&(d=a[c],this.set(c,d,b))}};X||(X={});X.vd={};
X.k={localStorage:!0,Cs:500,Cq:!0,gi:"1.3.25.8",qi:{dark:"#202020",blue_night:"#090d20",test:"#033447",mapv:"#000001",techblue:"#000b11",insight:"#19212a","default":"#fcf9f2"},key:"",zc:"http",md:[115.423412,39.442759,117.514625,41.060816,116.405285,39.904989],gc:"http://restapi.amap.com",mb:"http://webapi.amap.com",St:"http://gaode.com",Zj:"http://m.amap.com",jq:"http://webrd0{1,2,3,4}.is.autonavi.com/appmaptile?lang=[lang]&size=1&scale=1&style=8&x=[x]&y=[y]&z=[z]",It:"http://wprd0{1,2,3,4}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&style=7&x=[x]&y=[y]&z=[z]&scl=1&ltype=3",XA:"http://webst0{1,2,3,4}.is.autonavi.com/appmaptile?style=6&x=[x]&y=[y]&z=[z]",
ju:"http://webst0{1,2,3,4}.is.autonavi.com/appmaptile?x=[x]&y=[y]&z=[z]&lang=zh_cn&size=1&scale=1&style=8",ku:"http://wprd0{1,2,3,4}.is.autonavi.com/appmaptile?x=[x]&y=[y]&z=[z]&lang=zh_cn&size=1&scl=1&style=8&ltype=11",Jq:"http://wprd0{1,2,3,4}.is.autonavi.com/appmaptile?lang=[lang]&size=1&style=7&x=[x]&y=[y]&z=[z]",Oq:"http://vector.amap.com",Ju:"vdata.amap.com",qM:"ws"};
function qc(a){X.W.an=a.an;X.j=a.j;X.sd=a.sd;a.j=null;X.k.mb=a[2].split(",")[0];var b=X.k.zc=X.k.mb.split(":")[0];"https"===b&&(X.k.qM="wss",X.k.gc=X.k.gc.replace("http","https"),X.k.jq=X.k.jq.replace("http","https"),X.k.It=X.k.It.replace("http","https"),X.k.XA=X.k.XA.replace("http","https"),X.k.ju=X.k.ju.replace("http","https"),X.k.ku=X.k.ku.replace("http","https"),X.k.Jq=X.k.Jq.replace("http","https"),X.k.Oq=X.k.Oq.replace("http","https"));var c=window.location.href;0!==c.indexOf("http")&&window.parent&&
window.parent!==window&&(c=window.parent.location.href);X.k.aX=c;c=encodeURIComponent(c);X.k.Zk=c;X.k.Be=X.k.mb+"/theme/v1.3/markers/"+(X.j.Jc?"b":"n");var d=document.createElement("style");d.type="text/css";X.k.dW="url("+b+"://webapi.amap.com/theme/v1.3/openhand.cur),default";var f=".amap-container{cursor:"+X.k.dW+";}.amap-drag{cursor:url("+b+"://webapi.amap.com/theme/v1.3/closedhand.cur),default;}";d.styleSheet?(b=function(){try{d.styleSheet.cssText=f}catch(a){}},d.styleSheet.disabled?setTimeout(b,
10):b()):d.appendChild(document.createTextNode(f));(document.head||document.getElementsByTagName("head")[0]).appendChild(d);X.k.mode=Number(a[3]);X.k.md=a[1];X.k.key=a[0];X.k.Tx=a[4];X.k.od=a[5];X.k.sU=a[6]}window.AMap&&window.AMap.BB&&window.AMap.BB.__load__&&window.AMap.BB.__load__(qc);X.RB={kW:Math.PI/180,XZ:180/Math.PI};(function(){function a(a){return"undefined"==typeof a?"":a}X.le={IX:function(b){b.name=a(b.name);var c=[b.y,b.x,b.name];if(X.j.U){var d=[X.k.Zj+"/callAPP?","src=jsapi_q"];d.push("&ios="+encodeURIComponent("viewMap?sourceApplication=jsapi_q&dev=0&poiname="+b.name+"&lat="+b.y+"&lon="+b.x));d.push("&android="+encodeURIComponent("androidamap?action=shorturl&q="+c.join(",")+"&sourceApplication=jsapi_q"));d.push("&wp="+encodeURIComponent("viewMap?sourceApplication=jsapi_q&dev=0&poiname="+b.name+"&lat="+
b.y+"&lon="+b.x));d.push("&mo="+encodeURIComponent(X.k.Zj+"?q="+c.join(",")+"&callapp=0&sourceApplication=jsapi_q"));return d.join("")}return X.k.St+"?q="+c.join(",")+"&src=jsapi_q"},II:function(b){b.name=a(b.name);b.address=a(b.address);b.x=a(b.x);b.y=a(b.y);var c=[b.id,b.y,b.x,b.name,b.address];if(X.j.U){var d=[X.k.Zj+"/callAPP?","src=jsapi_p"];d.push("&ios="+encodeURIComponent("multiPointShow?sourceApplication=jsapi_p&dev=0&q="+[b.y,b.x,b.name,b.address,b.id].join()+"&title="+b.name));d.push("&android="+
encodeURIComponent("androidamap?action=shorturl&p="+c.join(",")+"&sourceApplication=jsapi_p"));d.push("&wp="+encodeURIComponent("multiPointShow?sourceApplication=jsapi_p&dev=0&q="+[b.y,b.x,b.name,b.address,b.id].join()+"&title="+b.name));d.push("&mo="+encodeURIComponent(X.k.Zj+"/?p="+c.join(",")+"&callapp=0&sourceApplication=jsapi_p"));return d.join("")}return X.k.St+"?p="+c.join(",")+"&src=jsapi_p"},GI:function(b){if(X.j.U){var c=[X.k.Zj+"/callAPP?","src=jsapi_detail"];c.push("&ios="+encodeURIComponent("viewPOIDetail?sourceApplication=jsapi_detail&poiid="+
b.id));b.name=a(b.name);b.x=a(b.x);b.y=a(b.y);c.push("&android="+encodeURIComponent("androidamap?action=openFeature&featureName=PoiDetail&poiid="+b.id+"&poiname="+b.name+"&x="+b.x+"&y="+b.y+"&sourceApplication=jsapi_detail"));c.push("&wp="+encodeURIComponent("viewPOIDetail?sourceApplication=jsapi_detail&poiid="+b.id));c.push("&mo="+encodeURIComponent(X.k.Zj+"/detail/index/poiid="+b.id+"&sourceApplication=jsapi_detail"));return c.join("")}return X.k.St+"/detail/"+b.id+"?src=jsapi_detail"},jz:function(b){b.sname=
a(b.sname);""==b.sname&&(b.sname="\u8d77\u70b9");b.dname=a(b.dname);""==b.dname&&(b.dname="\u7ec8\u70b9");b.mcount=a(b.mcount);b.my=a(b.my);b.mx=a(b.mx);b.mname=a(b.mname);var c=[b.sy,b.sx,b.sname,b.dy,b.dx,b.dname,b.m,b.t,b.mcount,b.my,b.mx,b.mname];if(X.j.U){var d=[X.k.Zj+"/callAPP?","src=jsapi_r_"+b.t];d.push("&ios="+encodeURIComponent("path?sourceApplication=jsapi_r_"+b.t+"&dev=0&slat="+b.sy+"&slon="+b.sx+"&sname="+b.sname+"&dlat="+b.dy+"&dlon="+b.dx+"&dname="+b.dname+"&m="+b.m+"&t="+b.t+"&vian=0&vialons=&vialats=&vianames="));
var f=b.t;0===b.t?f=2:2===b.t&&(f=4);d.push("&android="+encodeURIComponent("androidamap://route?sourceApplication=jsapi_r_"+b.t+"&slat="+b.sy+"&slon="+b.sx+"&sname="+b.sname+"&dlat="+b.dy+"&dlon="+b.dx+"&dname="+b.dname+"&dev=0&"+b.m+"&t="+f));d.push("&wp="+encodeURIComponent("path?sourceApplication=jsapi_r_"+b.t+"&dev=0&slat="+b.sy+"&slon="+b.sx+"&sname="+b.sname+"&dlat="+b.dy+"&dlon="+b.dx+"&dname="+b.dname+"&m="+b.m+"&t="+b.t+"&vian=0&vialons=&vialats=&vianames="));d.push("&mo="+encodeURIComponent(X.k.Zj+
"/?r="+c.join(",")+"&callapp=0&sourceApplication=jsapi_r_"+b.t));return d.join("")}return X.k.St+"?r="+c.join(",")+"src=jsapi_r_"+b.t},ik:function(a){X.j.U?window.location.href=a:window.open(a)}}})();X.g={yu:[],Ua:4.007501668557849E7,qV:"ASDFGHJKLQWERTYUIO!sdfghjkl",Tb:function(a){if("object"===typeof a){var b={},c;for(c in a)a.hasOwnProperty(c)&&(b[c]=X.g.Tb(a[c]));return b}return a},Jz:function(a){return"object"===typeof HTMLElement?a instanceof HTMLElement:a&&"object"===typeof a&&1===a.nodeType&&"string"===typeof a.nodeName},xB:function(a){var b,c,d,f,g;c=[];d=NaN;f=0;for(g=a.length;f<g;f+=1)b=a[f],b=this.qV.indexOf(b),isNaN(d)?d=27*b:(c.push(d+b-333),d=NaN);return c},R_:function(a,b){for(var c=
Math.ceil(b.length/8),d=0;d<c;d+=1){var f=8*d,g=f+8;g>b.length&&(g=b.length);for(;f<g;f+=1)a(b[f])}},Ly:function(a,b,c){var d,f;d=Math.floor(c/2);f=c-d;d=(1<<d)-1<<f;f=(1<<f)-1;return[c,a&d|b&f,b&d|a&f]},ft:function(a){return a?encodeURIComponent(a):""},Cc:function(a,b,c,d){c=a[b].i[c];if("undefined"===typeof c)return null;a=a[b].s;if("number"===typeof c)return a[c];for(;"undefined"===typeof c[d.toString()]&&!(d-=1,3>d););d=c[d.toString()];return"number"===typeof d?a[d]:null},Yx:function(a){for(var b=
[],c=0,d=a.length;c<d;c+=2)b.push(parseInt(a.substr(c,2),16));b.push((b.shift()/255).toFixed(2));return"rgba("+b.join(",")+")"},cq:function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},Li:function(a,b){return 0>b?a:a.slice(0,b).concat(a.slice(b+1,a.length))},mW:function(a,b){var c=X.g.indexOf(a,b);return X.g.Li(a,c)},indexOf:function(a,b){if(a&&!a.length)return-1;if(a.indexOf)return a.indexOf(b);for(var c=0;c<a.length;c+=1)if(a[c]===b)return c;return-1},bind:function(a,b){var c=2<arguments.length?
Array.prototype.slice.call(arguments,2):null;return function(){return a.apply(b,c||arguments)}},bb:function(a,b){b=b||{};a.G=X.extend({},a.G,b);return a.G},hI:function(){return!1},wI:function(a,b){return(a||"")+Math.round(Math.random()*Math.pow(10,b||6))},zb:function(){var a=0;return function(b){b._amap_id||(a+=1,b._amap_id=a);return b._amap_id}}(),NW:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",Ni:Date.now?function(){return Date.now()}:function(){return(new Date).getTime()},t4:function(a,
b,c,d){var f;if(d){var g=0,h,k=this.Ni;f=function(){h=k();if(h-g<b)return!1;g=h;a.apply(c,arguments)}}else{var l,m,n;n=function(){l=!1;m&&(f.apply(c,m),m=!1)};f=function(){l?m=arguments:(l=!0,a.apply(c,arguments),setTimeout(n,b))}}return f},Wg:function(a,b){return Number(Number(a).toFixed(b||0))},isArray:function(a){return Array.isArray?Array.isArray(a):"[object Array]"===Object.prototype.toString.call(a)},RL:function(a){var b=0;if(0===a.length)return b;for(var c,d=0,f=a.length;d<f;d+=1)c=a.charCodeAt(d),
b=(b<<5)-b+c,b&=b;return b},n3:function(a,b){b=b?Math.ceil(parseInt(b.substr(6))/24):1;for(var c="",d=0,f=a.length;d<f;d++)c+=String.fromCharCode((a.charCodeAt(d)-256-b+65535)%65535);return c},gW:function(a,b){var c=(a+"").slice(-2),d=(b+"").slice(-2);a=a.slice(0,-2);b=b.slice(0,-2);var f=parseInt((d+c).slice(1)),d=parseInt("1"+d)/3E3;a-=parseInt("1"+c)/3E3*(Math.ceil(f/250)%2?1:-1);b-=d*(1<f/500?1:-1);return new X.O(parseFloat(a).toFixed(5),parseFloat(b).toFixed(5))},hK:function(a){return"undefined"!==
typeof JSON&&JSON.stringify?X.g.RL(JSON.stringify(a)):null},t5:function(a,b){if(b||!a.hasOwnProperty("_amap_hash")){var c=X.g.hK(a);c&&(a._amap_hash=c)}return a._amap_hash},iepngFix:function(a){function b(){for(var a;c.length;)a=c.shift(),window.DD_belatedPNG.fixPng(a);d.Lz=!0}this.KK||(this.KK=[],this.Lz=!1);var c=this.KK,d=this;if("img"===a.tagName.toLowerCase())c.push(a);else{a=a.getElementsByTagName("*");for(var f=0;f<a.length;f+=1)c.push(a[f])}window.DD_belatedPNG&&this.Lz?setTimeout(function(){b()},
100):this.Lz||X.Qa.load("AMap.FixPng",b)},ha:function(a){if(X.g.isArray(a))if(X.g.isArray(a[0]))for(var b=0;b<a.length;b+=1)a[b]=X.g.ha(a[b]);else if(b=typeof a[0],"string"===b||"number"===b)return new X.O(a[0],a[1]);return a},bk:function(a){return X.g.isArray(a)?new X.Yb(a[0],a[1]):a}};
(function(){function a(a){window.clearTimeout(a)}function b(a){var b,c,d=["webkit","moz","o","ms"];for(b=0;b<d.length&&!c;b+=1)c=window[d[b]+a];return c}function c(a){var b=+new Date,c=Math.max(0,100-(b-d));d=b+c;return window.setTimeout(a,c)}var d=0,f=window.requestAnimationFrame||b("RequestAnimationFrame")||c,g=window.cancelAnimationFrame||b("CancelAnimationFrame")||b("CancelRequestAnimationFrame")||a;X.g.Ee=function(a,b,c,d){a=X.g.bind(a,b);if(c)a();else return f.call(window,a,d)};X.g.bl=function(a){a&&
g.call(window,a)}})();X.g.B_=window.requestIdleCallback?window.requestIdleCallback.bind(window):function(a){var b=Date.now();return setTimeout(function(){a({didTimeout:!1,timeRemaining:function(){return Math.max(0,70-(Date.now()-b))}})},0)};X.g.lV=window.cancelIdleCallback?window.cancelIdleCallback.bind(window):function(a){clearTimeout(a)};(function(a){var b=1,c={};a.g.a0=function(a,b){if(c[a]){var g=c[a];g.Dq=1;g.result=b;if(g.Pg){for(var h=g.Pg,k=0,l=h.length;k<l;k++)h[k].call(null,b);g.Pg=null}}};a.g.FV=function(a){c[a]=null};a.g.l1=function(a,b){if(c[a]){var g=c[a];0<g.Dq?b(null,g.result):(g.Pg||(g.Pg=[]),g.Pg.push(b))}else b(null,a)};a.g.fz=function(d,f){var g=navigator.geolocation;if(!a.j.mY||"https:"===document.location.protocol)return d(null,g);var h;f&&f.m1&&(h="f"+b++,c[h]={Dq:0});var k=void 0,l=!1;f&&f.timeout&&(k=setTimeout(function(){k=
void 0;d({code:3,info:"TIME_OUT",message:"Get geolocation time out."});l=!0},f.timeout));g.getCurrentPosition(function(){l||(clearTimeout(k),k=void 0,d(null,g))},function(b){l||(clearTimeout(k),k=void 0,2===b.code&&0<b.message.indexOf("permission")?a.Qa.load("AMap.GeoRemoteLoc",function(){d(null,a.HM,h)}):d(null,g))});return h}})(X);(function(a){var b=a.W.extend({oa:[a.ca],B:function(){}});a.cm=new b})(X);(function(a){var b=a.W.extend({oa:[a.ca],B:function(){this.zQ()},zQ:function(){a.cm&&a.cm.e("vecTileParsed.buildings",this.jQ,this)},vJ:function(a){return a.map.wE},yI:function(a){return this.vJ(a)?a.map.tw:null},Z_:function(a,b){if(b){var f=b.map;f&&(f.tw?f.tw.toString():"")!==(a?a.toString():"")&&(f.tw=a||[],f.set("display",0))}},yL:function(a,b){if(b){var f=b.map;f&&f.wE!==a&&(f.wE=a,f.set("display",0))}},h2:function(){},rE:function(a,b){if(a)for(var f=0,g=a.length;f<g;f++)a[f]&&0>b.indexOf(a[f])&&
b.push(a[f])},kI:function(b){if(!b)return null;b=b.map.Aa;for(var d=0,f=b.length;d<f;d++)if(a.V.ug&&b[d]instanceof a.V.ug&&b[d].ra&&b[d].ra.length&&(-1!==b[d].ra.indexOf("building")||-1!==b[d].ra.indexOf("poilabel")))return b[d];return null},cX:function(a){if(a=this.kI(a)){if(a=a.Za.get("tiles",null,!0))a=a[0];else return null;if(!a||!a.length)return null;for(var b=[],f=0,g=a.length;f<g;f++){var h=a[f];h.Ef&&h.Ef.Hd&&this.rE(h.Ef.Hd,b)}return b}},jQ:function(a){if(a.Au&&a.Au.Ef&&(a=a.Au.Ef.Hd)){var b=
[];this.rE(a,b);this.l("vecTileParsed.builds.found",{pH:b})}}});a.Ie=new b})(X);(function(a){function b(){return{checkup:function(){var a=Array.prototype.slice.call(arguments,0);a.pop()(null,a)}}}function c(a){return{injectCode:function(b,c){var d=null,f=null;try{d=(new Function("self",b))(a)}catch(g){f=g.toString()}c(f,d)}}}function d(a){function b(c,d){function f(a,b,c){a={Qn:Date.now(),Mn:h,error:a,result:b};if(c)for(var g in c)c.hasOwnProperty(g)&&(a[g]=c[g]);d(a)}var g=c.uz,h=c.Mn,l=c.xy,m=c.yp,u=c.MU||[],r=a._wkHandlers[g];r?r[l]?m?r[l].apply(r,u.concat(f)):f(null,r[l].apply(r,
u)):f("Unknown cmd: "+l):f("Can not find handler for: "+g)}var c=[];a.Bs=function(a){c.push.apply(c,a)};a.addEventListener("message",function(d){function f(b){if(x){x.push(b);var d=!!b.dZ;d||t++;if(t>h)console.error("Resp len wrong!!");else if(b=t===h,d||b){d=1<x.length?{C_:x}:x[0];d.Qn=Date.now();d.h5=v;if(c.length){try{a.postMessage(d,c)}catch(g){a.postMessage(d),console.error(g)}c.length=0}else a.postMessage(d);x.length=0;b&&(f=x=null)}}else console.error("Seemed callback already sent!!")}var g=
d.data;d=g.z_||[g];for(var h=d.length,t=0,v=Date.now()-g.Qn,x=[],g=0;g<h;g++)b(d[g],f)},!1)}function f(d,h){this.G=a.extend({batchSend:!0,lazy:!1,libPolyfills:null},h);this.Lm=[];this.ro=this.G.clientId||"w"+g++;this.G.onReady&&this.nA(this.G.onReady);this.vr=this.zP();if("function"===typeof d){var m={};m[this.vr]=d;d=m}d[f.nz]=c;d[this.LD()]=b;this.Hr=d;this.SF();this.G.lazy||this.Tm();a.pt||!1===this.G.hostWorker||(a.pt=this)}var g=1,h=1;a.extend(f,{nz:"_g_",k0:function(a){if(!a.EN){var b=[];a.addEventListener("message",
function(a){a=a.data;a=a.C_||[a];for(var c=0,d=a.length;c<d;c++){var f=a[c],g;a:{g=f.Mn;for(var h=!!f.dZ,k=0,x=b.length;k<x;k++){var u=b[k];if(g===u.Mn){h||b.splice(k,1);g=u;break a}}g=void 0}g?g.yp.call(null,f.error,f.result,!0):console.warn("Receive worker msg: ",f)}},!1);a.sN=b;a.EN=!0}}});a.extend(f.prototype,{zP:function(){return"_def_"+this.ro},LD:function(){return"_cln_"+this.ro},bT:function(){var a=Array.prototype.slice.call(arguments,0);this.VF=a;if(this.Gm){for(var b=0,c=this.Gm.length;b<
c;b++)this.Gm[b].apply(null,a);this.Gm.length=0}},Bs:function(a){this.XS&&this.Lm.push.apply(this.Lm,a)},nA:function(a){this.VF?a.apply(null,this.VF):(this.Gm||(this.Gm=[]),this.Gm.push(a))},Tm:function(b){var c=this;if(!c.SC){c.SC=!0;var d=function(d,f){d&&a.j.BJ&&console.warn(d);c.bT.call(c,d,f);b&&b(d,f)};a.j.BJ?this.WS(function(a,b){b?this.HQ(b,function(a,c){a?d(a):(this.Yr(c),this.Vx=c,this.Lm.length=0,this.Or=null,d(null,{VU:b,w1:c}))}):d("Worker start failed!")}):d("Worker not supported!")}},
mJ:function(a,b,c){var d=this;a=a||d.vr;var g={};d.HC(a,b,g);d.Yr(null,g);d.nA(function(h){h?c(h):d.Vx?(h=d.RD(b,d.hw(d.ro,a)),d.Vx.sendMessage(f.nz+":injectCode",h,function(a,b){a||d.Yr(d.Vx,g);c(a,b)})):c("Worker msger missing!!")})},hw:function(a,b){if(!a||!b)throw Error("clientId or ns missing!!");return a+"_"+b},PP:function(a,b,c){function d(){var b=Array.prototype.slice.call(arguments,0);c.sendMessage.apply(c,[a].concat(b))}var f=this;if(!c)return function(){f.SC||"utilCall"===f.G.lazy&&f.Tm();
b.apply(this.Or,arguments)};d._proxy2Worker=!0;return d},SF:function(){this.Yr(null)},nO:function(a){var b={},c;for(c in a)a.hasOwnProperty(c)&&this.HC(c,a[c],b);return b},HC:function(a,b,c){b=b.call(null,!1);for(var d in b)b.hasOwnProperty(d)&&(c[a+":"+d]=b[d],a===this.vr&&(c[d]=b[d]))},Yr:function(a,b){b||(this.Or||(this.Or=this.nO(this.Hr)),b=this.Or);for(var c in b)if(b.hasOwnProperty(c)){var d=b[c];"function"===typeof d&&(this[c]=this.PP(c,d,a))}this.XS=!!a},RD:function(a,b){var c=a.toString(),
d,c=c.replace(/^function([^\(]*)\(/,function(){d="_prep_h"+h++;return"function "+d+"("});return d?c+';if(self._wkHandlers["'+b+'"]){ console.log(self._wkHandlers["'+b+'"]); throw new Error("'+b+' already exists!"); }self._wkHandlers["'+b+'"]='+d+".call(null,self)||{};"+d+"=null;":(console.error("No function match!!"),!1)},WS:function(a){var b=this.ro,c=[],d;for(d in this.Hr)if(this.Hr.hasOwnProperty(d)){var g=this.RD(this.Hr[d],this.hw(b,d));g&&c.push(g)}b=this.G.libPolyfills||[];d=0;for(g=b.length;d<
g;d++)b[d]="("+b[d].toString()+")(self);";var h=b.join(";\n")+";\n"+c.join(";\n"),c=this.G.hostWorker,s=this;c&&c!==s?c.nA(function(b,c){b?a.call(s,b):c.w1.sendMessage(f.nz+":injectCode",h,function(b){b?a.call(s,b):a.call(s,null,c.VU)})}):setTimeout(function(){a.call(s,null,s.XT(h))},0)},XT:function(a){var b={type:"text/javascript; charset=utf-8"};a="self._wkHandlers={};("+d.toString()+")(self);\n"+a;var c;try{var f=window.URL||window.webkitURL,g=f.createObjectURL(new Blob([a],b));c=new Worker(g);
setTimeout(function(){f.revokeObjectURL(g);g=null},3E3)}catch(h){console.error(h);return}return c},UO:function(b){var c=1,d=b.sN,f=this,g=!!f.G.batchSend;return function(h){var s=Array.prototype.slice.call(arguments,1),t="function"===typeof s[s.length-1]?s.pop():null,v=f.ro,x=h.split(":"),u=f.vr;1<x.length&&(h=x[1],u=x[0]);s={Qn:a.g.Ni(),uz:f.hw(v,u),yp:!!t,Mn:v+"_"+c++,xy:h,MU:s};t&&d.push({xy:s.xy,uz:s.uz,Qn:s.Qn,Mn:s.Mn,yp:t});g?f.WN(b,s):f.Em(b,s)}},Em:function(a,b){if(this.Lm.length){try{a.postMessage(b,
this.Lm)}catch(c){a.postMessage(b),console.error(c)}this.Lm.length=0}else a.postMessage(b)},WN:function(b,c){b.Tw||(b.Tw=[]);b.Tw.push(c);if(!b.QF){var d=this;b.QF=setTimeout(function(){b.QF=null;var c=b.Tw;c.length&&(d.Em(b,1===c.length?c[0]:{Qn:a.g.Ni(),z_:c}),c.length=0)},0)}},PT:function(a){var b=this;a.addEventListener("error",function(a){console.error(a);b.SF(null)},!1);f.k0(a)},HQ:function(a,b){var c=this;c.PT(a);var d=this.UO(a);if(f.GO)b.call(c,null,{sendMessage:d});else{f.GO=!0;var g=[c.LD()+
":checkup",Math.random().toFixed(5)+"",Math.round(1E3*Math.random()),!1,function(a,f){var h=!0;if(a||!f||f.length!==g.length-2)h=!1;else for(var k=0,x=f.length;k<x;k++)if(f[k]!==g[k+1]){h=!1;break}h?b.call(c,null,{sendMessage:d}):(console.error(a),b.call(c,"Self checkup failed!!"))}];d.apply(c,g)}}});a.ev=f})(X);X.f={get:function(a){return"string"===typeof a?document.getElementById(a):a},x4:function(a,b){var c=document.head||document.getElementsByTagName("head")[0];if(c){var d=document.createElement("link");d.setAttribute("rel","stylesheet");d.setAttribute("type","text/css");d.setAttribute("href",a);b?c.appendChild(d):c.insertBefore(d,c.firstChild)}else document.write("<link rel='stylesheet' href='"+a+"'/>")},Cc:function(a,b){var c=a.style[b];!c&&a.currentStyle&&(c=a.currentStyle[b]);c&&"auto"!==c||!document.defaultView||
(c=(c=document.defaultView.getComputedStyle(a,null))?c[b]:null);c&&"auto"!==c||"height"!==b||(c=a.clientHeight+"px");c&&"auto"!==c||"width"!==b||(c=a.clientWidth+"px");return"auto"===c?null:c},Sp:function(a){if(a)return new X.Yb(a.clientWidth||document.body.clientWidth,a.clientHeight||(X.j.ln?"CSS1Compat"===document.compatMode?document.documentElement.clientHeight:document.body.clientHeight:document.body.clientHeight),!0)},iX:function(a){return new X.Yb(a.clientWidth,a.clientHeight)},mz:function(a){var b=
0,c=0,d=a,f=document.body,g=document.documentElement,h,k=X.j.Yp;do{b+=d.offsetTop||0;c+=d.offsetLeft||0;b+=parseInt(X.f.Cc(d,"borderTopWidth"),10)||0;c+=parseInt(X.f.Cc(d,"borderLeftWidth"),10)||0;h=X.f.Cc(d,"position");if(d.offsetParent===f&&"absolute"===h)break;if("fixed"===h){b+=f.scrollTop||g.scrollTop||0;c+=f.scrollLeft||g.scrollLeft||0;break}d=d.offsetParent}while(d);d=a;do{if(d===f)break;b-=d.scrollTop||0;c-=d.scrollLeft||0;X.f.vW()||!X.j.q1&&!k||(c+=d.scrollWidth-d.clientWidth,k&&"hidden"!==
X.f.Cc(d,"overflow-y")&&"hidden"!==X.f.Cc(d,"overflow")&&(c+=17));d=d.parentNode}while(d);return new X.K(c,b)},vW:function(){X.f.dP||(X.f.dP=!0,X.f.cP="ltr"===X.f.Cc(document.body,"direction"));return X.f.cP},create:function(a,b,c){a=document.createElement(a);c&&(a.className=c);b&&b.appendChild(a);return a},RH:function(){document.selection&&document.selection.empty&&document.selection.empty();this.mS||(this.mS=document.onselectstart,document.onselectstart=X.g.hI)},$H:function(){},jn:function(a,b){if(a&&
b)return 0<a.className.length&&RegExp("(^|\\s)"+b+"(\\s|$)").test(a.className)},ob:function(a,b){a&&b&&!X.f.jn(a,b)&&(a.className+=(a.className?" ":"")+b)},vb:function(a,b){function c(a,c){return c===b?"":a}a&&b&&(a.className=a.className.replace(/(\S+)\s*/g,c).replace(/(^\s+|\s+$)/,""))},DI:function(a,b){return 1===b?"":"opacity"in a.style?"opacity:"+b:8<=document.documentMode?"-ms-filter:'progid:DXImageTransform.Microsoft.Alpha(opacity="+Math.ceil(100*b)+")'":"filter:alpha(opacity="+Math.ceil(100*
b)+")"},gk:function(a,b){if("opacity"in a.style)a.style.opacity=b;else if("filter"in a.style){a=a.childNodes.length?a.childNodes:[a];for(var c=Math.round(100*b),d=0;d<a.length;d+=1)a[d].childNodes&&a[d].childNodes.length?this.gk(a[d],b):a[d].style&&(a[d].style.filter="",100!==c&&(a[d].style.filter=" progid:DXImageTransform.Microsoft.Alpha(opacity="+c+")"))}},oB:function(a){for(var b=document.documentElement.style,c=0;c<a.length;c+=1)if(a[c]in b)return a[c];return!1},NI:function(a){var b=X.j.r1;return"translate"+
(b?"3d":"")+"("+a.x+"px,"+a.y+"px"+((b?",0":"")+")")},U3:function(a,b){return X.f.NI(b.add(b.sc(-1*a)))+(" scale("+a+") ")},p5:function(a,b,c){a.Ne=b;!c&&X.j.HU?(b=X.f.NI(b),c=a.style[X.f.Bd].split("rotate"),1<c.length?(c[0]=b,a.style[X.f.Bd]=c.join("rotate")):a.style[X.f.Bd]=b,X.j.SY&&(a.style.WebkitBackfaceVisibility="hidden")):(a.style.left=b.x+"px",a.style.top=b.y+"px")},Lc:function(a){a.Ne||(a.Ne=a.style.left?new X.K(parseInt(a.style.left),parseInt(a.style.top)):new X.K(0,0));return a.Ne},n5:function(a,
b){a=a instanceof Array?a:[a];for(var c=0;c<a.length;c+=1)a[c].style.cssText=b},vL:function(a,b){";"!==b[b.length-1]&&(b+=";");return b.toLowerCase()!==a.style.cssText.replace(/ /g,"").toLowerCase()?(a.style.cssText=b,!0):!1},ja:function(a,b){a=a instanceof Array?a:[a];for(var c=0;c<a.length;c+=1)for(var d in b)b.hasOwnProperty(d)&&(a[c].style[d]=b[d]);return this},UK:function(a){for(;a.childNodes.length;)a.removeChild(a.childNodes[0])},remove:function(a){a&&a.parentNode&&a.parentNode.removeChild(a)},
rotate:function(a,b,c){var d=X.f.Bd;c=c||{x:a.clientWidth/2,y:a.clientHeight/2};d?(a.style[d]=""+(" rotate("+b+"deg)"),a.style[X.f.kk[d]+"-origin"]=c.x+"px "+c.y+"px"):(d=Math.cos(b*Math.PI/180),b=Math.sin(b*Math.PI/180),a.style.filter="progid:DXImageTransform.Microsoft.Matrix()",0<a.filters.length&&(a=a.filters.item(0),a.I1=-c.x*d+c.y*b+c.x,a.J1=-c.x*b-c.y*d+c.y,a.M11=a.M22=d,a.M12=-(a.M21=b)))},MX:function(a,b,c){var d=X.f.Bd;c=c||{x:a.clientWidth/2,y:a.clientHeight/2};return d?X.f.kk[d]+":"+(""+
(" rotate("+b+"deg)"))+";"+(X.f.kk[d]+"-origin:"+c.x+"px "+c.y+"px"):""},di:function(a,b,c){a.width=b;a.height=c},getElementsByClassName:function(a,b,c){b=b||"*";c=c||document;if(c.getElementsByClassName)return c.getElementsByClassName(a);b=c.getElementsByTagName(b);a=RegExp("(^|\\s)"+a+"(\\s|$)");c=[];for(var d=0,f;d<b.length;d++)f=b[d],a.test(f.className)&&c.push(f);return c},fillText:function(a,b){if(a)return void 0!==a.textContent?a.textContent=b:void 0!==a.innerText?a.innerText=b:a.innerHTML=
b,a}};(function(){var a=X.f.oB(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]),b;X.extend(X.f,{RH:function(){X.r.e(window,"selectstart",X.r.preventDefault);if(a){var c=document.documentElement.style;"none"!==c[a]&&(b=c[a],c[a]="none")}},$H:function(){X.r.C(window,"selectstart",X.r.preventDefault);a&&"none"!==b&&(document.documentElement.style[a]=b,b="none")},pW:function(){X.r.e(window,"dragstart",X.r.preventDefault)},PW:function(){X.r.C(window,"dragstart",X.r.preventDefault)}})})();
X.f.Bd=X.f.oB(["WebkitTransform","OTransform","MozTransform","msTransform","transform"]);X.f.kk={transform:"transform",WebkitTransform:"-webkit-transform",OTransform:"-o-transform",MozTransform:"-moz-transform",msTransform:"-ms-transform"};X.f.cv=X.f.oB(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);X.f.U1="webkitTransition"===X.f.cv||"OTransition"===X.f.cv?X.f.cv+"End":"transitionend";X.r={e:function(a,b,c,d){function f(b){b=b||window.event;b.target=b.target||b.srcElement;return c.call(d||a,b,k)}var g=X.g.zb(a)+"_"+X.g.zb(c)+"_"+X.g.zb(d||a),h=b+g;if(a[h])return this;var k=b;X.j.lI&&"mousewheel"===b&&(b="DOMMouseScroll");if(X.j.ln&&("mouseover"===b||"mouseout"===b)){var l=f;b="mouseover"===b?"mouseenter":"mouseleave";f=function(a){l(a)}}if(X.j.MK&&0===b.indexOf("touch"))return a[h]=f,this.zU(a,b,f,g);X.j.ed&&"dblclick"===b&&this.xU&&this.xU(a,f,g);"addEventListener"in a?a.addEventListener(b,
f,!1):"attachEvent"in a?a.attachEvent("on"+b,f):a["on"+b]=f;a[h]=f;return this},ak:function(a,b,c,d){var f=this;this.e(a,b,function h(k){f.C(a,b,h,d);return c.call(d||a,k||window.event,b)},d)},C:function(a,b,c,d){c=X.g.zb(a)+"_"+X.g.zb(c)+"_"+X.g.zb(d||a);d=b+c;var f=a[d];X.j.lI&&"mousewheel"===b&&(b="DOMMouseScroll");!X.j.ln||"mouseover"!==b&&"mouseout"!==b||(b="mouseover"===b?"mouseenter":"mouseleave");X.j.MK&&-1<b.indexOf("touch")?this.f_(a,b,c):X.j.ed&&"dblclick"===b&&this.c_?this.c_(a,c):"removeEventListener"in
a?a.removeEventListener(b,f,!1):"detachEvent"in a&&-1===b.indexOf("touch")?f&&a.detachEvent("on"+b,f):a["on"+b]=null;a[d]=null;return this},r5:function(a,b){var c=document.createEvent("MouseEvents");c.initMouseEvent(a,!0,!0,window,1,b.screenX,b.screenY,b.clientX,b.clientY,!1,!1,!1,!1,0,null);b.target.dispatchEvent(c)},stopPropagation:function(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0;return this},u0:function(a){var b=X.r.stopPropagation;X.j.ed&&(X.r.e(a,"touchstart",b,this),X.r.e(a,
"touchmove",b,this),X.r.e(a,"touchend",b,this));X.j.U||(X.r.e(a,"mousedown",b,this),X.r.e(a,"mouseup",b,this),X.r.e(a,"mousemove",b,this));X.j.LK&&(X.r.e(a,"pointerdown",b,this),X.r.e(a,"pointerup",b,this),X.r.e(a,"pointermove",b,this));X.j.YY&&(X.r.e(a,"MSPointerDown",b,this),X.r.e(a,"MSPointerUp",b,this),X.r.e(a,"MSPointerMove",b,this))},preventDefault:function(a){a.preventDefault?a.preventDefault():a.returnValue=!1;return this},stop:function(a){return X.r.preventDefault(a).stopPropagation(a)},
T_:function(a){return a&&a.getBoundingClientRect?(a.fv=a.getBoundingClientRect(),a.uC=[a.clientLeft,a.clientTop],!0):!1},W0:function(a){a.fv&&(a.fv=null,a.uC=null)},SW:function(a,b){var c=b.fv||b.getBoundingClientRect(),d=b.uC||[b.clientLeft,b.clientTop];return new X.K(a.clientX-c.left-d[0],a.clientY-c.top-d[1])},gg:function(a,b){if(b&&b.getBoundingClientRect)return this.SW(a,b);var c=document.body,d=document.documentElement,c=new X.K(X.j.ed?a.pageX:a.clientX+(c.scrollLeft||d.scrollLeft),X.j.ed?a.pageY:
a.clientY+(c.scrollTop||d.scrollTop));return b?c.Ja(X.f.mz(b)):c},yJ:function(a){return 1===a.which||0===a.button||1===a.button}};X.extend(X.r,{Sw:[],XE:!1,zU:function(a,b,c,d){switch(b){case "touchstart":return this.CU(a,b,c,d);case "touchend":return this.AU(a,b,c,d);case "touchmove":return this.BU(a,b,c,d)}},Nh:function(a){if(X.j.LK)return a;switch(a){case "pointerdown":return"MSPointerDown";case "pointerup":return"MSPointerUp";case "pointercancel":return"MSPointerCancel";case "pointermove":return"MSPointerMove"}},CU:function(a,b,c,d){function f(a){for(var b=!1,d=0;d<g.length;d+=1)if(g[d].pointerId===a.pointerId){b=!0;break}b||
g.push(a);a.touches=g.slice();a.changedTouches=[a];c(a)}var g=this.Sw;a["_amap_touchstart"+d]=f;a.addEventListener(this.Nh("pointerdown"),f,!1);this.XE||(a=function(a){for(var b=0;b<g.length;b+=1)if(g[b].pointerId===a.pointerId){g.splice(b,1);break}},document.documentElement.addEventListener(this.Nh("pointerup"),a,!1),document.documentElement.addEventListener(this.Nh("pointercancel"),a,!1),this.XE=!0);return this},BU:function(a,b,c,d){function f(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE||0!==a.buttons){for(var b=
0;b<g.length;b+=1)if(g[b].pointerId===a.pointerId){g[b]=a;break}a.touches=g.slice();a.changedTouches=[a];c(a)}}var g=this.Sw;a["_amap_touchmove"+d]=f;a.addEventListener(this.Nh("pointermove"),f,!1);return this},AU:function(a,b,c,d){function f(a){for(var b=0;b<g.length;b+=1)if(g[b].pointerId===a.pointerId){g.splice(b,1);break}a.touches=g.slice();a.changedTouches=[a];c(a)}var g=this.Sw;a["_amap_touchend"+d]=f;a.addEventListener(this.Nh("pointerup"),f,!1);a.addEventListener(this.Nh("pointercancel"),
f,!1);return this},f_:function(a,b,c){c=a["_amap_"+b+c];switch(b){case "touchstart":a.removeEventListener(this.Nh("pointerdown"),c,!1);break;case "touchmove":a.removeEventListener(this.Nh("pointermove"),c,!1);break;case "touchend":a.removeEventListener(this.Nh("pointerup"),c,!1),a.removeEventListener(this.Nh("pointercancel"),c,!1)}return this}});(function(){function a(a){var b=a.target||a.srcElement;b.CC&&g(b.CC);b.CC=f(function(){var c=b.ni;if(c&&c.mi)for(var d=0;d<c.mi.length;d+=1)c.mi[d].call(c,a)})}function b(){var b=this.contentDocument.defaultView;b.ni=this.CN;b.addEventListener("resize",a);a.call(b,{target:b})}var c=document.attachEvent,d=navigator.userAgent.match(/(Trident|Edge)/),f=X.g.Ee,g=X.g.bl;X.extend(X.r,{EU:function(f,g){if(!f.mi)if(f.mi=[],c)f.ni=f,f.attachEvent("onresize",a);else{"static"===window.getComputedStyle(f).position&&
(f.style.position="relative");var l=f.ni=document.createElement("object");l.setAttribute("style","display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;");l.CN=f;l.onload=b;l.type="text/html";d&&f.appendChild(l);l.data="about:blank";d||f.appendChild(l)}f.mi.push(g)},Z4:function(b,d){b.mi.splice(b.mi.indexOf(d),1);b.mi.length||(c?b.detachEvent("onresize",a):(b.ni.contentDocument.defaultView.removeEventListener("resize",a),
b.ni=!b.removeChild(b.ni)))},GV:function(a){a.mi=null;if(a.ni){var b=a.ni;b.parentNode===a&&b.parentNode.removeChild(b);a.ni=null}}})})();X.Qa={TY:X.k.mb+"/maps",an:X.W.an,Xz:0,An:[],hl:{},bf:function(a,b){function c(){d+=1;d===f.length&&b&&b()}a.length||b();for(var d=0,f=[],g=0;g<a.length;g+=1){var h=this.an[a[g]];if(h)for(var k=0;k<h.length;k+=1)f.push(h[k]);f.push(a[g])}for(g=0;g<f.length;g+=1)this.Py(f[g],c)},zJ:function(a){for(var b=0;b<a.length;b+=1)if(1!==this.Ys(a[b]).status)return!1;return!0},Py:function(a,b){var c=this.Ys(a);if(1===c.status)b&&b();else{b&&c.Um.push(b);try{if(X.j.Ft&&window.localStorage){var d=window.localStorage["_AMap_"+
a];d&&(d=JSON.parse(d),d.version===X.k.gi?(window._jsload_(a,d.script,!0),d.css&&window._cssload_(a,d.css,!0)):window.localStorage.removeItem("_AMap_"+a))}}catch(f){}if(0===c.status){this.VZ(a);var g=this;g.Xz||(g.Xz=1,window.setTimeout(function(){g.Xz=0;var a=g.TY+"/modules?v="+X.k.Tx+"&key="+X.k.key+"&m="+g.An.join(",")+"&vrs="+X.k.gi;X.Qa.PO(g.An.join(","));g.An=[];c.ou=g.EY(a)},1));c.status=-1}}},PO:function(a){new X.na.ya(X.k.gc+"/v3/log/init?"+["s=rsv3&product=JsModule&key="+X.k.key,"m="+a].join("&"),
{callback:"callback"})},load:function(a,b){var c=this.an[a];if(c){for(var d=[],f=0;f<c.length;f+=1)d.push(c[f]);d.push(a);for(var g=0,c=function(){g+=1;g===d.length&&b&&b()},f=0;f<d.length;f+=1)this.Py(d[f],c)}else this.Py(a,b)},VZ:function(a){for(var b=0;b<this.An.length;b+=1)if(this.An[b]===a)return;this.An.push(a)},Nl:function(a,b){var c=this.Ys(a);try{eval(b)}catch(d){return}c.status=1;for(var f=0,g=c.Um.length;f<g;f+=1)c.Um[f]();c.Um=[]},W2:function(a,b){var c=this;c.timeout=setTimeout(function(){1!==
c.hl[a].status?(c.remove(a),c.load(a,b)):clearTimeout(c.timeout)},5E3)},Ys:function(a){this.hl[a]||(this.hl[a]={},this.hl[a].status=0,this.hl[a].Um=[]);return this.hl[a]},remove:function(a){this.hl[a]=null},EY:function(a){X.k.mode&&(a+="&mode="+X.k.mode);var b=document.createElement("script");b.charset="utf-8";b.src=a;document.body.appendChild(b);return b}};
window._jsload_=function(a,b,c){var d=X.Qa.Ys(a);d.ou&&X.g.indexOf(document.body.childNodes,d.ou)&&document.body.removeChild(d.ou);d.ou=null;try{if(!c&&window.localStorage&&b&&""!==b&&X.j.Ft){var f=window.localStorage["_AMap_"+a],f=f||"{}",f=JSON.parse(f);f.version!==X.k.gi||f.script?window.localStorage.setItem("_AMap_"+a,JSON.stringify({script:b,version:X.k.gi})):window.localStorage.setItem("_AMap_"+a,JSON.stringify({script:b,css:f.css,version:X.k.gi}))}}catch(g){}X.Qa.Nl(a,b)};
window._cssload_=function(a,b,c){try{!c&&window.localStorage&&b&&""!==b&&X.j.Ft&&window.localStorage.setItem("_AMap_"+a,JSON.stringify({css:b,version:X.k.gi}))}catch(d){}var f=document.createElement("style");f.type="text/css";-1===X.k.mb.indexOf("webapi.amap.com")&&(b=b.replace(eval("/webapi.amap.com/gi"),X.k.mb.split("://")[1]));"https"===X.k.zc&&(b=b.replace(eval("/http:/gi"),"https:"));f.styleSheet?(a=function(){try{f.styleSheet.cssText=b}catch(a){}},f.styleSheet.disabled?setTimeout(a,10):a()):
f.appendChild(document.createTextNode(b));a=document.head||document.getElementsByTagName("head")[0];2>a.childNodes.length?a.appendChild(f):a.insertBefore(f,a.childNodes[1])};X.O=X.W.extend({B:function(a,b,c){var d=parseFloat(b),f=parseFloat(a);if(isNaN(a)||isNaN(b))throw"Invalid Object: LngLat("+f+", "+d+")";!0!==c&&(d=Math.max(Math.min(d,90),-90),f=(f+180)%360+(-180>f||180===f?180:-180));this.M=d;this.I=f},CI:function(){return X.g.Wg(this.I,6)},AI:function(){return X.g.Wg(this.M,6)},add:function(a,b){return new X.O(this.I+a.I,this.M+a.M,b)},Ja:function(a,b){return new X.O(this.I-a.I,this.M-a.M,b)},Gb:function(a,b){return new X.O(this.I/a,this.M/a,b)},sc:function(a,b){return new X.O(this.I*
a,this.M*a,b)},xe:function(a){a=X.g.ha(a);if(a instanceof X.O){var b=Math.PI/180,c=Math.sin((a.M-this.M)*b/2),d=Math.sin((a.I-this.I)*b/2);a=c*c+d*d*Math.cos(this.M*b)*Math.cos(a.M*b);return 12756274*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))}if(a instanceof Array)return this.qW(a)},qW:function(a){a=X.g.ha(a);for(var b=Infinity,c=0,d=1,f=a.length;d<f;c=d,d+=1)c=X.cj.CH([this.I,this.M],[[a[c].I,a[c].M],[a[d].I,a[d].M]]),b=Math.min(b,this.xe(new X.O(c[0],c[1])));return b},offset:function(a,b){if(isNaN(a)||
isNaN(b))return!1;var c=2*Math.asin(Math.sin(Math.round(a)/12756274)/Math.cos(this.M*Math.PI/180)),c=this.I+180*c/Math.PI,d=2*Math.asin(Math.round(b)/12756274);return new X.O(c,this.M+180*d/Math.PI)},Hb:function(a){a=X.g.ha(a);return a instanceof X.O?1E-9>=Math.max(Math.abs(this.M-a.M),Math.abs(this.I-a.I)):!1},toString:function(){return X.g.Wg(this.I,6)+","+X.g.Wg(this.M,6)},Tb:function(){return new X.O(this.I,this.M)}});
X.O.BX=function(a,b,c){c=c+1||Math.round(Math.abs(a.I-b.I));if(!c||0.001>Math.abs(a.I-b.I))return[];var d=[],f=X.RB.kW,g=X.RB.XZ,h=Math.asin,k=Math.sqrt,l=Math.sin,m=Math.pow,n=Math.cos,p=Math.atan2,q=a.M*f;a=a.I*f;var s=b.M*f;b=b.I*f;for(var h=2*h(k(m(l((q-s)/2),2)+n(q)*n(s)*m(l((a-b)/2),2))),t,v,x,u,f=1;f<c;f+=1)t=1/c*f,v=l((1-t)*h)/l(h),x=l(t*h)/l(h),t=v*n(q)*n(a)+x*n(s)*n(b),u=v*n(q)*l(a)+x*n(s)*l(b),v=v*l(q)+x*l(s),v=p(v,k(m(t,2)+m(u,2))),t=p(u,t),d.push(new X.O(t*g,v*g));return d};
X.O.cn({CI:"getLng",AI:"getLat",add:"add",Ja:"subtract",Gb:"divideBy",sc:"multiplyBy",xe:"distance",offset:"offset",Hb:"equals",toString:"toString"});X.Qc=X.W.extend({B:function(){if(2===arguments.length)this.hb=X.g.ha(arguments[0]),this.ab=X.g.ha(arguments[1]);else if(4===arguments.length)this.hb=new X.O(arguments[0],arguments[1]),this.ab=new X.O(arguments[2],arguments[3]);else throw"Invalid Object: Bounds("+arguments.join(",")+")";},Rp:function(){return this.hb},Pp:function(){return this.ab},Zg:function(){return new X.O(this.hb.I,this.ab.M,!0)},Pj:function(){return new X.O(this.ab.I,this.hb.M,!0)},contains:function(a){var b=this.hb,c=this.ab,
d;a instanceof X.Qc?(d=a.hb,a=a.ab):d=a=X.g.ha(a);var f=d.I,g=b.I,h=a.I,k=c.I;g>k&&(k+=360,0>f&&(f+=360),0>h&&(h+=360));return d.M>=b.M&&a.M<=c.M&&f>=g&&h<=k},Ld:function(a){var b=this.hb,c=this.ab,d=a.hb;a=a.ab;var f=a.I>=b.I&&d.I<=c.I;return a.M>=b.M&&d.M<=c.M&&f},Ye:function(){return new X.O(this.hb.I>this.ab.I?(this.hb.I+this.ab.I+360)/2%360:(this.hb.I+this.ab.I)/2,(this.hb.M+this.ab.M)/2)},extend:function(a){this.hb.I=Math.min(this.hb.I,a.I);this.hb.M=Math.min(this.hb.M,a.M);this.ab.I=Math.max(this.ab.I,
a.I);this.ab.M=Math.max(this.ab.M,a.M);return this},V0:function(a){return this.extend(a.hb).extend(a.ab)},toString:function(){return this.hb.toString()+";"+this.ab.toString()},Tb:function(){return new X.Qc(this.hb.Tb(),this.ab.Tb())},Hb:function(a){return a instanceof X.Qc?this.hb.Hb(a.hb)&&this.ab.Hb(a.ab):!1},Ae:function(){return Math.abs(this.ab.I-this.hb.I)},ye:function(){return Math.abs(this.hb.M-this.ab.M)}});
X.Qc.cn({Rp:"getSouthWest",Pp:"getNorthEast",Zg:"getNorthWest",Pj:"getSouthEast",contains:"contains",Ld:"intersects",Ye:"getCenter"});X.K=X.W.extend({B:function(a,b,c){if(isNaN(a)||isNaN(b))throw"Invalid Object: Pixel("+a+", "+b+")";this.x=c?Math.round(a):Number(a);this.y=c?Math.round(b):Number(b)},Sc:function(){return this.x},wc:function(){return this.y},add:function(a,b){return new X.K(this.x+a.x,this.y+a.y,b)},Ja:function(a,b){return new X.K(this.x-a.x,this.y-a.y,b)},Gb:function(a,b){return new X.K(this.x/a,this.y/a,b)},sc:function(a,b){return new X.K(this.x*a,this.y*a,b)},xe:function(a){var b=a.x-this.x;a=a.y-this.y;return Math.sqrt(b*
b+a*a)},floor:function(){return new X.K(Math.floor(this.x),Math.floor(this.y))},round:function(){return new X.K(this.x,this.y,!0)},Hb:function(a){return a instanceof X.K&&this.x===a.x&&this.y===a.y},Tb:function(){return new X.K(this.x,this.y)},toString:function(){return this.x+","+this.y}});X.K.cn({Sc:"getX",wc:"getY",add:"add",Ja:"subtract",Gb:"divideBy",sc:"multiplyBy",xe:"distance",Hb:"equals",toString:"toString"});X.Yb=X.W.extend({B:function(a,b,c){if(isNaN(a)||isNaN(b))throw"Invalid Object: Size("+a+", "+b+")";this.width=c?Math.round(a):Number(a);this.height=c?Math.round(b):Number(b)},Ae:function(){return this.width},ye:function(){return this.height},Rn:function(){return new X.K(this.Ae(),this.ye())},contains:function(a){return Math.abs(a.x)<=Math.abs(this.width)&&Math.abs(a.y)<=Math.abs(this.height)},Hb:function(a){return a instanceof X.Yb&&this.width===a.width&&this.height===a.height},toString:function(){return this.Ae()+
","+this.ye()}});X.Yb.cn({Ae:"getWidth",ye:"getHeight",toString:"toString"});X.Td=X.W.extend({B:function(){if(2===arguments.length)this.$a=arguments[0],this.Wb=arguments[1];else if(1===arguments.length&&arguments[0]instanceof Array||4===arguments.length){var a=arguments[0]instanceof Array?arguments[0]:arguments;this.$a=new X.K(a[0],a[1]);this.Wb=new X.K(a[2],a[3])}else throw"Invalid Object: PixelBounds("+arguments.join(",")+")";},Ye:function(a){return new X.K((this.$a.x+this.Wb.x)/2,(this.$a.y+this.Wb.y)/2,a)},contains:function(a){var b;a instanceof X.Td?(b=a.$a,a=a.Wb):b=
a;return b.x>this.$a.x&&a.x<this.Wb.x&&b.y>this.$a.y&&a.y<this.Wb.y},Ae:function(){return this.Wb.x-this.$a.x},ye:function(){return this.Wb.y-this.$a.y},Ld:function(a,b){b||0===b||(b=20);var c=this.$a,d=this.Wb,f=a.$a,g=a.Wb,h=g.y>=c.y-b&&f.y<=d.y+b;return g.x>=c.x-b&&f.x<=d.x+b&&h},toString:function(){return this.$a+";"+this.Wb},Tb:function(){return new X.Td(this.$a.Tb(),this.Wb.Tb())}});X.q={};X.q.hH=function(a){for(var b=[Infinity,Infinity,-Infinity,-Infinity],c=0,d=a.length;c<d;c+=1)X.q.eI(b,a[c]);return b};X.q.iH=function(a,b,c){var d=Math.min.apply(null,a);a=Math.max.apply(null,a);var f=Math.min.apply(null,b);b=Math.max.apply(null,b);return X.q.$V(d,a,f,b,c)};X.q.buffer=function(a,b){a[0]-=b;a[1]-=b;a[2]+=b;a[3]+=b};X.q.Tb=function(a){return a.slice()};X.q.lf=function(a,b){return a[0]<=b[0]&&b[0]<=a[2]&&a[1]<=b[1]&&b[1]<=a[3]};
X.q.FH=function(a,b){return a[0]<=b[0]&&b[2]<=a[2]&&a[1]<=b[1]&&b[3]<=a[3]};X.q.i3=function(){return[Infinity,Infinity,-Infinity,-Infinity]};X.q.$V=function(a,b,c,d,f){return"undefined"!==typeof f?(f[0]=a,f[2]=b,f[1]=c,f[3]=d,f):[a,c,b,d]};X.q.empty=function(a){a[0]=a[1]=Infinity;a[2]=a[3]=-Infinity;return a};X.q.Hb=function(a,b){return a[0]===b[0]&&a[2]===b[2]&&a[1]===b[1]&&a[3]===b[3]};
X.q.extend=function(a,b){b[0]<a[0]&&(a[0]=b[0]);b[2]>a[2]&&(a[2]=b[2]);b[1]<a[1]&&(a[1]=b[1]);b[3]>a[3]&&(a[3]=b[3])};X.q.eI=function(a,b){b[0]<a[0]&&(a[0]=b[0]);b[0]>a[2]&&(a[2]=b[0]);b[1]<a[1]&&(a[1]=b[1]);b[1]>a[3]&&(a[3]=b[1])};X.q.C3=function(a){return[a[0],a[1]]};X.q.D3=function(a){return[a[2],a[1]]};X.q.Ye=function(a){return[(a[0]+a[2])/2,(a[1]+a[3])/2]};
X.q.K3=function(a,b,c,d,f){var g=b*d[0]/2;d=b*d[1]/2;b=Math.cos(c);c=Math.sin(c);g=[-g,-g,g,g];d=[-d,d,-d,d];var h,k,l;for(h=0;4>h;h+=1)k=g[h],l=d[h],g[h]=a[0]+k*b-l*c,d[h]=a[1]+k*c+l*b;return X.q.iH(g,d,f)};X.q.ye=function(a){return a[3]-a[1]};X.q.V3=function(a){return[a[2]-a[0],a[3]-a[1]]};X.q.a4=function(a){return[a[0],a[3]]};X.q.b4=function(a){return[a[2],a[3]]};X.q.Ae=function(a){return a[2]-a[0]};X.q.Ld=function(a,b){return a[0]<=b[2]&&a[2]>=b[0]&&a[1]<=b[3]&&a[3]>=b[1]};
X.q.cq=function(a){return a[2]<a[0]||a[3]<a[1]};X.q.normalize=function(a,b){return[(b[0]-a[0])/(a[2]-a[0]),(b[1]-a[1])/(a[3]-a[1])]};X.q.j5=function(a,b){var c=(a[2]-a[0])/2*(b-1),d=(a[3]-a[1])/2*(b-1);a[0]-=c;a[2]+=c;a[1]-=d;a[3]+=d};X.q.touches=function(a,b){return X.q.Ld(a,b)&&(a[0]===b[2]||a[2]===b[0]||a[1]===b[3]||a[3]===b[1])};X.q.transform=function(a,b,c){a=[a[0],a[1],a[0],a[3],a[2],a[1],a[2],a[3]];b(a,a,2);return X.q.iH([a[0],a[2],a[4],a[6]],[a[1],a[3],a[5],a[7]],c)};X.Qc.Mc({B:function(){var a=X.Qc.prototype.B;return function(){a.apply(this,arguments);this.southwest=this.hb;this.northeast=this.ab}}(),extend:function(){var a=X.Qc.prototype.extend;return function(){a.apply(this,arguments);this.hb.lng=this.hb.I;this.hb.lat=this.hb.M;this.ab.lng=this.ab.I;this.ab.lat=this.ab.M;return this}}()});X.O.Mc({B:function(){var a=X.O.prototype.B;return function(){a.apply(this,arguments);this.lng=parseFloat(this.I.toFixed(6));this.lat=parseFloat(this.M.toFixed(6))}}()});X.er=X.W.extend({B:function(a,b,c,d){this.EC=a;this.OC=b;this.UC=c;this.oD=d},transform:function(a,b){return this.EG(a.Tb(),b)},EG:function(a,b){b=b||1;a.x=b*(this.EC*a.x+this.OC);a.y=b*(this.UC*a.y+this.oD);return a},X0:function(a,b){b=b||1;return new X.K((a.x/b-this.OC)/this.EC,(a.y/b-this.oD)/this.UC)}});X.li=X.W.extend({B:function(a){this.Tu=a.MAX_LATITUDE||85.0511287798;a.project&&a.unproject&&(this.pb=a.project,this.yf=a.unproject)}});X.li.gC={pb:function(a){return new X.K(a.I,a.M)},yf:function(a,b){return new X.O(a.x,a.y,b)}};
X.li.eN=new X.li({MAX_LATITUDE:85.0511287798,project:function(a){var b=Math.PI/180,c=this.Tu,c=Math.max(Math.min(c,a.M),-c);a=a.I*b;b=Math.log(Math.tan(Math.PI/4+c*b/2));return new X.K(a,b,!1)},unproject:function(a,b){var c=180/Math.PI;return new X.O(a.x*c,(2*Math.atan(Math.exp(a.y))-Math.PI/2)*c,b)}});
X.li.hC={Tu:85.0840591556,Zu:6356752.3142,Yu:6378137,pb:function(a){var b=Math.PI/180,c=this.Tu,d=Math.max(Math.min(c,a.M),-c),f=this.Yu,c=this.Zu;a=a.I*b*f;b*=d;f=c/f;f=Math.sqrt(1-f*f);d=f*Math.sin(b);d=Math.pow((1-d)/(1+d),0.5*f);b=-c*Math.log(Math.tan(0.5*(0.5*Math.PI-b))/d);return new X.K(a,b)},yf:function(a,b){for(var c=180/Math.PI,d=this.Yu,f=this.Zu,g=a.x*c/d,d=f/d,d=Math.sqrt(1-d*d),f=Math.exp(-a.y/f),h=Math.PI/2-2*Math.atan(f),k=15,l=0.1;1E-7<Math.abs(l)&&(k-=1,0<k);)l=d*Math.sin(h),l=Math.PI/
2-2*Math.atan(f*Math.pow((1-l)/(1+l),0.5*d))-h,h+=l;return new X.O(g,h*c,b)}};X.Wf={};X.Wf.Tq={Et:function(a,b){var c=this.Qd.pb(a),d=this.scale(b);return this.Kq.EG(c,d)},GA:function(a,b,c){b=this.scale(b);a=this.Kq.X0(a,b);return this.Qd.yf(a,c)},pb:function(a){return this.Qd.pb(a)},scale:function(a){return 256*Math.pow(2,a)},Oh:function(a){return 12756274*Math.PI/(256*Math.pow(2,a))}};X.Wf.DM=X.extend({},X.Wf.Tq,{code:"EPSG:3857",Qd:X.li.eN,Kq:new X.er(0.5/Math.PI,0.5,-0.5/Math.PI,0.5),pb:function(a){return this.Qd.pb(a).sc(6378137)}});
X.Wf.CM=X.extend({},X.Wf.Tq,{code:"EPSG:3395",Qd:X.li.hC,Kq:function(){var a=X.li.hC;return new X.er(0.5/(Math.PI*a.Yu),0.5,-0.5/(Math.PI*a.Zu),0.5)}()});X.Wf.EM=X.extend({},X.Wf.Tq,{code:"EPSG:4326",Qd:X.li.gC,Kq:new X.er(1/360,0.5,-1/360,0.25)});X.Wf.S1=X.extend({},X.Wf.Tq,{Qd:X.li.gC,Kq:new X.er(1,0,1,0)});X.TJ={pb:function(a,b){a=X.g.ha(a);return(this.Zm||this.get("crs")).Et(a,b||this.get("zoom"))},yf:function(a,b,c){return(this.Zm||this.get("crs")).GA(a,b||this.get("zoom"),c)},v4:function(a,b){return this.pb(a,b)},B3:function(a,b){return this.yf(a,b)},Sz:function(a,b){var c=this.Ub(a,b);return this.Ji(c,b)},Gj:function(a,b){var c=this.get("size").Rn().Gb(2);if(a.Hb(c))return this.get("center");c=this.Us(a,b);return this.Se(c,b)},Se:function(a,b){return this.yf(a.Gb(this.get("resolution",b)),b)},Ub:function(a,
b,c){a=X.g.ha(a);return this.pb(a,b).sc(c||this.get("resolution",b))},G3:function(a){return a?this.pb(this.get("center"),a):this.get("centerPixel")},A3:function(a,b){return this.Ji(a.sc(this.get("resolution",b)),b)},f3:function(a,b){return this.Us(a,b).Gb(this.get("resolution"))},Us:function(a,b){var c=this.get("size").Rn().Gb(2),d=a.Ja(c),f=(this.get("rotateEnable")?this.get("rotation"):0)*Math.PI/180,c=d.x*Math.cos(f)+Math.sin(f)*d.y,d=-Math.sin(f)*d.x+Math.cos(f)*d.y,c=this.get("centerCoords").add((new X.K(c,
d)).sc(this.get("resolution",b)));c.x=(c.x+4.00750166855784E7)%4.00750166855784E7;return c},Ji:function(a,b){a=a.Tb();var c=this.Se(a),d=this.get("center");-180>d.I-c.I?a.x-=X.g.Ua:180<d.I-c.I&&(a.x+=X.g.Ua);var c=this.get("centerCoords"),c=a.Ja(c).Gb(this.get("resolution",b)),d=this.get("size").Rn().Gb(2),f=(this.get("rotateEnable")?this.get("rotation"):0)*Math.PI/180;return d.add(new X.K(c.x*Math.cos(f)-Math.sin(f)*c.y,Math.sin(f)*c.x+Math.cos(f)*c.y))}};var rc=X.W.extend({oa:[X.ca,X.gd],G:{center:new X.O(116.397128,39.916527),zoom:13,rotation:0,crs:"EPSG3857"},B:function(a){this.CLASS_NAME="AMap.View2D";X.a.Sa("AMap.View2D",a);a=a||{};a.center&&(a.center=X.g.ha(a.center));this.AK=a;a=this.KH(a.crs||"EPSG3857");this.set("crs",a)},gX:function(a){var b=this.map.getSize(),c=new X.O(a[4],a[5]);if((a=new X.Qc(a[0],a[1],a[2],a[3]))&&b&&c){for(var d=this.map.get("zooms"),f=d[1];f>d[0];f-=1){var g=this.map.pb(a.hb,f),h=this.map.pb(a.ab,f);if(Math.abs(h.x-
g.x)<b.width&&Math.abs(g.y-h.y)<b.height)break}return[c,f]}return null},$c:function(){var a=this.AK;if(!(a&&a.center&&a.zoom)){var b=this.gX(X.k.md);a.center=a.center||b&&b[0];"[object Number]"!==Object.prototype.toString.call(a.zoom)&&(a.zoom=b&&b[1])}a.zoom=Math.round(a.zoom);X.g.bb(this,a);X.j.pd&&(this.G.rotation=0);this.G.crs=this.KH(this.G.crs||"EPSG3857");this.je(this.G);this.AK=null},getRotation:function(){return this.map&&this.map.get("rotateEnable")?this.get("rotation",null,!0)||0:0},KH:function(a){if(this.G.center instanceof
X.O){if("string"===typeof a){switch(a){case "EPSG3395":return X.Wf.CM;case "EPSG4326":return X.Wf.EM}return X.Wf.DM}if(a.pointToLngLat&&a.lngLatToPoint)return{GA:a.pointToLngLat,Et:a.lngLatToPoint,Oh:a.getResolution};throw"illegal projection";}var b=this.get("zoom");return{Oh:function(a){return Math.pow(2,b-a)},Et:function(){},GA:function(){}}},getCenterPixel:function(){return this.get("crs").Et(this.get("center"),this.get("zoom"))},getCenterCoords:function(){return this.map.Ub(this.get("center"))},
centerCoordsChanged:function(){var a=this.get("centerCoords");this.get("center")instanceof X.O?this.set("center",this.map.Se(a),!0):this.set("center",a,!0)},getResolution:function(a){return this.get("crs").Oh(a||this.get("zoom"))}});var zc=X.W.extend({oa:[X.ca,X.gd,X.TJ],G:{features:"all",dragEnable:!0,showIndoorMap:X.j.U?!1:!0,lang:"zh_cn",keyboardEnable:!0,doubleClickZoom:!0,"3rdpartyDataEnable":!1,scrollWheel:!0,zoomEnable:!0,jogEnable:!0,continuousZoomEnable:!0,resizeEnable:!1,animateEnable:!0,rotateEnable:!1,labelzIndex:99,touchZoom:!0,zooms:[3,X.j.U?X.j.Jc?19:20:18],defaultCursor:"url("+X.k.mb+"/theme/v1.3/openhand.cur),default",limitBounds:null,logoUrl:X.k.mb+"/theme/v1.3/autonavi.png",logoUrlRetina:X.k.mb+"/theme/v1.3/mapinfo_05.png",
copyright:"\x3c!--v1.3.24--\x3e &copy "+(new Date).getFullYear()+" AutoNavi ",isHotspot:!X.j.U,baseRender:X.j.TU,overlayRender:X.j.vZ,mapStyle:"normal",showBuildingBlock:!X.j.U},poiOnAMAP:function(a){X.a.add(this.CLASS_NAME,"poiOnAMAP");var b={},c=X.g.ha(a.location);b.id=a.id;c&&(b.y=c.M,b.x=c.I);b.name=a.name;b.address=a.address;X.le.ik(X.le.II(b))},detailOnAMAP:function(a){X.a.add(this.CLASS_NAME,"detailOnAMAP");var b={},c=X.g.ha(a.location);b.id=a.id;c&&(b.y=c.M,b.x=c.I);b.name=a.name;X.le.ik(X.le.GI(b))},
setLabelzIndex:function(a){return this.set("labelzIndex",a)},getLabelzIndex:function(){return this.get("labelzIndex",null,!0)},setMapStyle:function(a){X.a.add(this.CLASS_NAME,"setMapStyle",a);this.set("mapStyle",a)},getMapStyle:function(){X.a.add(this.CLASS_NAME,"getMapStyle");return this.get("mapStyle",null,!0)},getFeatures:function(){X.a.add(this.CLASS_NAME,"getFeatures");return this.get("features",null,!0)},setFeatures:function(a){X.a.add(this.CLASS_NAME,"setFeatures");this.set("features",a)},
setLang:function(a){X.a.add(this.CLASS_NAME,"setLang",a);"en"!==a&&"zh_cn"!==a&&"zh_en"!==a||a===this.getLang()||(this.set("lang",a),this.Rh&&this.Rh.lL(this))},getLang:function(){X.a.add(this.CLASS_NAME,"getLang");return this.get("lang",null,!0)},setCity:function(a,b){X.a.add(this.CLASS_NAME,"setCity");var c=this;(new X.na.ya(X.k.gc+"/v3/config/district?subdistrict=0&extensions=all&key="+X.k.key+"&s=rsv3&output=json&keywords="+a,{callback:"callback"})).e("complete",function(a){if((a=a.districts)&&
a.length)try{var f=a[0].center.split(","),g;switch(a[0].level){case "city":g=10;break;case "province":g=7;break;case "district":g=12;break;case "country":g=4;break;default:g=12}-1!==a[0].name.indexOf("\u5e02")&&(g=10);c.setZoomAndCenter(g,new X.O(f[0],f[1]),!0)}catch(h){}b&&b.call(c,f,g)},this)},getCity:function(a,b){X.a.add(this.CLASS_NAME,"getCity");var c=X.k.gc+"/v3/geocode/regeo?&extensions=&&key="+X.k.key+"&s=rsv3&output=json&location="+(b||this.get("center"));(new X.na.ya(c,{callback:"callback"})).e("complete",
function(b){b=b.regeocode.addressComponent;a({province:b.province,city:b.city instanceof Array?"":b.city,citycode:b.citycode instanceof Array?"":b.citycode,district:b.district instanceof Array?"":b.district})},this)},B:function(a,b){X.vd.lY=new Date;this.CLASS_NAME="AMap.Map";X.a.Sa("AMap.Map",b);b=b||{};b.bgColor&&X.extend(X.k.qi,b.bgColor);X.k.Js=b.buildingColor||null;b.center&&(b.center=X.g.ha(b.center));b.view&&b.view.get("center")&&b.view.set("center",X.g.ha(b.view.get("center")));b.mobile&&
(X.j.U=!0);b.noPoi&&(X.k.cZ=!0);this.pn=b.disableSocket?!1:X.j.pn;b.server&&(X.k.gc=b.server);b.vdataUrl&&(X.k.Ju=b.vdataUrl);if("string"===typeof a){if(a=this.D=document.getElementById(a),!a)return}else"DIV"===a.tagName&&(this.D=a);this.D.rv&&this.D.rv.destroy();this.D.rv=this;var c=this.G.zooms[1],d=this.G.zooms[0];b.zooms?(b.zooms[0]=Math.max(d,b.zooms[0]),!0===b.expandZoomRange&&(c=X.j.U?X.j.Jc?19:20:20),b.zooms[1]=Math.min(c,b.zooms[1])):b.zooms=[d,c];b.forceZooms&&(b.zooms=b.forceZooms);b=this.rV(b);
c=b.lang;"en"!==c&&"zh_cn"!==c&&"zh_en"!==c&&(b.lang="zh_cn");X.j.pd&&(this.G.rotateEnable=!1);c=b.view;c.map=this;this.ld("zoom crs resolution centerPixel center centerCoords rotation".split(" "),c);this.Zm=c.get("crs");this.je(this.G);this.je(b);b.forceVector&&(X.j.nn?this.set("baseRender","vw"):this.set("baseRender","v"));b.disableVector&&this.set("baseRender","d");"dom"==b.renderer&&(this.set("baseRender","d"),this.set("overlayRender","d"));b.baseRender&&this.set("baseRender",b.baseRender);this.oy();
X.j.bq&&this.vU();c.$c();var d=c.get("zoom"),f=this.get("zooms");d>f[1]?d=f[1]:d<f[0]&&(d=f[0]);c.set("zoom",d);var g=this;this.je({overlays:[],infos:{},controls:{}});c=[];b.forceVector&&(c.push("vectorlayer"),c.push("overlay"));X.Qa.bf(c,function(){if(!g.get("destroy")){var b=new X.zd(a,g);b.e("complete",function(){this.l("complete");X.vd.XG||(X.vd.XG=new Date-X.vd.lY);this.ag()},g,!0);b.Zm=g.Zm;g.ld(["zoomSlow","panTo","targetLevel","render"],b);b.ld(["size","bounds"],g);g.loaded=!0;g.l("coreMapCreated")}})},
featuresChanged:function(){this.oy()},mapStyleChanged:function(){this.oy();this.fB()},fB:function(){if(this.ah){var a=!0;if(!1==this.get("showIndoorMap")||"normal"!==this.get("mapStyle"))a=!1;var b=this.getLayers(),c;for(c in b)"AMap.IndoorMap"===b[c].CLASS_NAME&&b[c]!==this.ah&&(a=!1);this.ah.getMap()!==this&&this.ah.setMap(this);this.ah.set("visible",a)}},oy:function(){var a=this.get("baseRender");if(!("dv"<a)){var b=this.get("features",null,!0),c=this.get("mapStyle",null,!0);b&&c&&(!X.j.dg||"all"===
b&&"normal"===c?this.wA&&(this.set("baseRender",this.wA),this.wA=null):(this.set("baseRender","v"),this.wA=a))}},vU:function(){var a=this;AMap.plugin(["AMap.IndoorMap"],function(){!a.ah&&a.D&&(a.indoorMap=a.ah=new AMap.IndoorMap({innerLayer:!0,map:a}),a.fB(),X.g.Ee(function(){a.l("indoor_create",{target:a});a.set("display")}))})},layersChanged:function(){var a=this.getLayers();this.Mt=!1;for(var b=0;b<a.length;b+=1)a[b].getMap()!==this&&a[b].setMap(this),a[b].Mt&&(this.Mt=!0);this.fB()},getMapNumber:function(){if(this.map)return this.map.PA()},
ag:function(){var a=X.j.U,b=X.j.qq,c=!!X.vd.mI,d=X.j.dg,f=X.k.zc+"://webapi.amap.com/count?",g=this.getSize(),a=["type=q","resolution="+g.width+"*"+g.height,"k="+X.k.key,"u="+X.k.Zk,"iw="+X.j.nn,"cw="+X.j.kV,"gc="+X.j.SI,"m="+(a?1:0),"cv="+(d?1:0),"iv="+(c?1:0),"pf="+b,"ct="+X.vd.XG,"dpr="+window.devicePixelRatio,"screenwidth="+screen.width,"scale="+(X.j.CB||0),"detect="+X.j.pa];c&&(a=a.concat(["ds="+X.vd.XW,"lt="+X.vd.mI,"pt="+X.vd.WW]));new X.na.ya(f+a.join("&"))},getAdcode:function(){X.a.add(this.CLASS_NAME,
"getAdcode");return X.k.sU},rV:function(a){a||(a={});if(a.hasOwnProperty("defaultLayer")){a.layers=[a.defaultLayer];var b=a.defaultLayer;b.$x=!0;this.set("defaultLayer",b,!0)}a.layers&&0!==a.layers.length||(b=new Y,a.layers=[b],b.$x=!0,this.set("defaultLayer",b,!0));a.view||(a.view=new rc({center:a.center,zoom:a.zoom||a.level,crs:a.crs}));return a},setLimitBounds:function(a){X.a.add(this.CLASS_NAME,"setLimitBounds");a instanceof X.Qc||(a=null);this.set("limitBounds",a)},clearLimitBounds:function(){X.a.add(this.CLASS_NAME,
"clearLimitBounds");this.set("limitBounds",null)},getLimitBounds:function(){X.a.add(this.CLASS_NAME,"getLimitBounds");return this.get("limitBounds",null,!0)},TG:function(a){var b=this.get("layers");0<=X.g.indexOf(b,a)||(b.push(a),this.set("layers",b))},WG:function(a){var b=this.get("overlays");0<=X.g.indexOf(b,a)||(a instanceof sc?(this.get("overlays").push(a),this.Vs instanceof sc&&this.Vs.close(),this.Vs=a,this.set("contextmenu",a,!0)):(a instanceof tc&&(this.Sh instanceof tc&&this.du(this.Sh),
this.Sh=a),this.get("overlays").push(a)),this.l("overlays"))},En:function(a){var b=this.get("layers");a=X.g.indexOf(b,a);-1!==a&&this.set("layers",X.g.Li(b,a))},du:function(a){var b=this.get("overlays");this.set("overlays",X.g.Li(b,X.g.indexOf(b,a)))},setZoom:function(a,b){X.a.add(this.CLASS_NAME,"setZoom");a=Math.round(a);var c=this.get("zooms");a>c[1]&&(a=c[1]);a<c[0]&&(a=c[0]);this.get("zoomEnable")&&(b||!this.loaded?(this.set("zoom",a),this.l("zoomstart"),this.l("zoomchange"),this.l("zoomend")):
this.set("zoomSlow",a))},getZoom:function(){X.a.add(this.CLASS_NAME,"getZoom");return Math.round(this.get("targetLevel")||this.get("zoom"))},getCenter:function(){X.a.add(this.CLASS_NAME,"getCenter");return this.get("center")},setCenter:function(a,b){X.a.add(this.CLASS_NAME,"setCenter");a=X.g.ha(a);b||!this.loaded?(this.l("movestart"),this.set("center",a),this.l("mapmove"),this.map?this.map.l("moveend"):this.l("moveend")):this.panTo(a)},getCoordsBound:function(){var a=this.get("size"),b=this.get("centerCoords"),
c=this.get("rotation")%360,d=this.get("resolution"),c=Math.PI*c/180,a=new X.K((Math.abs(a.width*Math.cos(c))+Math.abs(a.height*Math.sin(c)))/2,(Math.abs(a.width*Math.sin(c))+Math.abs(a.height*Math.cos(c)))/2),d=new X.Td(b.Ja(a.sc(d)),b.add(a.sc(d))),c=this.get("zoom",null,!0),f=this.get("targetLevel");if(f>c-1){var g=this.get("resolution",f);d.sM=new X.Td(b.Ja(a.sc(g)),b.add(a.sc(g)))}d.B0=f||c;d.cb=a;return d},setRotation:function(a){X.a.add(this.CLASS_NAME,"setRotation");!X.j.pd&&this.get("rotateEnable")&&
this.set("rotation",a)},getRotation:function(){X.a.add(this.CLASS_NAME,"getRotation");return this.get("rotateEnable")&&this.get("rotation")||0},getBounds:function(){X.a.add(this.CLASS_NAME,"getBounds");this.get("crs");var a=this.getCoordsBound(),b=a.Wb.x,c=a.$a.y,a=new X.K(a.$a.x,a.Wb.y),b=new X.K(b,c);return new X.Qc(this.Se(a,this.get("zoom")),this.Se(b,this.get("zoom")))},getStatus:function(){X.a.add(this.CLASS_NAME,"getStatus");for(var a="isHotspot dragEnable zoomEnable keyboardEnable jogEnable doubleClickZoom scrollWheel resizeEnable touchZoom rotateEnable animateEnable".split(" "),
b={},c=0;c<a.length;c+=1)b[a[c]]=this.get(a[c],null,!0);return b},setStatus:function(a){X.a.add(this.CLASS_NAME,"setStatus");for(var b in a)a.hasOwnProperty(b)&&-1!=="isHotspot,dragEnable,keyboardEnable,doubleClickZoom,scrollWheel,zoomEnable,jogEnable,continuousZoomEnable,resizeEnable,animateEnable,rotateEnable,touchZoom".indexOf(b)&&this.set(b,a[b])},getResolution:function(a){X.a.add(this.CLASS_NAME,"getResolution");a=(a=X.g.ha(a))?a.M:this.get("center").M;return this.get("resolution")*Math.cos(a*
Math.PI/180)},getScale:function(a){X.a.add(this.CLASS_NAME,"getScale");return this.getResolution()*(a||96)/0.0254},getDefaultCursor:function(){X.a.add(this.CLASS_NAME,"getDefaultCursor");return this.get("defaultCursor",null,!0)},setDefaultCursor:function(a){X.a.add(this.CLASS_NAME,"setDefaultCursor");return this.set("defaultCursor",a,!0)},zoomIn:function(a){X.a.add(this.CLASS_NAME,"zoomIn");this.setZoom(this.get("targetLevel")+1,a)},zoomOut:function(a){X.a.add(this.CLASS_NAME,"zoomOut");this.setZoom(this.get("targetLevel")-
1,a)},setZoomAndCenter:function(a,b,c){X.a.add(this.CLASS_NAME,"setZoomAndCenter");b=X.g.ha(b);a=Math.round(a);var d=this.get("zooms");a>d[1]&&(a=d[1]);a<d[0]&&(a=d[0]);this.loaded?this.set("zoomAndCenter",[a,b,c]):(this.setZoom(a,!0),this.setCenter(b,!0))},setBounds:function(a,b,c,d,f,g){X.a.add(this.CLASS_NAME,"setBounds");b=b?Number(b):0;var h=this.BK||this.get("zooms")[1];g=this.getSize().Rn();var k=0,l=0;if(f){var l=f[0],m=f[1],k=f[2];f=f[3];g.x-=k+f;g.y-=l+m;k=(k-f)/2;l=(l-m)/2}f=this.get("zooms");
for(c&&(g=g.Ja(c));h>f[0]&&!(c=this.pb(a.hb,h),m=this.pb(a.ab,h),a.hb.I>a.ab.I&&(m.x+=this.pb(new X.O(180,0),h).x),Math.abs(m.x-c.x)<g.x&&Math.abs(c.y-m.y)<g.y);h-=1);g=X.j.U?17:18;d=d||!this.getBounds().contains(a.Ye())||X.j.U&&1<Math.abs(h+b-this.get("zoom"));b=Math.min(f[1],g,Math.max(f[0],h+b));h=this.yf(this.pb(a.Ye(),b).Ja(new X.K(k,l)),b);this.setZoomAndCenter(b,h,d);return a},clearMap:function(){X.a.add(this.CLASS_NAME,"clearMap");for(var a=this.get("overlays"),b=0;b<a.length;b+=1)a[b].set("map",
null,!0);this.set("overlays",[]);if(this.map&&this.map.Aa)for(var a=this.map.Aa,c=a.length,b=0;b<c;b+=1)a[b].Za instanceof uc&&a[b].Za.setMap(null)},destroy:function(){X.a.add(this.CLASS_NAME,"destroy");this.ah&&(this.ah.setMap(),this.indoorMap=this.ah=null);this.set("overlays",[]);this.set("layers",[]);var a=this.get("controls");a.remove=[];for(var b in a.rc)a.rc.hasOwnProperty(b)&&a.remove.push(a.rc[b]);a.rc=[];a.add=[];this.set("controls",a);this.set("destroy",!0);this.yb=!1;X.vd={};this.Wl();
this.D=null},addControl:function(a){X.a.add(this.CLASS_NAME,"addControl");var b=X.g.zb(a),c=this.get("controls")||{};c.rc=c.rc||{};c.rc[b]||(c.rc[b]=a);c.add=c.add||[];c.add.push(a);this.set("controls",c)},removeControl:function(a){X.a.add(this.CLASS_NAME,"removeControl");var b=X.g.zb(a),c=this.get("controls")||{};c.rc=c.rc||{};c.rc[b]&&delete c.rc[b];c.remove=c.remove||[];c.remove.push(a);this.set("controls",c)},clearControl:function(){X.a.add(this.CLASS_NAME,"clearControl");var a=this.get("controls")||
{};a.remove=a.remove||[];a.rc=a.rc||{};for(var b in a.rc)a.rc.hasOwnProperty(b)&&(a.remove.push(a.rc[b]),delete a.rc[b]);this.set("controls",a)},plugin:function(a,b){"string"===typeof a&&(a=[a]);for(var c=0;c<a.length;c+=1){var d=a[c].split(".");"function"===typeof window[d[0]][d[1]]&&(a.splice(c,1),c-=1)}if(0===a.length)return b(),this;for(var f=a.length,c=0;c<a.length;c+=1)X.Qa.load(a[c],function(){f-=1;0===f&&b()});return this},clearInfoWindow:function(){X.a.add(this.CLASS_NAME,"clearInfoWindow");
var a=this.get("overlays");a&&0!==a.length&&this.Sh&&this.Sh.close()},remove:function(a){X.a.add(this.CLASS_NAME,"remove");a instanceof Array||(a=[a]);for(var b=0;b<a.length;b+=1){var c=a[b];c.getMap&&c.getMap()===this&&(c.close?c.close():c.setMap&&c.setMap(null))}},add:function(a){X.a.add(this.CLASS_NAME,"add");a instanceof Array||(a=[a]);for(var b=0;b<a.length;b+=1){var c=a[b];c.getMap&&c.getMap()!==this&&!c.open&&c.setMap&&c.setMap(this)}},getAllOverlays:function(a,b){X.a.add(this.CLASS_NAME,"getAllOverlays");
var c=this.get("overlays"),d;if(a)switch(a){case "marker":d=Z;break;case "circle":d=vc;break;case "polyline":d=wc;break;case "polygon":d=xc}if(d){for(var f=[],g=0;g<c.length;g+=1)c[g]instanceof d&&(b||!c[g].ea&&!c[g].isOfficial)&&f.push(c[g]);return f}if(!b){f=[];for(g=0;g<c.length;g+=1)c[g].ea||c[g].isOfficial||f.push(c[g]);c=f}d=this.get("layers");f=[];if(d)for(var g=0,h=d.length;g<h;g+=1)d[g]instanceof uc&&f.push(d[g]);return c.concat(f)},triggerResize:function(){this.map&&this.map.rx()},refreshSize:function(){this.pr=
this.jX()},jX:function(){return X.f.iX(this.D)},getSize:function(){X.a.add(this.CLASS_NAME,"getSize");(!this.pr||10>this.pr.width*this.pr.height)&&this.refreshSize();return this.pr},getContainer:function(){X.a.add(this.CLASS_NAME,"getContainer");return this.D},panTo:function(a){X.a.add(this.CLASS_NAME,"panTo");a=X.g.ha(a);this.loaded?this.set("panTo",a):this.setCenter(a)},panBy:function(a,b,c){X.a.add(this.CLASS_NAME,"panBy");var d=this.get("rotation")*Math.PI/180,f=a*Math.cos(d)+Math.sin(d)*b;a=
-Math.sin(d)*a+Math.cos(d)*b;f=(this.loaded&&this.map&&this.map.Rb?this.pb(this.map.Rb.XL):this.get("centerPixel")).add(new X.K(-f,-a));f=this.yf(f);!this.loaded||c?this.setCenter(f,c):this.set("panTo",f)},setFitView:function(a,b,c,d){X.a.add(this.CLASS_NAME,"setFitView");var f;if(a)if(a instanceof yc)a=[a];else{if(!(a instanceof Array))return null}else a=this.getAllOverlays();for(var g=0;g<a.length;g+=1){var h=a[g];!h.get("visible")||h instanceof tc||h instanceof sc||(h=h.getBounds())&&(f=f?h.V0(f):
h)}f&&this.setBounds(f,null,new X.K(50,50),b,c,d);return f},setLayers:function(a){X.a.add(this.CLASS_NAME,"setLayers");for(var b=0;b<a.length;b+=1)a[b].set("map",this,!0);this.set("layers",a)},getLayers:function(){X.a.add(this.CLASS_NAME,"getLayers");return this.get("layers",null,!0)},getDefaultLayer:function(){X.a.add(this.CLASS_NAME,"getDefaultLayer");return this.get("defaultLayer",null,!0)},setDefaultLayer:function(a){X.a.add(this.CLASS_NAME,"setDefaultLayer");a.$x=!0;var b=this.get("defaultLayer"),
c=this.get("layers");if(b){if(a===b)return;b.$x=!1;c=X.g.Li(c,X.g.indexOf(c,b))}this.set("defaultLayer",a,!0);c.push(a);this.setLayers(c)},pixelToLngLat:function(a,b){X.a.add(this.CLASS_NAME,"pixelToLngLat");return this.yf(a,b)},lnglatToPixel:function(a,b){X.a.add(this.CLASS_NAME,"lnglatToPixel");return this.pb(a,b)},drawPolyline:function(a){X.a.add(this.CLASS_NAME,"drawPolyline");this.set("draw","polyline");this.set("drawStyle",a||{strokeColor:"#006600",wa:0.9})},drawPolygon:function(a){X.a.add(this.CLASS_NAME,
"drawPolygon");this.set("draw","polygon");this.set("drawStyle",a||{strokeColor:"#006600",wa:0.9,fillColor:"#FFAA00",Bc:0.9})},drawCircle:function(a){X.a.add(this.CLASS_NAME,"drawCircle");this.set("draw","circle");this.set("drawStyle",a||{strokeColor:"#006600",wa:0.9,fillColor:"#006600",Bc:0.9})},endDraw:function(){this.set("draw",null)},isGoogleTileVisible:function(){return this.map&&this.map.xw()}});
zc.cn({Sz:"lnglatTocontainer",lnglatTocontainer:"lngLatToContainer",Gj:"containTolnglat",containTolnglat:"containerToLngLat",pb:"project",yf:"unproject"});zc.Mc({isHotspotChanged:function(){if("undefined"!==typeof this.Vp&&(this.JV(),this.get("isHotspot"))){var a=this.get("layers",null,!0);a&&a.length&&!this.Vp&&this.Mt&&this.tZ()}},tZ:function(){if(this.Rh)this.fJ();else{var a=this;this.plugin("AMap.HotSpot",function(){if(!a.Vp){if(!a.Rh){var b=new X.me;new tc;a.Rh=b}a.fJ()}})}},JV:function(){this.Rh&&this.XX()},wK:function(a){a.type="hotspotover";a.isIndoorPOI=!1;this.l("hotspotover",a)},uK:function(a){a.type="hotspotclick";a.isIndoorPOI=!1;this.l("hotspotclick",
a)},vK:function(a){a.type="hotspotout";a.isIndoorPOI=!1;this.l("hotspotout",a)},fJ:function(){var a=this.Rh;this.Rh.setMap(this);a.e("mouseover",this.wK,this);a.e("click",this.uK,this);a.e("mouseout",this.vK,this)},XX:function(){var a=this.Rh;a.C("mouseover",this.wK,this);a.C("click",this.uK,this);a.C("mouseout",this.vK,this);this.Rh.setMap(null);this.Rh=null}});var $={T:function(a,b,c,d){X.a.add("AMap.event","addDomListener");X.r.e(a,b,c,d);return new X.Wq(0,a,b,c,d)},wU:function(){},addListener:function(a,b,c,d){X.a.add("AMap.event","addListener");a.Ze||(a.Ze=X.ca.Ze);X.ca.e.call(a,b,c,d);return new X.Wq(1,a,b,c,d)},UG:function(a,b,c,d){X.a.add("AMap.event","addListenerOnce");a.Ze||(a.Ze=X.ca.Ze);X.ca.e.call(a,b,c,d,!0);return new X.Wq(1,a,b,c,d)},yH:function(a){X.ca.Hi.call(a)},Os:function(a,b){X.ca.Hi.call(a,b)},removeListener:function(a){X.a.add("AMap.event",
"removeListener");!a instanceof X.Wq||(0===a.type?X.r.C(a.xl,a.cI,a.aJ,a.we):1===a.type&&(a.xl.Ze||(a.xl.Ze=X.ca.Ze),X.ca.C.call(a.xl,a.cI,a.aJ,a.we)))},H:function(a,b){X.a.add("AMap.event","trigger");a.Ze||(a.Ze=X.ca.Ze);var c=Array.prototype.slice.call(arguments,1);X.ca.l.apply(a,c)}};X.Wq=X.W.extend({B:function(a,b,c,d,f){this.type=a;this.xl=b;this.cI=c;this.aJ=d;this.we=f}});
var Ac={T:"addDomListener",wU:"addDomListenerOnce",addListener:"addListener",UG:"addListenerOnce",yH:"clearInstanceListeners",Os:"clearListeners",removeListener:"removeListener",H:"trigger"},Bc;for(Bc in Ac)Ac.hasOwnProperty(Bc)&&($[Ac[Bc]]=$[Bc]);X.event=$;X.event.T(window,"beforeunload",X.a.send);var Cc=X.W.extend({oa:[X.ca,X.gd],B:function(a){this.CLASS_NAME="AMap.Layer";X.g.bb(this,a);this.je(this.G)},getContainer:function(){if(this.V&&this.V.J)return this.V.J.qf()},getZooms:function(){X.a.add(this.CLASS_NAME,"getZooms");return this.get("zooms",null,!0)},setOpacity:function(a){X.a.add(this.CLASS_NAME,"setOpacity");a!==this.get("opacity",null,!0)&&this.set("opacity",a)},getOpacity:function(){return this.get("opacity",null,!0)},show:function(){X.a.add(this.CLASS_NAME,"show");this.set("visible",
!0);this.$j&&this.V.A.layersChanged()},hide:function(){X.a.add(this.CLASS_NAME,"hide");this.set("visible",!1);this.$j&&this.V.A.layersChanged()},setMap:function(a){X.a.add(this.CLASS_NAME,"setMap");var b=this.get("map");a?(b&&a!==b&&b.En(this),this.set("map",a)):b&&(b.En(this),this.set("map",null,!0),this.Og=!1,this.De&&this.De())},getMap:function(){X.a.add(this.CLASS_NAME,"getMap");return this.get("map",null,!0)},mapChanged:function(){this.get("map")&&this.get("map").TG(this)},setzIndex:function(a){X.a.add(this.CLASS_NAME,
"setzIndex");this.set("zIndex",a)},getzIndex:function(){return this.get("zIndex",null,!0)}});var Y=Cc.extend({G:{tileSize:256,visible:!0,opacity:1,zIndex:0,noLimg:1,zooms:[3,20],getTileUrl:X.j.U?X.k.Jq:X.k.jq,errorUrl:X.g.NW,detectRetina:!0,className:"amap-layer",mapNumber:""},B:function(a){X.a.Sa("AMap.TileLayer",a);(a=a||{})&&a.tileUrl&&(a.getTileUrl=a.tileUrl);this.xV(a);var b=a.zooms;b&&b[1]>=this.Sf[0]?(b[0]<this.Sf[0]&&(b[0]=this.Sf[0]),b[1]>this.Sf[1]&&(b[1]=this.Sf[1])):a.zooms=[this.Sf[0],this.Sf[1]];arguments.callee.Ya.call(this,a);this.CLASS_NAME="AMap.TileLayer"},setTextIndex:function(a){X.a.add(this.CLASS_NAME,
"setTextIndex");this.set("textIndex",a)},Kz:function(){var a=this.get("getTileUrl");return a!==X.k.jq&&a!==X.k.Jq?!1:!0},py:function(){if(!this.Kz()||!X.j.dg)return!1;var a=this.get("map");return!a||"zh_cn"!==a.get("lang")||"d"===a.get("baseRender")||this.noVector?!1:!0},Nf:function(a){var b=this.get("map");this.Kz()&&(this.py()?this.set("mapNumber","GS(2016)710"):this.set("mapNumber","GS(2015)2681"));if(this.py())if(this.$j=!0,X.V.ug){if("dv"===b.get("baseRender")&&!this.get("watermark")){var c=
X.k.It;X.j.pa&&this.get("detectRetina")&&(c=X.k.It.replace("scl=1","scl=2"));var d=b.get("showBuildingBlock");d||(c=c.replace("ltype=3","ltype=11"));c=new X.V.Cf(this,a,this.Fo(c),void 0,!0);d&&(c.Ql=new X.V.oe(new Y({zooms:[16,20],innerLayer:"true"}),a),c.Ql.ld(["visible","opacity","zIndex"],c,!0),c.Ql.ra=["building"],c.Ql.Is(b.get("mapStyle")||"normal"));return c}if("v"<=b.get("baseRender")||this.get("watermark"))return new X.V.oe(this,a)}else return["vectorlayer","overlay"];else return this.$j=
!1,new X.V.Cf(this,a,null,this.G.maxDataZoom)},getTileUrlChanged:function(){var a=this.get("getTileUrl");if(a==X.k.jq||a==X.k.Jq||a==X.k.ju)this.Mt=!0;"string"===typeof a&&(a=this.Fo(a));this.set("tileFun",a)},xV:function(a){this.Sf||(this.Sf=[this.G.zooms[0],this.G.zooms[1]]);var b;a.hasOwnProperty("detectRetina")&&!1===a.detectRetina&&(b=!0);X.j.U&&X.j.pa&&this.G.detectRetina&&!b&&(this.Sf[1]-=1)},getTiles:function(){X.a.add(this.CLASS_NAME,"getTiles");var a=this.get("tiles",null,!0);if(a&&a.length)a=
a[0];else return[];for(var b=[],c,d=0;d<a.length;d+=1)a[d].key&&(c=a[d].key.split("/"),b.push(""+c[1]+","+c[2]));return b},reload:function(){X.a.add(this.CLASS_NAME,"reload");this.set("reload",1)},Cn:function(){var a=this.get("map",null,!0);this.setMap(null);this.Og=!1;this.setMap(a)},setTileUrl:function(a){X.a.add(this.CLASS_NAME,"setTileUrl");this.py()?(this.set("getTileUrl",a),this.Cn()):this.set("getTileUrl",a)},Fo:function(a){var b=this,c,d,f;return function(g,h,k){g=(g+Math.pow(2,k))%Math.pow(2,
k);if("number"!==typeof(g+h+k))return null;var l=b.get("map"),m="zh_cn";l&&(m=l.get("lang")||"zh_cn");k=a.replace("[x]",g).replace("[y]",h).replace("[z]",k).replace("[lang]",m);if(!c){if(d=a.match(/\{.*\}/))f=d.toString().replace("{","").replace("}",""),f=f.split(",");c=!0}f&&f.length&&(k=k.replace(d,f[Math.abs(g+h)%f.length]));return k}},getTileUrl:function(a,b,c){X.a.add(this.CLASS_NAME,"getTileUrl");return this.get("tileFun",null,!0)(a,b,c)},getZooms:function(){X.a.add(this.CLASS_NAME,"getZooms");
return this.get("zooms",null,!0)}});Y.Pu=Y.extend({G:{getTileUrl:function(a,b,c){if(this&&this.get){var d=this.get("map"),f="zh_cn";d&&(f=d.get("lang")||"zh_cn")}return"http://grid.amap.com/grid/"+c+"/"+a+"/"+b+"?src=jsapi&key="+X.k.key+"&lang="+f+"&dpiType="+(X.j.Jc?"wprd":"webrd")},zooms:[10,18],zIndex:2},B:function(a){arguments.callee.Ya.apply(this,arguments)}});
Y.mC=Y.extend({G:{getTileUrl:X.k.XA,zooms:[3,20],zIndex:2,maxDataZoom:18,detectRetina:!1,mapNumber:"GS(2017)154",className:"amap-layer amap-satellite"},B:function(a){this.Sf=[3,20];arguments.callee.Ya.apply(this,arguments);this.CLASS_NAME="AMap.TileLayer.Satellite";X.a.Sa(this.CLASS_NAME,a)}});
Y.kC=Y.extend({G:{getTileUrl:X.k.ju,zooms:[3,20],zIndex:3,type:"overlayer",maxDataZoom:18,className:"amap-layer amap-roadnet"},B:function(a){this.Sf=[3,20];arguments.callee.Ya.apply(this,arguments);this.CLASS_NAME="AMap.TileLayer.RoadNet";X.a.Sa(this.CLASS_NAME,a)},Nf:function(a){var b=this.get("map");X.j.dg&&"d"!==b.get("baseRender")?(this.$j=!0,b=X.k.ku,X.j.pa&&this.get("detectRetina")&&(b=X.k.ku.replace("scl=1","scl=2")),a=new X.V.Cf(this,a,this.Fo(b),this.G.maxDataZoom)):(this.$j=!1,a=new X.V.Cf(this,
a));return a}});
Y.oC=Y.extend({G:{getTileUrl:function(a,b,c){return X.k.zc+"://tm.amap.com/trafficengine/mapabc/traffictile?v=1.0&t=1&zoom="+(17-c)+"&x="+a+"&y="+b},zooms:[6,20],zIndex:4,type:"overlayer",autoRefresh:!1,interval:180,maxDataZoom:17,alwaysRender:!X.j.Hy,className:"amap-layer amap-traffic"},B:function(a){this.Sf=[6,20];arguments.callee.Ya.apply(this,arguments);this.startRefresh();this.CLASS_NAME="AMap.TileLayer.Traffic";X.a.Sa(this.CLASS_NAME,a)},stopRefresh:function(){X.a.add(this.CLASS_NAME,"stopRefresh");
this.bu&&(clearInterval(this.bu),this.bu=null)},startRefresh:function(){X.a.add(this.CLASS_NAME,"startRefresh");if(this.get("autoRefresh")&&!this.bu){var a=this;this.bu=setInterval(function(){a.reload();a.l("refresh")},Math.max(1E3*(this.get("interval")||180),1E4))}},reload:function(){X.a.add(this.CLASS_NAME,"reload");X.g.Ee(function(){this.set("reload")},this)},De:function(){this.stopRefresh();this.get("map")&&this.get("map").C("zoomstart",this.reload,this)},Nf:function(a){var b=this.get("map"),
b=a.Ba;b.e("zoomstart",this.reload,this);return"d"!==b.get("baseRender")?X.V.ko?a=new X.V.ko(this,a):["vt"]:a=new X.V.Cf(this,a,null,this.G.maxDataZoom)}});var Dc=Cc.extend({G:{visible:!0,zooms:[3,25],type:"overlay",zIndex:5,alwaysRender:!0},B:function(a){arguments.callee.Ya.apply(this,arguments)},Nf:function(a){return new X.V.kd(this,a)}});var Ec=Cc.extend({G:{zooms:[17,20],zIndex:8,url:X.k.Oq+"/vector/buildings",wallColor:[200,190,180],strokeColor:[145,140,135],CAM_Z:400,lineCap:"round",lineJoin:"round",lineWidth:1,fadeFactor:1,visible:!0},B:function(){arguments.callee.Ya.apply(this,arguments);this.CLASS_NAME="AMap.Buildings"},Nf:function(a){if(X.V.co)return new X.V.co(this,a);if(X.j.bq)return["building","overlay"]}});var Fc=Cc.extend({G:{visible:!0,zooms:[3,X.j.U?20:18],opacity:1,type:"overlay",zIndex:6},B:function(a){arguments.callee.Ya.apply(this,arguments);this.CLASS_NAME="AMap.ImageLayer";X.a.Sa(this.CLASS_NAME,a)},Nf:function(a){return X.V.XB?new X.V.XB(this,a):["imagelayer"]},getMap:function(){X.a.add(this.CLASS_NAME,"getMap");return this.pi.map},show:function(){X.a.add(this.CLASS_NAME,"show");this.set("visible",!0);this.l("options")},getOpacity:function(){X.a.add(this.CLASS_NAME,"getOpacity");return this.get("opacity",
null,!0)},setOpacity:function(a){X.a.add(this.CLASS_NAME,"setOpacity");this.set("opacity",a)},getBounds:function(){X.a.add(this.CLASS_NAME,"getBounds");return this.get("bounds",null,!0).Tb()},setBounds:function(a){X.a.add(this.CLASS_NAME,"setBounds");this.setOptions({bounds:a})},getImageUrl:function(){X.a.add(this.CLASS_NAME,"getImageUrl");return this.get("url")},setImageUrl:function(a){X.a.add(this.CLASS_NAME,"setImageUrl");return this.set("url",a)},hide:function(){X.a.add(this.CLASS_NAME,"hide");
this.set("visible",!1);this.l("options")},setOptions:function(a){X.a.add(this.CLASS_NAME?this.CLASS_NAME:"AMap.ImageLayer","setOptions");this.je(a);this.l("options")},getOptions:function(){X.a.add(this.CLASS_NAME,"getOptions");var a={},b;for(b in this.G)this.G.hasOwnProperty(b)&&(a[b]=this.get(b));return a}});var Gc=Cc.extend({G:{visible:!0,zooms:[3,X.j.U?20:18],type:"overlay",zIndex:5,cursor:"pointer",alwaysRender:!0,stable:!0,bubble:!0,className:"amap-mass"},B:function(a,b){this.CLASS_NAME="AMap.MassMarks";X.a.Sa(this.CLASS_NAME,b);X.j.bq&&(this.Vh=!0,b.size&&(b.size=X.g.bk(b.size)),this.setData(a),X.g.bb(this,b),this.setStyle(this.G))},setData:function(a){X.a.add(this.CLASS_NAME,"setData");this.set("dataSources",a)},getData:function(){X.a.add(this.CLASS_NAME,"getData");return this.get("datas")||this.get("dataSources")},
getStyle:function(){X.a.add(this.CLASS_NAME,"getStyle");return this.xu},setStyle:function(a){X.a.add(this.CLASS_NAME,"setStyle");a.size&&(a.size=X.g.bk(a.size));this.je(a,!0);this.xu={anchor:this.get("anchor"),url:this.get("url"),size:this.get("size"),cursor:this.get("cursor")};this.l("style")},setMap:function(a){X.a.add(this.CLASS_NAME,"setMap");X.j.bq&&(a?(this.get("map")&&this.get("map").En(this),this.set("map",a)):this.get("map")&&(this.get("map").En(this),this.set("map",null,!0),this.Og=!1,this.De&&
this.De()))},Nf:function(a){return X.Qa.zJ(["cvector"])?(a=new X.V.kd(this,a),this.P("datas",a),a):["cvector"]}});var uc=Fc.extend({B:function(a,b,c){X.a.Sa("AMap.GroundImage",c);c=c||{};this.Qi=!0;var d=parseFloat(c.opacity);isNaN(d)&&(d=1);arguments.callee.Ya.call(this,{url:a,bounds:b,clickable:c.clickable,opacity:d,map:c.map,zooms:c.zooms||[3,20]});this.CLASS_NAME="AMap.GroundImage"},lZ:function(a){this.get("bounds").contains(a.lnglat)&&(a.target=this,this.l("click",a))},mZ:function(a){this.get("bounds").contains(a.lnglat)&&(a.target=this,this.l("dblclick",a))},setMap:function(a){X.a.add(this.CLASS_NAME,"setMap");
a?(this.get("map")&&(this.get("map").En(this),this.BH&&$.removeListener(this.BH),this.NH&&$.removeListener(this.NH)),this.set("map",a)):this.get("map")&&(this.get("map").En(this),this.pi.map=null)},mapChanged:function(){this.get("map")&&(this.get("map").TG(this),this.get("clickable")&&(this.BH=$.addListener(this.get("map"),"click",this.lZ,this),this.NH=$.addListener(this.get("map"),"dblclick",this.mZ,this)))}});var yc=X.W.extend({oa:[X.ca,X.gd,{ha:X.g.ha}],G:{extData:{},bubble:!1,clickable:!0,draggable:!1},B:function(){this.Lr=X.g.zb(this)},N3:function(){return this.Lr},X2:function(){this.get("map",null,!0)&&this.setMap(this.get("map"))},mapChanged:function(){this.get("map",null,!0)&&this.get("map",null,!0).WG(this)},show:function(){X.a.add(this.CLASS_NAME,"show");this.set("visible",!0)},hide:function(){X.a.add(this.CLASS_NAME,"hide");this.set("visible",!1)},setMap:function(a){X.a.add(this.CLASS_NAME,"setMap");
a!==this.get("map",null,!0)&&(a?(this.get("map",null,!0)&&this.get("map",null,!0).du(this),this.set("map",a)):this.get("map",null,!0)&&(this.get("map",null,!0).du(this),this.set("map",null,!0)))},getMap:function(){X.a.add(this.CLASS_NAME,"getMap");return this.get("map",null,!0)},setExtData:function(a){X.a.add(this.CLASS_NAME,"setExtData");this.set("extData",a)},getExtData:function(){X.a.add(this.CLASS_NAME,"getExtData");return this.get("extData",null,!0)}});var Hc=yc.extend({B:function(a){Hc.pe.B.apply(this,arguments)},show:function(){this.set("visible",!0);this.l("show",{type:"show",target:this})},hide:function(){this.set("visible",!1);this.l("hide",{type:"hide",target:this})},getVisible:function(){return this.get("visible",null,!0)},getOptions:function(){var a={},b="map zIndex strokeColor strokeOpacity strokeWeight strokeStyle strokeDasharray extData bubble clickable".split(" "),c="isOutline outlineColor geodesic path lineJoin lineCap borderWeight showDir".split(" "),
d=["fillColor","fillOpacity","path","lineJoin"],f=["center","radius"],g=[];this instanceof wc&&(g=b.concat(c));this instanceof xc&&(g=b.concat(d));this instanceof vc&&(g=b.concat(f).concat(d));for(b=0;b<g.length;b+=1)a[g[b]]=this.get(g[b],null,!0);return a},setOptions:function(a){a.hasOwnProperty("path")&&(a.path&&a.path.length||(a.path=[]),a.path=X.g.ha(a.path));a.center&&(a.center=X.g.ha(a.center));a.hasOwnProperty("map")&&this.setMap(a.map);this.je(a);this.l("options");this.l("change",{type:"change",
target:this})},setDraggable:function(a){this.set("draggable",a)}});var Ic=Hc.extend({G:{visible:!0,zIndex:10,strokeColor:"#006600",strokeOpacity:0.9,strokeWeight:3,strokeStyle:"solid",strokeDasharray:[10,5],lineJoin:"miter",path:[]},B:function(a){Ic.pe.B.apply(this,arguments)},setPath:function(a,b){X.a.add(this.CLASS_NAME,"setPath");a&&a.length||(a=[]);a=this.ha(a);this.set("path",a);this.l("change",{type:"change",target:this});b||this.l("setPath")},getPath:function(){X.a.add(this.CLASS_NAME,"getPath");return this.get("path",null,!0)},dc:function(){var a=this.get("path");
if(!a||!a.length)return null;a[0]instanceof X.O&&(a=[a]);for(var b=new X.Qc(180,90,-180,-90),c=0;c<a.length;c+=1)for(var d=a[c],f=d.length-1;0<=f;f-=1)b.extend(d[f]);return b}});Ic.cn({dc:"getBounds"});var Jc=X.W.extend({oa:[X.ca,X.gd],G:{size:new X.Yb(36,36),imageOffset:new X.K(0,0),image:X.k.mb+"/theme/v1.3/markers/0.png",imageSize:null},B:function(a){this.CLASS_NAME="AMap.Icon";X.a.Sa(this.CLASS_NAME,a);a=a||{};a.size&&(a.size=X.g.bk(a.size));a.imageSize&&(a.imageSize=X.g.bk(a.imageSize));X.g.bb(this,a);this.je(this.G)},setImageSize:function(a){X.a.add(this.CLASS_NAME,"setImageSize");a=X.g.bk(a);this.set("imageSize",a)},getImageSize:function(){X.a.add(this.CLASS_NAME,"getImageSize");return this.get("imageSize",
null,!0)}});var Kc=X.W.extend({oa:[X.ca,X.gd],G:{coords:[],type:""},B:function(a){this.CLASS_NAME="AMap.MarkerShape";X.a.Sa(this.CLASS_NAME,a);X.g.bb(this,a);this.je(this.G)}});var Z=yc.extend({G:{cursor:"pointer",visible:!0,zIndex:100,angle:0,autoRotation:!1,opacity:1,offset:new X.K(-9,-31),size:new X.K(19,33),raiseOnDrag:!1,topWhenClick:!1,topWhenMouseOver:!1,animation:"AMAP_ANIMATION_NONE"},B:function(a){this.CLASS_NAME="AMap.Marker";X.a.Sa(this.CLASS_NAME,a);a=a||{};this.Qi=!0;a&&a.position&&(a.position=this.ha(a.position));X.g.bb(this,a);X.j.pd&&(this.G.angle=0);this.je(this.G);X.Jk.LO(a)},setRaiseOnDrag:function(a){X.a.add(this.CLASS_NAME,"setRaiseOnDrag");this.set("raiseOnDrag",
a)},setPosition:function(a){X.a.add(this.CLASS_NAME,"setPosition");a=this.ha(a);this.set("position",a)},getBounds:function(){var a=this.getPosition().Tb();return new X.Qc(a,a.Tb())},mapChanged:function(){this.get("map",null,!0)&&(this.get("position",null,!0)||this.set("position",this.get("map").get("center")),this.get("map",null,!0).WG(this))},getPosition:function(){X.a.add(this.CLASS_NAME,"getPosition");return this.get("position",null,!0)},setIcon:function(a){X.a.add(this.CLASS_NAME,"setIcon");this.set("icon",
a)},getIcon:function(){X.a.add(this.CLASS_NAME,"getIcon");return this.get("icon",null,!0)},setContent:function(a){X.a.add(this.CLASS_NAME,"setContent");this.set("content",a)},getContent:function(){X.a.add(this.CLASS_NAME,"getContent");return this.get("content",null,!0)},getContentDom:function(){return this.get("contentDom",null,!0)},hide:function(){X.a.add(this.CLASS_NAME,"hide");this.set("visible",!1)},show:function(){X.a.add(this.CLASS_NAME,"show");this.set("visible",!0)},setCursor:function(a){X.a.add(this.CLASS_NAME,
"setCursor");this.set("cursor",a)},setRotation:function(a){X.a.add(this.CLASS_NAME,"setRotation");X.j.pd||this.set("angle",a)},setAngle:function(a){X.a.add(this.CLASS_NAME,"setAngle");X.j.pd||"number"!==typeof a||this.set("angle",a)},getAngle:function(){X.a.add(this.CLASS_NAME,"getAngle");return this.get("angle",null,!0)},setOffset:function(a){X.a.add(this.CLASS_NAME,"setOffset");this.set("offset",a)},getOffset:function(){X.a.add(this.CLASS_NAME,"getOffset");return this.get("offset",null,!0)},setzIndex:function(a){X.a.add(this.CLASS_NAME,
"setzIndex");this.set("zIndex",a)},getzIndex:function(){X.a.add(this.CLASS_NAME,"getzIndex");return this.get("zIndex",null,!0)},setOpacity:function(a){X.a.add(this.CLASS_NAME,"setOpacity");this.set("opacity",a)},setDraggable:function(a){X.a.add(this.CLASS_NAME,"setDraggable");this.set("draggable",a)},getDraggable:function(){X.a.add(this.CLASS_NAME,"getDraggable");return this.get("draggable",null,!0)},moveTo:function(a,b,c){X.a.add(this.CLASS_NAME,"moveTo");a=this.ha(a);this.set("move",{af:a,speed:b,
Ha:c})},moveAlong:function(a,b,c,d){X.a.add(this.CLASS_NAME,"moveAlong");this.set("move",{af:a,speed:b,Ha:c,AV:d})},stopMove:function(){X.a.add(this.CLASS_NAME,"stopMove");this.set("move",!1)},pauseMove:function(){X.a.add(this.CLASS_NAME,"pauseMove");var a=this.get("move");if(!a)return!1;a.action="pause";this.set("move",a);return!0},resumeMove:function(){X.a.add(this.CLASS_NAME,"resumeMove");var a=this.get("move");if(!a)return!1;a.action="resume";this.set("move",a);return!0},setShadow:function(a){X.a.add(this.CLASS_NAME,
"setShadow");this.set("shadow",a)},getShadow:function(){X.a.add(this.CLASS_NAME,"getShadow");return this.get("shadow",null,!0)},setClickable:function(a){X.a.add(this.CLASS_NAME,"setClickable");a!==this.getClickable()&&this.set("clickable",a)},getClickable:function(){X.a.add(this.CLASS_NAME,"getClickable");return this.get("clickable",null,!0)},setTitle:function(a,b){X.a.add(this.CLASS_NAME,"setTitle");"string"===typeof a&&this.set("title",a,b)},getTitle:function(){X.a.add(this.CLASS_NAME,"getTitle");
return this.get("title",null,!0)},setLabel:function(a){X.a.add(this.CLASS_NAME,"setLabel");a&&(a.hasOwnProperty("content")||a.hasOwnProperty("offSet"))||(a={content:""});a=X.extend({},this.get("label"),a);this.set("label",a)},getLabel:function(){X.a.add(this.CLASS_NAME,"getLabel");return this.get("label",null,!0)},setTop:function(a,b){X.a.add(this.CLASS_NAME,"setTop");this.set("isTop",a,b)},getTop:function(){X.a.add(this.CLASS_NAME,"getTop");return this.get("isTop",null,!0)},setShape:function(a,b){X.a.add(this.CLASS_NAME,
"setShape");this.set("shape",a,b)},getShape:function(){X.a.add(this.CLASS_NAME,"getShape");return this.get("shape",null,!0)},setAnimation:function(a,b){X.a.add(this.CLASS_NAME,"setAnimation");this.set("animation",a,b)},getAnimation:function(){X.a.add(this.CLASS_NAME,"getAnimation");return this.get("animation",null,!0)},getMap:function(){X.a.add(this.CLASS_NAME,"getMap");return this.get("map",null,!0)},markOnAMAP:function(a){X.a.add(this.CLASS_NAME,"markOnAMAP");a=a||{};var b={};b.name=a.name||this.get("name",
null,!0)||"";a=this.ha(a.position)||this.get("position",null,!0);b.y=a.M;b.x=a.I;X.le.ik(X.le.IX(b))}});
X.Jk={OA:12,LO:function(a){if(X.j.dg&&!X.j.U&&a.position&&(new Date).getHours()===X.Jk.OA&&(X.Na||(X.Na=[]),a.title||a.content)){var b={p:[a.position.I,a.position.M]};a.title&&(b.t=a.title);a.content&&(b.c=a.content.outerHTML||a.content);a.name&&(b.n=a.name);X.Na.push(b)}},PF:function(){if(X.Na&&X.Na.length){var a=X.Jk.Kp(JSON.stringify({mks:X.Na,from:X.k.aX,key:X.k.key}));new X.na.XMLHttpRequest(X.k.mb+"/count",{UV:"data="+a,xd:"POST"});X.Na=[]}},Kp:function(a){for(var b="",c=0,d=a.length;c<d;c++)b+=
String.fromCharCode((a.charCodeAt(c)+256)%65535);return b},mf:function(a){for(var b="",c=0,d=a.length;c<d;c++)b+=String.fromCharCode((a.charCodeAt(c)-256+65535)%65535);return b}};if(X.j.dg&&!X.j.U&&(new Date).getHours()===X.Jk.OA){var Lc=setInterval(function(){(new Date).getHours()!==X.Jk.OA?clearInterval(Lc):X.Jk.PF()},6E3);X.event.T(window,"beforeunload",X.Jk.PF)};var sc=yc.extend({G:{visible:!1,items:[]},B:function(a){this.CLASS_NAME="AMap.ContextMenu";X.a.Sa(this.CLASS_NAME,a);this.Qi=!0;X.g.bb(this,a);this.G.items=[];this.je(this.G)},addItem:function(a,b,c){X.a.add(this.CLASS_NAME,"addItem");this.get("items").push({kM:a,Ha:b,Qt:c});this.l("items")},removeItem:function(a,b){X.a.add(this.CLASS_NAME,"removeItem");var c=this.get("items"),d,f;for(f=0;f<c.length;f+=1)if(d=c[f],d.kM===a&&d.Ha===b){c.splice(f,1);break}this.l("items")},open:function(a,b){X.a.add(this.CLASS_NAME,
"open");b=X.g.ha(b);this.set("position",b);this.map?this.map&&this.map!==a&&(this.map.du(this),this.map=a,this.setMap(a)):(this.map=a,this.setMap(a));this.l("open",{type:"open",target:this})},close:function(){X.a.add(this.CLASS_NAME,"close");this.setMap(null);this.map&&(this.map=this.map.Vs=null,this.l("close",{type:"close",target:this}))}});var tc=yc.extend({G:{visible:!0,offset:new X.K(0,0),showShadow:!1,closeWhenClickMap:!1,retainWhenClose:!0,autoMove:!0},B:function(a){this.CLASS_NAME="AMap.InfoWindow";X.a.Sa(this.CLASS_NAME,a);a=a||{};this.Qi=!0;a&&a.size&&(a.size=X.g.bk(a.size));X.g.bb(this,a);this.je(this.G);a.position&&this.set("position",X.g.ha(a.position),!0)},open:function(a,b){X.a.add(this.CLASS_NAME,"open");b=X.g.ha(b);if(a)if(this.get("toBeClose"))this.set("toBeClose",!1);else if(b=b||this.get("position",null,!0)){this.l("change",
{type:"change",target:this});var c=this.get("map",null,!0);c&&c===a?this.set("position",b):(this.map=a,a.Sh&&a.Sh.close(),this.set("position",b,!0),this.setMap(a));this.l("open",{type:"open",target:this})}},close:function(){X.a.add(this.CLASS_NAME,"close");this.setMap(null);this.map=null;this.l("change",{type:"change",target:this})},setContent:function(a){X.a.add(this.CLASS_NAME,"setContent");this.set("content",a);this.l("change",{type:"change",target:this})},getContentU:function(){X.a.add(this.CLASS_NAME,
"getContentU");return this.get("content",null,!0)},getContentDom:function(){return this.get("contentDom",null,!0)},getContent:function(){X.a.add(this.CLASS_NAME,"getContent");return this.get("content",null,!0)},setPosition:function(a){X.a.add(this.CLASS_NAME,"setPosition");a=X.g.ha(a);this.set("position",a);this.l("change",{type:"change",target:this})},setOffset:function(a){X.a.add(this.CLASS_NAME,"setOffset");this.set("offset",a);this.l("change",{type:"change",target:this})},getPosition:function(){X.a.add(this.CLASS_NAME,
"getPosition");return this.get("position",null,!0)},setSize:function(a){X.a.add(this.CLASS_NAME,"setSize");a=X.g.bk(a);this.set("size",a);this.l("change",{type:"change",target:this})},getSize:function(a){X.a.add(this.CLASS_NAME,"getSize");var b=this.get("size",null,!0);if(b)return b;if(this.Ea&&!a)return new X.Yb(this.Ea.ve.offsetWidth,this.Ea.ve.offsetHeight)},getIsOpen:function(){X.a.add(this.CLASS_NAME,"getIsOpen");return!!this.get("map")}});var wc=Ic.extend({G:{isOutline:!1,outlineColor:"#000000",geodesic:!1,borderWeight:1},B:function(a){wc.pe.B.apply(this,arguments);this.CLASS_NAME="AMap.Polyline";X.a.Sa(this.CLASS_NAME,a);this.Qi=!0;a=a||{};a.zIndex="number"===typeof a.zIndex?a.zIndex:50;a.path&&(a.path=this.ha(a.path));X.g.bb(this,a);this.setOptions(this.G)},getLength:function(){X.a.add(this.CLASS_NAME,"getLength");for(var a=this.get("path"),b=0,c=0;c<a.length-1;c+=1)b+=a[c].xe(a[c+1]);return parseFloat(b.toFixed(2))}});var xc=Ic.extend({B:function(a){xc.pe.B.apply(this,arguments);this.CLASS_NAME="AMap.Polygon";X.a.Sa(this.CLASS_NAME,a);this.Qi=!0;a=a||{};a.zIndex="number"===typeof a.zIndex?a.zIndex:10;a.path&&(a.path=this.ha(a.path));X.g.bb(this,X.extend({fillColor:"#FFAA00",fillOpacity:0.9},a));this.setOptions(this.G)},iz:function(a){var b=6378137*Math.PI/180,c=0,d=a.length;if(3>d)return 0;for(var f=0;f<d-1;f+=1)var g=a[f],h=a[f+1],c=c+(g.I*b*Math.cos(g.M*Math.PI/180)*h.M*b-h.I*b*Math.cos(h.M*Math.PI/180)*g.M*
b);d=a[f];a=a[0];c+=d.I*b*Math.cos(d.M*Math.PI/180)*a.M*b-a.I*b*Math.cos(a.M*Math.PI/180)*d.M*b;return 0.5*Math.abs(c)},getArea:function(){X.a.add(this.CLASS_NAME,"getArea");var a=this.get("path",null,!0),b;if(!a.length||a[0]instanceof X.O)b=this.iz(a);else{b=this.iz(a[0]);for(var c=1;c<a.length;c+=1)b-=this.iz(a[c])}return Number(b.toFixed(2))},toString:function(){X.a.add(this.CLASS_NAME,"toString");return this.get("path").join(";")},contains:function(a){X.a.add(this.CLASS_NAME,"contains");a=X.g.ha(a);
var b=this.get("path");b.length&&b[0]instanceof X.O&&(b=[b]);a=[a.I,a.M];for(var c,d=0,f=b.length;d<f&&(c=this.pV(b[d]),X.cj.yl(c)||c.reverse(),c=X.cj.lf(a,c,0===d?!0:!1),0<d&&(c=!c),c);d+=1);return c},pV:function(a){for(var b=[],c=0;c<a.length;c+=1)b.push([a[c].I,a[c].M]);return b}});var vc=Hc.extend({G:{visible:!0,zIndex:10,strokeColor:"#006600",strokeOpacity:0.9,strokeWeight:3,strokeStyle:"solid",strokeDasharray:[10,5],radius:1E3,fillColor:"#006600",fillOpacity:0.9},B:function(a){vc.pe.B.apply(this,arguments);this.CLASS_NAME="AMap.Circle";X.a.Sa(this.CLASS_NAME,a);a=a||{};a.center&&(a.center=X.g.ha(a.center));a.zIndex="number"===typeof a.zIndex?a.zIndex:10;X.g.bb(this,a);this.Qi=this.G.center?!0:!1;this.setOptions(this.G)},setCenter:function(a,b){X.a.add(this.CLASS_NAME,"setCenter");
(a=X.g.ha(a))&&a instanceof X.O&&(this.set("center",a),this.l("change",{type:"change",target:this}),this.Qi||(this.Qi=!0,this.get("map")&&this.get("map").l("overlays")),b||this.l("setCenter"))},getCenter:function(){X.a.add(this.CLASS_NAME,"getCenter");return this.get("center",null,!0)},setRadius:function(a,b){X.a.add(this.CLASS_NAME,"setRadius");this.set("radius",a);this.l("change",{type:"change",target:this});b||this.l("setRadius")},getRadius:function(){X.a.add(this.CLASS_NAME,"getRadius");return this.get("radius",
null,!0)},getBounds:function(){var a=this.get("center"),b=this.get("radius");if(!a)return null;var c=a.offset(-b,-b),a=a.offset(b,b);return new X.Qc(c,a)},contains:function(a){X.a.add(this.CLASS_NAME,"contains");return this.get("center").xe(a)<=this.get("radius")?!0:!1}});X.VM=zc.extend({B:function(a,b){b&&(b.center=b.position,b.zoom=11);arguments.callee.Ya.apply(this,arguments);window.console&&window.console.log&&window.console.log("\u9ad8\u5fb7\u5730\u56feJSAPI\u8857\u666f\u5df2\u4e0b\u7ebf\uff0c\u611f\u8c22\u60a8\u7684\u652f\u6301\u3002")}});X.WM=Z.extend({B:function(a){arguments.callee.Ya.apply(this,arguments)}});X.cj={q0:function(a,b){return this.p0(a,this.CH(a,b))},p0:function(a,b){var c=a[0]-b[0],d=a[1]-b[1];return c*c+d*d},CH:function(a,b){var c=a[0],d=a[1],f=b[0],g=b[1],h=f[0],f=f[1],k=g[0],g=g[1],l=k-h,m=g-f,c=0===l&&0===m?0:(l*(c-h)+m*(d-f))/(l*l+m*m||0);0>=c||(1<=c?(h=k,f=g):(h+=c*l,f+=c*m));return[h,f]},yl:function(a){for(var b=a.length,c=0,d=a[b-1],f=d[0],d=d[1],g,h,k=0;k<b;k+=1)h=a[k],g=h[0],h=h[1],c+=(g-f)*(h+d),f=g,d=h;return 0<c},lf:function(a,b,c){var d=a[0];a=a[1];var f=!1,g,h,k,l,m=b.length,
n=0;for(l=m-1;n<m;l=n,n+=1){var p=!1;g=b[n][0];h=b[n][1];k=b[l][0];l=b[l][1];if(g===d&&h===a||k===d&&l===a)return c?!0:!1;if(h<a===l>=a){g=(k-g)*(a-h)/(l-h)+g;if(d===g)return c?!0:!1;p=d<g}p&&(f=!f)}return f}};var Mc={Pixel:X.K,LngLat:X.O,Size:X.Yb,Bounds:X.Qc,PixelBounds:X.Td,event:$,Panorama:X.VM,PanoramaMarker:X.WM,Map:zc,View2D:rc,GroundImage:uc,Marker:Z,ImageMarker:pc.L1,Text:pc.V1,Icon:Jc,MarkerShape:Kc,Polyline:wc,Polygon:xc,Circle:vc,ContextMenu:sc,InfoWindow:tc,Buildings:Ec,TileLayer:Y,ImageLayer:Fc,VectorLayer:Dc,MassMarks:Gc,CANVAS:"canvas",DOM:"dom"};Mc.plugin=Mc.service=zc.prototype.plugin;Mc.TileLayer.Satellite=Y.mC;Mc.TileLayer.RoadNet=Y.kC;Mc.TileLayer.Traffic=Y.oC;Mc.Panorama.Events=$;
Mc.TileLayer.PanoramaLayer=Y.N1;Mc.UA={ie:X.j.ln,ielt9:X.j.pd,ielt11:X.j.$X,mobile:X.j.U,android:X.j.Lf,ios:X.j.oJ};Mc.User={key:X.k.key};window.AMap=Mc;window.AMap.BuryPoint=X.BuryPoint;window.AMap.Class=X.W;if("undefined"!==typeof arguments&&arguments.callee)try{X.j.Ft&&window.localStorage&&((mc=window.localStorage["_AMap_"+X.sd])&&JSON.parse(mc).version===X.k.gi||window.localStorage.setItem("_AMap_"+X.sd,JSON.stringify({script:"("+arguments.callee+")()",version:X.k.gi})))}catch(Nc){};window.AMap.convertFrom=function(a,b,c){X.a.add("AMap","convertFrom",b);var d=X.k.gc+"/v3/assistant/coordinate/convert";a=X.g.ha(a);var f=[];if(a instanceof Array){for(var g=0,h=a.length;g<h;g+=1)f.push(a[g]+"");f=f.join(";")}else f=a+"";b=["key="+X.k.key,"s=rsv3","locations="+f,"coordsys="+(b||"gps")];d+=0<b.length?"?"+b.join("&"):"";d=new X.na.ya(d,{callback:"callback"});d.e("complete",function(a){if("1"===a.status){a=a.locations.split(";");for(var b=0;b<a.length;b+=1){var d=a[b].split(",");a[b]=
new AMap.LngLat(d[0],d[1])}c&&"function"===typeof c&&c("complete",{info:"ok",locations:a})}else c&&"function"===typeof c&&c("error",a.info)},this);d.e("error",function(a){c&&"function"===typeof c&&c("error",a.info)},this)};
_jsload_('http', 'X.na=X.na||{}; X.na.$u=X.W.extend({oa:[X.ca],B:function(a,b){this.G={callback:"cbk",type:"json",charset:"utf-8"};b=b||{};X.g.bb(this,b);this.url=a;this.send(a,b.xd,b.UV)},send:function(a){var b=X.f.create("script");b.type="text/javascript";b.charset=this.G.charset;var c=this;X.j.pd?b.onreadystatechange=function(){"loaded"!==this.readyState&&"complete"!==this.readyState||c.l("complete")}:(b.onload=function(){c.l("complete")},b.onerror=function(){c.l("error",{status:0,info:"service error",url:a})});b.src=a;document.getElementsByTagName("head")[0].appendChild(b)}});X.na.ya=X.na.$u.extend({sV:function(){if(X.g.uL)return X.g.yu.push(this),!0},D_:function(){this.l("error",{info:"TIME_OUT_A"})},send:function(a,b,c,d){function f(){window[g]=null;try{window[g]=null}catch(a){}h.onerror=null;h.parentNode&&h.parentNode.removeChild(h)}if(!this.G.vp||!this.sV()){a=encodeURI(a);var g=this.G.fun;if(!g||window[g])g=X.g.wI("jsonp_",6)+"_";var h=document.createElement("script");h.type="text/javascript";h.charset="utf-8";h.async=!0;var k=this;X.j.pd||(h.onerror=function(){f(); k.l("error",{info:"REQUEST_FAILED",url:a})});window[g]=function(a){f();if(k.G.callbackFunction)k.G.callbackFunction.call(k.G.context,a);else if(3E4===a.errcode&&a.data)X.g.uL=!0,X.Qa.load("AMap.AntiCrabFrame",function(){X.g.vp||(X.g.vp=new X.vM);X.g.yu.push(k);X.g.vp.open(k.G.xd,a.data.host,k.CA||"",k.url)});else{if(a instanceof Array||"string"===typeof a)a={data:a};a.y3=g;k.l("complete",a)}};b="?";-1!==a.indexOf("?")&&(b="&");b=a+b+this.G.callback+"="+g;if(-1!==a.indexOf(X.k.gc+"/v3")||-1!==a.indexOf("yuntuapi.amap.com/datasearch"))b+= "&platform=JS&logversion=2.0&sdkversion="+X.k.Tx,b+="&appname="+X.k.Zk;b+="&csid="+this.e1();if(c=this.G.ft){var l=[],m;for(m in c)c.hasOwnProperty(m)&&(l.push(m+"="+c[m]),b+="&"+m+"="+encodeURIComponent(c[m]));k.CA=l.join("&")}h.src=d?b+"&rereq=true":b;X.na.ya.tD||(X.na.ya.tD=document.getElementsByTagName("head")[0]);X.na.ya.tD.appendChild(h)}},e1:function(){var a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");return function(b,c){var d=[],f;c=c||a.length;if(b)for(f=0;f< b;f++)d[f]=a[0|Math.random()*c];else{var g;d[8]=d[13]=d[18]=d[23]="-";d[14]="4";for(f=0;36>f;f++)d[f]||(g=0|16*Math.random(),d[f]=a[19==f?g&3|8:g])}return d.join("")}}()});window.AMap.Http={};window.AMap.Http.JSONP=X.na.ya;X.na.XMLHttpRequest=X.na.$u.extend({send:function(a,b,c){var d=this.z1=new XMLHttpRequest,f=this;d.onreadystatechange=function(){4===d.readyState&&200===d.status?f.l("complete",{url:a,data:d.responseText}):404===d.status&&(d.abort(),f.l("error",{url:a,data:"404"}))};d.open(b||"GET",a);"POST"===b&&d.setRequestHeader("Content-type","application/x-www-form-urlencoded");d.send(c||void 0)},abort:function(){this.z1.abort()}}); ',true),_jsload_('map', 'X.hi=X.W.extend({B:function(a,b,c,d){this.start=a;this.end=b;this.transition=c;this.precision=d||0;this.fk=!1;return this},Nl:function(a){this.Cg=+new Date;this.frames=0;this.we=a;this.startTime=+new Date;this.fk=!0;this.$G=X.g.Ee(this.update,this,!1)},update:function(){this.$G=X.g.Ee(this.update,this,!1);this.frames+=1;var a=+new Date,b=a-this.startTime,b=this.transition?this.transition(this.start,this.end,b,this.frames,a-this.Cg):null;"number"===typeof b&&Math.abs(b-this.end)<this.precision&&(this.stop(), b=this.end);this.Cg=a;this.mq.call(this.we||this,b)},stop:function(a){X.g.bl(this.$G);a&&this.update();this.fk=!1}});X.hi.Easing={Linear:{None:function(a){return a}},Bounce:{In:function(a){return 1-(a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+0.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+0.9375:7.5625*(a-=2.625/2.75)*a+0.984375)},Out:function(a){return X.hi.Easing.Bounce.In(1-a)}},Cubic:{In:function(a){return 1-a*a*a},Out:function(a){a=1-a;return 1-a*a*a}}};X.zd=X.W.extend({oa:[X.ca,X.gd,X.TJ],B:function(a,b){this.Ba=b;this.xg=this.Eg=this.cg=!1;this.D=a;this.YQ();this.iY();this.Ht=new X.J.canvas.zd(this);this.P("size",b);this.P("zooms",b);this.P("limitBounds",b);this.P("view",b);this.P("nolimg",b,!0);this.P("mapNumber",b,!0);this.P("lang",b,!0);this.P("features",b,!0);this.P("showBuildingBlock",b,!0);this.P("mapStyle",b);this.P("labelzIndex",b,!0);X.j.dg&&(this.ad=new X.V.tg(new Y({zIndex:b.get("labelzIndex"),visible:!1}),this),this.ad.Za.e("complete", this.Oo,this,!0),this.ad.Lo=this.ad.Bt=!0);this.P("isHotspot",b,!0);this.P("layers",b);this.P("overlays",b);this.P("infos",b,!0);this.P("contextmenus",b,!0);this.P("coordsBound",b);this.P("controls",b);this.P("bounds",b);this.P("draw",b);this.ld("zoomAndCenter destroy defaultCursor jogEnable animateEnable baseRender overlayRender 3rdpartyDataEnable".split(" "),b);this.ld("rotateEnable dragEnable keyboardEnable doubleClickZoom scrollWheel zoomEnable touchZoom".split(" "),b,!0);this.get("jogEnable")? this.aq=!0:this.aq=!1;this.yQ();this.EQ();this.AQ();this.P("resizeEnable",b);this.Ba.map=this;var c=this.get("size"),c=c.width*c.height/65536;X.j.Jc&&3<c&&(this.fH=!0);this.jL()},labelzIndexChanged:function(){this.ad&&this.ad.set("zIndex",this.get("labelzIndex"))},mapStyleChanged:function(){if(X.j.dg){var a=this.get("mapStyle");this.D.style.background=X.k.qi[a]||X.k.qi["default"]}},getTargetLevel:function(){var a=this.get("targetLevel",null,!0);a||(a=this.get("zoom"));return a},resizeEnableChanged:function(){}, OV:function(){var a;if(this.get("center")instanceof X.O){a=new X.Qc(-180,-85,180,85);var b=this.Ub(a.Zg());a=this.Ub(a.Pj());this.lv={ee:b.x,Uc:b.y,Od:a.x,bd:a.y}}else a=this.get("limitBounds"),this.lv={ee:a[0],Uc:a[1],Od:a[2],bd:a[3]}},uV:function(){var a=this.get("limitBounds"),b=this.get("bounds");b.hb.I>b.ab.I&&(b.ab.I+=360);if(!a.contains(b)){var c=this.get("center").Tb();a.Ae()<b.Ae()?c.I=a.Ye().I:(a.hb.I>b.hb.I&&(c.I+=a.hb.I-b.hb.I),a.ab.I<b.ab.I&&(c.I+=a.ab.I-b.ab.I));a.ye()<b.ye()?c.M=a.Ye().M: (a.hb.M>b.hb.M&&(c.M+=a.hb.M-b.hb.M),a.ab.M<b.ab.M&&(c.M+=a.ab.M-b.ab.M));return c}},zC:function(){this.lv||this.OV();return this.lv},rx:function(){var a=this.gB;this.Ba.refreshSize();var b=this.get("size");b&&a&&!b.Hb(a)&&(this.gB=b,this.uu=!0,this.set("display"),this.kL(b),this.get("resizeEnable")&&this.ua("resize",{fZ:a,gK:b}))},KF:function(){var a=this;a.rx();a.ox=setTimeout(function(){a.KF()},200)},EO:function(){this.ox&&(clearTimeout(this.ox),this.ox=null)},YQ:function(){this.gB=this.Ba.getSize(); if(X.j.pd||X.j.s1&&X.j.oJ||X.j.PY)this.KF();else{var a=this;X.r.EU(this.D,function(b){a.rx(b)})}},viewChanged:function(a){if(a=this.get("view"))this.view=new X.pN(a,this)},iY:function(){var a=this.D;X.f.ob(a,"amap-container");var b={};b.qd=X.f.create("div",a,"amap-maps");this.Bk=X.f.create("div",a);this.Bk.style.display="none";b.Cj=X.f.create("div",b.qd,"amap-drags");b.V=X.f.create("div",b.Cj,"amap-layers");b.Ea=X.f.create("div",b.Cj,"amap-overlays");b.controls=X.f.create("div",a,"amap-controls"); b.Yz=X.f.create("a",a,"amap-logo");var c=window.location.host;-1===c.indexOf("amap.com")&&-1===c.indexOf("gaode.com")&&(b.Yz.href=X.j.U?"http://m.amap.com":"http://gaode.com",b.Yz.target="_blank");X.f.create("img",b.Yz).src=X.j.Jc?this.Ba.G.logoUrlRetina:this.Ba.G.logoUrl;b.Fh=X.f.create("div",a,"amap-copyright");b.Fh.style.display="none";350<X.f.Sp(this.D).width&&(b.Fh.innerHTML=this.Ba.G.copyright,b.Fh.SJ=X.f.create("span",b.Fh,"amap-mcode"),this.PA());this.Wa=b},PA:function(){var a=this.get("layers"); if(a){for(var b=-1,c="",d=0;d<a.length;d+=1){var f=a[d].get("mapNumber"),g=a[d].getzIndex();f&&g>b&&a[d].get("visible")&&(c=f,b=g)}this.set("mapNumber",c);c&&this.Wa.Fh.SJ&&(this.Wa.Fh.SJ.innerHTML="- "+c+"\\u53f7");return c}},Oo:function(){if(!this.Cy&&!this.Ba.yb){for(var a=this.get("layers"),b=this.get("zoom"),c=0;c<a.length;c+=1){var d=a[c].get("zooms");if(!(!d||b>d[1]||b<d[0]||!a[c].get("visible")||a[c].V&&a[c].V.ra&&0==a[c].V.ra.length||a[c].V&&a[c].V.yb))return}this.Ba.yb=!0;this.set("display"); X.vd.Lp&&(X.vd.WW=new Date-X.vd.Lp);X.g.Ee(function(){this.l("complete");this.Ba&&this.Ba.ah&&this.Ba.ah.px()},this)}},layersChanged:function(){this.Aa=this.Aa||[];for(var a=this.get("layers"),b=this.Aa.length-1;0<=b;b-=1)this.Aa[b]===this.Vb||this.Aa[b]===this.dk||this.Aa[b].Lo||this.Aa[b].Za.Lo||-1!==X.g.indexOf(a,this.Aa[b].Za)||(this.Aa[b].De(),this.Aa[b].Ql&&this.Aa[b].Ql.De(),this.Aa[b].Za.C("complete",this.Oo,this),this.Aa=X.g.Li(this.Aa,b));for(var c=!1,d=!0,f=this.get("labelzIndex"),b=0;b< a.length;b+=1){if(a[b].Og)-1===X.g.indexOf(this.Aa,a[b].V)&&this.Aa.push(a[b].V);else{var g=this.Nf(a[b]);g&&(this.Aa.push(g),a[b].Og=!0,a[b].V=g);a[b].e("complete",this.Oo,this,!0)}a[b].$j&&a[b].get("visible")&&!a[b].ns&&(c=!0,!1==a[b].get("detectRetina")&&(d=!1),f=a[b].get("textIndex")||f)}a=X.g.indexOf(this.Aa,this.ad);c?(-1===a&&this.Aa.push(this.ad),this.ad.pa=d&&X.j.pa,this.ad.Is(this.get("mapStyle")||"normal"),this.ad.set("zIndex",f),this.ad.set("visible",!0),this.Ba.Vp=!0,this.Ba.get("isHotspot")? this.ad.rZ():this.ad.vy()):(this.ad&&(this.ad.set("visible",!1),this.Ba.Vp=!1,this.ad.vy()),this.Ba.Vp=!1);this.Ba.isHotspotChanged();this.set("display",0);this.PA()},isHotspotChanged:function(){this.layersChanged()},controlsChanged:function(){var a=this.get("controls"),b,c;if(a.add&&0<a.add.length)for(;0<a.add.length;)b=a.add.shift(),(c=b.Rm||b.addTo)&&c.call(b,this.Ba,this.Wa.controls);else if(a.remove&&a.remove.length)for(;0<a.remove.length;)b=a.remove.shift(),(c=b.Dn||b.removeFrom)&&c.call(b, this.Ba,this.Wa.controls)},KG:function(){if(!this.Cy){var a=this;this.NG=!1;a.Vb||(a.Vb=new X.V.kd(new Dc,a),a.Vb.bi=36,a.Vb.ci=36,a.Vb.set("zIndex",120),a.Aa.push(a.Vb),a.Vb.dt=!0);for(var b=a.get("overlays"),c=[],d=0;d<a.Db.length;d+=1)-1===X.g.indexOf(b,a.Db[d].Zb)&&(a.Db[d].Zb instanceof tc||a.Db[d].Zb instanceof sc?a.Db[d].De():(a.Vb&&a.Db[d]instanceof X.Ea.Sd?(a.Vb.ih=X.g.mW(a.Vb.ih,a.Db[d].F),a.Vb.VK([a.Db[d].F])):a.dk&&a.dk.VK([a.Db[d].F]),a.Db[d].F.S?(X.f.remove(a.Db[d].F.S),a.Db[d].F.S= null):a.Db[d].F.ga&&(X.f.remove(a.Db[d].F.ga.Hc),X.f.remove(a.Db[d].F.ga.fb),a.Db[d].F.ga=null),a.Db[d].eh&&a.Db[d].eh.stop(),a.Db[d].Zb.Og=!1,a.Db[d].Zb.pi.map=null,a.Db[d].Zb.Ea=null,a.Db[d].Zb=null,a.Db[d].F.rW(),a.Db[d].F=null,a.Db[d].Wl(),a.Db[d].pi=null,a.Db[d].Hi(),a.Db[d].map=null),c.push(a.Db[d]));for(d=0;d<c.length;d+=1)a.Db=X.g.Li(a.Db,X.g.indexOf(a.Db,c[d]));var f=[],g=[];X.g.R_(function(b){if(!b.Og&&b.Qi){var c=b.Ea||a.eV(b);c&&(a.Db.push(c),c instanceof X.Ea.qh||c instanceof X.Ea.Ou? c.kK(a):c instanceof X.Ea.Sd?f.push(c.F):g.push(c.F),b.Og=!0)}},b);f.length&&a.Vb.Xk(f);g.length&&(a.dk||(a.dk=new X.V.kd(new Dc,a),a.dk.set("zIndex",110),a.Aa.push(a.dk)),a.dk.Xk(g));a.set("display",0)}},overlaysChanged:function(){this.Db=this.Db||[];this.get("overlays")&&0===this.get("overlays").length?this.KG():this.NG||(X.g.Ee(this.KG,this),this.NG=!0)},contextmenusChanged:function(){var a=this.get("contextmenu");if(a){var b=this;X.Qa.load("overlay",function(){b.Vs=new X.Ea.Ou(a,b);b.set("display", 0)})}},infosChanged:function(){var a=this.get("infos");if(a){this.Sh=this.Sh||{};var b,c=this;X.Qa.load("overlay",function(){for(var d in a)a.hasOwnProperty(d)&&(b=a[d],c.Sh[d]=c.Sh[d]||new X.Ea.qh(b,c))})}},eV:function(a){var b=null;if(a instanceof Z)b=new X.Ea.Sd(a,this);else if(a instanceof sc)b=new X.Ea.Ou(a,this);else if(a instanceof tc)b=new X.Ea.qh(a,this);else{var c=["overlay"];"d"===this.get("overlayRender")?(c.push("dvector"),X.j.Pi?c.push("svg"):c.push("vml")):c.push("cvector");if(!this.h1&& !X.Qa.zJ(c)){var d=this;X.Qa.bf(c,function(){this.h1=!0;d.overlaysChanged()});return}a instanceof xc?b=new X.Ea.Wc(a,this):a instanceof wc?b=new X.Ea.hd(a,this):a instanceof vc&&(b=new X.Ea.ii(a,this))}return b},M2:function(){function a(){}var b=new X.V.kd,c=[],d=new X.O(116.405467,39.907761);new X.style.jd.Yq;for(var f=0;100>f;f+=1)for(var g=0;100>g;g+=1){var h=new X.O(d.I+0.02*g,d.M+0.02*f),h=new X.Rd({name:"point"+(100*f+g),map:this,va:new X.ba.ne(this.Ub(h))});c[100*f+g]=h;h.e("hover",a,h)}b.Xk(c); this.Aa.push(b)},Va:function(){},L2:function(a){var b=new X.V.kd,c=[],c=(new X.IM({map:this})).$t(a);b.Xk(c);this.Aa.push(b);this.set("display",0)},Nf:function(a){a=a.Nf(this);if(!a)return null;if(a.length){var b=this;X.Qa.bf(a,function(){b.layersChanged()})}else return a;return null},R3:function(){return this.Wa},a5:function(){this.set("display",0)},displayChanged:function(a){this.jL(a)},jL:function(a){if(a)if(X.g.bl(this.gu),X.j.Lf){var b=this;setTimeout(function(){b.ge()},0)}else this.ge();else this.Yn|| (this.gu=X.g.Ee(this.ge,this),this.Yn=!0)},ge:function(){if(!this.Cy){this.l("render");this.Yn=!1;var a={};if(this.Aa){for(var b=[],c=0,d=this.Aa.length;c<d;c+=1)b.push(this.Aa[c]),this.Aa[c].Ql&&b.push(this.Aa[c].Ql);b.sort(function(a,b){return a.get("zIndex")>b.get("zIndex")?1:a.get("zIndex")===b.get("zIndex")?a.kv>b.kv?1:-1:-1});a.Aa=b;a.size=this.get("size");a.de=this.get("mapStyle");b=X.j.pa?Math.min(window.devicePixelRatio||1,2):1;a.XU=15E5<a.size.width*a.size.height*b*b;a.U=X.j.U;a.la=this.view.SX(); a.de=this.get("mapStyle");a.pc=this.xg;a.yd=this.cg;a.Rf=this.Eg;a.sB=this.Eg&&X.j.U;a.gM=X.j.U&&this.cg;a.Du=X.j.U&&this.xg;this.Du=a.Du;a.bo=a.la.zoom>this.get("targetLevel");a.ZY=!0;a.ma=this.get("coordsBound");a.fH=this.fH;for(var b=!1,f,c=!1,d=0;d<this.Aa.length;d+=1)this.Aa[d].Wh&&this.Aa[d].get("visible")&&a.la.zoom<=this.Aa[d].get("zooms")[1]&&(a.SA=!0),this.Aa[d].Qj().Jc&&(b=!0);for(d=0;d<this.Aa.length;d+=1)this.Aa[d].Za.eH&&a.SA&&(!this.cg&&this.Aa[d].Za.get("visible")&&(f=this.Aa[d].Za.eH(), f.l4=1,f.zoom=a.la.zoom),c=!0);c?f&&this.Cb!==f&&(this.Cb=f):this.Cb=[];a.Cb=this.Cb;a.Jc=b;a.scale=Math.pow(2,a.la.zoom-a.la.xc);this.Mp=a;this.Ht.ge(a)}}},P3:function(){return this.Ht},kX:function(){var a=[],b=this.get("controls").rc,c;for(c in b)b[c].gn&&b[c].gn()&&a.push(b[c].gn());return a},destroyChanged:function(){this.Cy=1;this.Q={};this.ad&&(this.ad.Za.C("complete",this.Oo,this,!0),this.ad.De(),this.Aa=X.g.Li(this.Aa,X.g.indexOf(this.Aa,this.ad)));this.AT&&clearTimeout(this.AT);this.iT(); this.sR();this.Yw&&this.Yw();this.iU();this.Wl();this.Ba=this.Ba.map=null;this.D=this.D.rv=null;this.Kd&&(this.Kd.stop(),this.Kd=null);this.Oc&&(this.Oc.stop(),this.Oc=null);this.Rb&&(this.Rb.stop(),this.Rb=null)},iU:function(){var a=this.D;this.EO();X.r.GV(a);X.f.UK(a);this.Bk=null;X.f.vb(a,"amap-container");this.Wa=null},jogEnableChanged:function(){this.get("jogEnable")?this.aq=!0:this.aq=!1},drawChanged:function(){var a=this,b,c,d=this.get("draw");if(d){this.Oi||(this.Oi=[]);b=0;for(c=this.Oi.length;b< c;b+=1)this.Oi[b].d_();X.Qa.load("interaction",function(){var b=new X.M1({type:d,V:a.dk},a);a.Oi.push(b);a.loaded=!0})}else if(this.Oi)for(b=0,c=this.Oi.length;b<c;b+=1)this.Oi[b].d_(),this.Oi[b].a3(),this.C("click",this.Oi[b].d4,this)}});X.zd.Mc({yQ:function(){this.Qo=!1;X.j.ed&&this.cO();X.j.U||this.$N()},iT:function(){X.j.ed&&this.xR();X.j.U||this.tR()},rotateEnableChanged:function(){this.mu=this.get("rotateEnable");X.j.ed&&(this.mu?this.YU():this.eZ())},zoomEnableChanged:function(){this.get("zoomEnable")?(X.j.ed&&this.gH(),X.j.U||this.bO()):(X.j.ed&&this.iK(),X.j.U||this.wR())},mousewheelChanged:function(){},QJ:function(a){a&&this.LY(a.Tk)},LY:function(a){this.Qo=a},mM:function(){this.Qo=!1},ng:function(a,b){var c,d={};a||(a=window.event); var f=X.r.gg(a,this.Wa.qd);X.j.ed&&("touchend"!==a.type?this.Q.JE=f:f=this.Q.JE);d.Ob=f;d.pg=this.Us(f);d.af=this.Gj(f);(f=!1!==this.Qo?this.Qo?[this.Qo]:null:this.CP(d.pg))&&0<f.length&&f[0].uj&&(c=f[0].uj,d.Tk=f[0]);c||(c=this);d.Yd=c;d.d2=a.altKey;d.ctrlKey=a.ctrlKey;d.button=void 0==a.button?0:a.button;!b&&a.preventDefault&&a.preventDefault();return d},yE:function(a){return a&&a!==this&&a!==document},OF:function(){if((!this.Tg||this.Tg.fk)&&this.Q.Gp&&this.Q&&this.Q.sf){var a=this.Q.Gp.Ob.Ja(this.Q.sf); a.x||a.y?(this.Q.Eg=!0,this.Q.Ak||(this.Q.Hp.l("dragstart",this.Q.SH),this.Q.Ak=!0),this.Q.Hp.l("dragging",this.Q.Gp),this.Q.sf=this.Q.Gp.Ob):this.Q.Eg=!1}},o0:function(a){for(var b=[],c=0;c<a.length;c+=1)a[c]&&(b=b.concat(a[c]));return b},pq:function(a,b){return a&&b&&(a.x-b.x)*(a.x-b.x)+(a.y-b.y)*(a.y-b.y)<(X.j.U?18:10)},CP:function(a){var b,c=this;this.Aa.sort(function(a,b){return a.get("zIndex")>b.get("zIndex")?-1:1});this.Ht.$y(a,this.Aa,function(a){b=a;b=c.o0(b)},function(){b=[]});return b}});X.zd.Mc({EQ:function(){this.e("moveend",this.rK,this);X.j.Lf&&(X.j.wB||X.j.fy)&&this.e("zoomend",this.GB,this);this.e("movestart",this.sK,this);this.e("zoomstart",this.yK,this);this.e("zoomend",this.xK,this);this.xv()},yK:function(){this.cg=!0},xK:function(){this.cg=!1;this.set("display")},sR:function(){this.C("moveend",this.rK,this);X.j.Lf&&(X.j.wB||X.j.fy)&&this.C("zoomend",this.GB,this);this.C("movestart",this.sK,this);this.C("zoomstart",this.yK,this);this.C("zoomend",this.xK,this);this.uR()}, rK:function(a){this.Eg=!1;this.kL();!a.AJ&&this.get("limitBounds")?(a=this.uV())&&!a.Hb(this.get("center"))?this.su(this.get("zoom"),a,!1,!0):this.ua("moveend"):this.ua("moveend");this.set("display")},sK:function(){this.Eg=!0},dragEnableChanged:function(){(this.et=this.get("dragEnable"))?this.wv():this.Xw()},ua:function(a,b){var c;b&&(c=b.gK?{type:a,newsize:b.gK,oldsize:b.fZ}:{type:a,pixel:b.Ob,target:this.Ba,lnglat:b.af});this.Ba.l(a,c)},xv:function(){this.e("click",this.fF);this.e("dblclick",this.hF); X.j.ed&&this.eO();X.j.U||this.aO()},uR:function(){this.C("click",this.fF);this.C("dblclick",this.hF);X.j.ed&&this.yR();X.j.U||this.vR()},Xr:function(a,b){var c=this.getTargetLevel(),c=0<b?Math.floor(c)+1:Math.ceil(c)-1,c=Math.min(Math.max(c,this.get("zooms")[0]),this.get("zooms")[1]);c===this.get("zoom")||this.Oc&&this.Oc.fk&&c===this.Oc.end||this.Nu(c,!1,a)},fF:function(a){this.ua("click",a)},hF:function(a){this.get("doubleClickZoom")&&this.get("zoomEnable")&&this.Xr(a.pg,1);this.ua("dblclick",a)}, x2:function(a){this.Xr(a.A5,a.B5);this.ua("touchend",a)},wv:function(){this.et&&(this.e("dragstart",this.kF),this.e("dragging",this.iF),this.e("dragend",this.jF))},Xw:function(){this.et||(this.C("dragstart",this.kF),this.C("dragging",this.iF),this.C("dragend",this.jF))},kF:function(a){this.QJ(a);this.xg=!0;this.Q.TH=a.Ob.x;this.Q.UH=a.Ob.y;this.Kd&&(this.Kd.stop(),this.gt(!0));this.ua("dragstart");this.ua("movestart");this.l("movestart",a)},iF:function(a){var b=this.Q,c=a.Ob.x-b.TH,d=a.Ob.y-b.UH; if(d||c){this.Q.Eg=!0;b.TH=a.Ob.x;b.UH=a.Ob.y;a=c;var b=d,f=this.mu?this.rotation:0;f&&(f*=Math.PI/180,a=c*Math.cos(f)+Math.sin(f)*d,b=-Math.sin(f)*c+Math.cos(f)*d);a=this.get("centerCoords").Ja((new X.K(a,b)).sc(this.N));(b=this.vH(a))&&(d=Math.round(this.Ji(b).Ja(this.Ji(a)).y));X.j.Lf&&this.Vi(this.Wa.Cj,c,d);a.x=(a.x+X.g.Ua)%X.g.Ua;this.set("centerCoords",a,!0);this.set("center",this.Se(a),!0);this.aq&&(this.Cg?(a=new Date,this.Ek=100<a-this.Cg?new X.K(0,0):new X.K(c,d),this.Kr=a-this.Cg,this.Cg= a):this.Cg=new Date);this.ua("dragging");this.ua("mapmove");X.j.Lf||this.set("display",0)}else this.Q.Eg=!1,this.Ek=null},Vi:function(a,b,c){if(a&&!(1>Math.abs(b)&&1>Math.abs(c))){var d=parseFloat(a.style.top)||0,f=parseFloat(a.style.left)||0,g="";this.get("rotation")&&(g=X.f.kk[X.f.Bd]+":rotate("+this.rotation+"deg);overflow:visible;");a.style.cssText="position:absolute;top:"+(d+c)+"px;left:"+(f+b)+"px;"+g}},vH:function(a){var b=this.zC(),c=this.gB.height*this.N/2;return a.y<b.Uc+c?(a.y=b.Uc+c,a): a.y>b.bd-c?(a.y=b.bd-c,a):null},jF:function(){this.mM();100<new Date-this.Cg&&(this.Ek=null);this.Q.sf=null;this.xg=!1;this.ua("dragend");if(this.aq&&this.Ek)if(this.Q.Eg){var a=this.Ek,b=new X.K(0,0),c=a.xe(b);12<c/this.Kr&&(a.x*=12/c,a.y*=12/c);this.Kd=new X.hi(a,b,function(a,b,c){return 400<=c?b:a.sc(1-c/400).floor()},1);this.Kd.mq=function(a){if(2>Math.abs(a.x)&&2>Math.abs(a.y))this.Kd.stop(),this.l("moveend"),this.gt(),this.Kr=this.Ek=this.Cg=null;else{var b=a.x,c=a.y,h=this.mu?this.rotation: 0;h&&(h*=Math.PI/180,b=a.x*Math.cos(h)+Math.sin(h)*a.y,c=-Math.sin(h)*a.x+Math.cos(h)*a.y);b=this.get("centerCoords").Ja((new X.K(b,c)).sc(this.N));c=this.vH(b);h=a.y;c&&(h=Math.round(this.Ji(c).Ja(this.Ji(b)).y));this.Vi(this.Wa.Cj,a.x,h);b.x=(b.x+X.g.Ua)%X.g.Ua;this.set("centerCoords",b,!0);this.set("center",this.Se(b),!0);this.ua("mapmove")}};this.Kd.Nl(this)}else this.l("moveend"),this.gt(),this.Kr=this.Ek=this.Cg=null;else this.l("moveend"),this.gt(),this.Kr=this.Ek=this.Cg=null},u5:function(){if(!this.Q.refresh){var a= this;this.Q.refresh=setInterval(function(){a.set("display",1)},X.j.U?400:50)}},GB:function(){if(X.j.Lf&&(X.j.wB||X.j.fy)){for(var a=this.Wa.V.childNodes,b=0;b<a.length;b+=1){var c=a[b];c instanceof HTMLCanvasElement&&(c.width=0);"amap-e"===c.className&&(c.style.height="0")}for(b=0;b<this.Aa.length;b+=1)c=this.Aa[b],"undefined"!==typeof AMap.IndoorMap&&c instanceof AMap.IndoorMap&&(c.Uk&&(c.Uk.width=0),c.Nm&&(c.Nm.width=0))}},gt:function(a){this.Q.refresh&&(clearInterval(this.Q.refresh),this.Q.refresh= null);a||(this.GB(),this.set("display",0))},kL:function(a){this.set("refresh",a)}});X.zd.Mc({setZoomSlow:function(a){this.su(a,null,!this.get("animateEnable"))},setPanTo:function(a){this.su(null,a,!this.get("animateEnable"))},zoomAndCenterChanged:function(a){var b=a[0];b<this.get("zooms")[0]&&(b=this.get("zooms")[0]);b>this.get("zooms")[1]&&(b=this.get("zooms")[1]);this.su(b,a[1],a[2]||!this.get("animateEnable"))},zoomChanged:function(){this.N=this.get("resolution");this.l("closeOverlays");this.set("display",0)},rotationChanged:function(){this.rotation=this.get("rotation");this.set("display", 0)},centerCoordsChanged:function(){this.l("closeOverlays");this.set("display",0)}});X.zd.Pu=X.W.extend({B:function(a){this.oc=a;this.Sk=["zooms","visible","opacity","zIndex"];this.Po=!1;this.HO=this.gO();this.oc.e("zoomend",this.Bx,this);this.oc.e("moveend",this.Bx,this);this.Bx()},gO:function(){for(var a=[[69,2],[72,14],[89,4],[96,4],[193,2],[196,14],[213,4],[220,4],[317,2],[320,14],[337,4],[344,4],[441,1],[444,14],[461,4],[468,4],[565,1],[568,14],[585,4],[592,4],[689,1],[692,14],[709,4],[716,4],[813,1],[816,14],[833,4],[840,4],[940,14],[957,4],[964,4],[1064,15],[1081,4],[1088, 4],[1188,16],[1205,4],[1212,4],[1312,21],[1336,4],[1436,21],[1460,4],[1560,21],[1584,4],[1684,21],[1708,4],[1808,21],[1832,4],[1932,21],[1956,4],[2056,21],[2080,4],[2180,21],[2204,4],[2304,21],[2328,4],[2428,21],[2452,4],[2552,22],[2576,4],[2676,22],[2700,4],[2800,22],[2824,4],[2924,22],[2948,4],[3048,22],[3072,4],[3172,22],[3196,4],[3295,23],[3320,4],[3418,24],[3444,4],[3541,26],[3568,4],[3664,27],[3692,4],[3788,27],[3816,4],[3912,32],[4036,32],[4160,32],[4285,31],[4394,4],[4409,31],[4517,5],[4531, 33],[4640,9],[4655,33],[4764,12],[4777,35],[4887,50],[5009,1],[5011,50],[5133,53],[5257,53],[5381,60],[5506,59],[5631,58],[5742,4],[5755,58],[5859,2],[5865,6],[5879,58],[5977,8],[5987,10],[5999,2],[6002,59],[6100,78],[6222,80],[6344,82],[6464,1],[6466,84],[6586,88],[6708,90],[6831,91],[6955,91],[7078,92],[7202,92],[7327,91],[7451,91],[7575,91],[7698,92],[7820,94],[7942,96],[8065,97],[8187,99],[8310,100],[8435,99],[8558,100],[8681,101],[8805,101],[8929,102],[9053,104],[9179,3],[9183,100],[9307,104], [9435,101],[9561,48],[9613,49],[9663,1],[9686,44],[9745,44],[9810,33],[9871,42],[9934,32],[9997,40],[10058,32],[10120,41],[10181,30],[10244,42],[10306,27],[10369,3],[10374,39],[10434,18],[10501,37],[10558,19],[10626,36],[10683,18],[10752,35],[10807,17],[10880,32],[10937,10],[10997,39],[11061,9],[11121,31],[11155,5],[11186,5],[11245,31],[11311,3],[11370,29],[11494,26],[11624,18],[11748,17],[11873,16],[11997,15],[12123,13],[12246,13],[12370,12],[12498,1],[12500,2]],b=[],c=0,d=a.length;c<d;c++)for(var f= a[c][0],g=f+a[c][1];f<g;f++)b[f]=1;return b},aR:function(a,b){var c=parseInt((a-73)/0.5),d=parseInt((b-3.5)/0.5);return 0>d||101<=d||0>c||124<=c?!1:1===this.HO[124*d+c]},QN:function(){var a=this.oc.Ba.getBounds();if(a){for(var a=[a.Ye(),a.Rp(),a.Pp(),a.Zg(),a.Pj()],b=0,c=a.length;b<c;b++)if(this.aR(a[b].CI(),a[b].AI()))return!0;return!1}},Bx:function(){if(!this.dG){var a=this;a.dG=setTimeout(function(){a.dG=null;a.$O()},0)}},$O:function(){var a=this.IP();0<a.length&&10<=this.oc.get("zoom")&&!1=== this.QN()?this.RT(a):this.lQ(a)},JO:function(a){if(a.ns)for(var b=0,c=this.Sk.length;b<c;b++)a.C(this.Sk[b],a.ns.Qw)},OT:function(a,b){this.JO(a);if(a.ns=b)for(var c=0,d=this.Sk.length;c<d;c++)a.e(this.Sk[c],b.Qw)},oG:function(a,b){b&&(b.iR=a);for(var c=0,d=a.length;c<d;c++)this.OT(a[c],b)},IP:function(){for(var a=this.oc.Aa,b=[],c=0,d=a.length;c<d;c++)a[c]!==this.Le&&a[c].Za instanceof Y&&a[c].Za.Kz()&&b.push(a[c]);return b},NT:function(a){var b=this;a.Qw=function(){a.WE||(a.WE=setTimeout(function(){a.WE= null;b.jR(a)},0))}},OO:function(a,b){for(var c=0,d=this.Sk.length;c<d;c++)a.set(this.Sk[c],b.get(this.Sk[c]))},jR:function(a){var b=a.iR;if(b&&b.length)for(var c=0,d=b.length;c<d;c++){if(!(b[c]instanceof X.V.tg)){this.OO(a,b[c]);break}}else console.warn("No moni layers")},RT:function(a){if(!this.Po){this.Po=!0;this.Le||(this.Le=new X.V.Cf(new Y.Pu,this.oc),this.Le.$j=!1,this.Le.Lo=!0,this.NT(this.Le));var b=this.oc.Aa;0>b.indexOf(this.Le)&&b.push(this.Le);this.oG(a,this.Le);this.Le.Qw();this.QT(); this.oc.layersChanged();this.oc.Ba.l("googleTileVisibleChanged",{display:!0})}},xw:function(){return this.Po},lQ:function(a){this.Po&&(this.Po=!1,this.oG(a,null),this.Le&&(this.Le.set("visible",!1),a=this.oc.Aa,X.g.Li(a,a.indexOf(this.Le)),this.Le.De(),this.Le.Za.C("complete",this.oc.Oo,this.oc),this.Le=null),this.kQ(),this.oc.layersChanged(),this.oc.Ba.l("googleTileVisibleChanged",{display:!1}))},PD:function(a,b,c){if(!a)return null;a=X.f.getElementsByClassName(b,c,a);return a.length?a[0]:null}, HP:function(a){var b=this.oc.Wa;if(b&&b.Fh){var c=this.PD(b.Fh,"google-copyright","span");!c&&a&&(c=X.f.create("span",b.Fh,"google-copyright"),c.innerHTML=" - Data &copy; Google");return c}},CG:function(a){var b=this.HP(a);b&&(b.style.display=a?"":"none");this.oc.Wa&&(b=this.PD(this.oc.Wa.Fh,"amap-mcode","span"))&&(b.style.display=a?"none":"")},QT:function(){this.CG(!0)},kQ:function(){this.CG(!1)}});X.zd.Mc({AQ:function(){this.get("3rdpartyDataEnable")&&(this.dE=new X.zd.Pu(this))},xw:function(){return this.dE&&this.dE.xw()}});X.pN=X.W.extend({oa:[X.ca,X.gd],B:function(a,b){this.view=a;this.map=b;this.P("zoom",a);this.P("rotation",a);this.P("size",b);this.P("resolution",a);this.P("crs",a);this.P("rotateEnable",b);a.P("centerCoords",this,!0);b.P("resolution",this);b.P("zoom",this);b.P("crs",this);b.P("resolution",this);b.P("centerCoords",this);b.P("rotation",this);b.P("center",this);this.P("center",a)},centerChanged:function(){this.set("centerCoords",this.map.Ub(this.get("center")))},centerCoordsChanged:function(){var a= this.map.zC(),b=this.get("centerCoords"),c=this.get("size").height*this.getResolution()/2;this.get("size");this.getResolution();this.get("center")instanceof X.O?b.x=(b.x+4.00750166855784E7)%4.00750166855784E7:0>b.x?b.x=0:b.x>a.Od&&(b.x=a.Od);b.y<a.Uc+c?b.y=a.Uc+c:b.y>a.bd-c&&(b.y=a.bd-c)},zoomChanged:function(){},rotationChanged:function(){},getResolution:function(a){return this.get("crs").Oh(a||this.get("zoom"))},SX:function(){return{zoom:this.get("zoom"),Eh:this.get("center"),za:this.get("centerCoords"), rotation:this.get("rotateEnable")&&parseInt(this.get("rotation"))||0,Qd:this.get("crs"),N:this.getResolution(),xc:Math.round(this.get("zoom")),yc:this.getResolution(Math.round(this.get("zoom")))}}}); ',true),_jsload_('anip', 'X.zd.Mc({Nu:function(a,b,c,d){function f(b){var d=this.Ji(c);this.set("zoom",b);var f=this.Ji(c).Ja(d),k=(this.mu?this.rotation:0)*Math.PI/180,d=f.x*Math.cos(k)+Math.sin(k)*f.y,f=-Math.sin(k)*f.x+Math.cos(k)*f.y;this.set("centerCoords",this.get("centerCoords").add((new X.K(d,f)).sc(this.N)));d&&f&&this.ua("mapmove");b===a&&Math.floor(a)===a&&(this.set("targetLevel",null),g&&(this.ua("zoomchange"),this.ua("zoomend")),h&&this.l("moveend"),this.l("zoomend"),this.Oc=null)}X.j.U&&(b=!0);a=a||this.get("zoom"); a=Math.min(Math.max(a,this.get("zooms")[0]),this.get("zooms")[1]);var g=a!==this.get("zoom"),h=!!c;this.Kd&&(this.Kd.stop(),this.Kd=null);c=c||this.get("centerCoords");var k;this.Rb&&this.Rb.fk&&(this.Rb.stop(),this.Rb.tz&&(d=!0),this.Rb.Up&&(k=!0),this.Rb=null,this.set("targetLevel",null));this.Oc&&this.Oc.fk&&(this.Oc.stop(),d=!0,this.Oc.Up&&(k=!0),this.Oc=null,this.set("targetLevel",null));g&&!d&&this.ua("zoomstart");h&&!k&&this.ua("movestart");this.l("zoomstart");b?f.call(this,a):(this.set("targetLevel", a),this.Oc=new X.hi(this.get("zoom"),a,null,0.02),this.Oc.tz=g,this.Oc.Up=h,this.Oc.transition=function(a,b,c){return c>=X.k.Cs?b:(b-a)*(1-Math.pow(1-c/X.k.Cs,4))+a},this.Oc.mq=f,this.Oc.Nl(this))},su:function(a,b,c,d){a||(a=this.Rb?this.Rb.A0:this.get("targetLevel")||this.get("zoom"));b||(b=this.Rb?this.Rb.XL:this.get("center"));var f=a!==this.get("zoom"),g=!b.Hb(this.get("center")),h=!1,k=!1;this.Oc&&this.Oc.fk&&(this.Oc.stop(),h=!0,this.Oc.Up&&(k=!0),this.Oc=null,this.set("targetLevel",null)); this.Rb&&this.Rb.fk&&(this.Rb.stop(),this.Rb.tz&&(h=!0),this.Rb.Up&&(k=!0),this.Rb=null,this.set("targetLevel",null));this.Kd&&(this.Kd.stop(),this.Kd=null);if(f||g){if(!this.get("bounds").contains(b)||f&&X.j.U)c=!0;if(c)f&&(h||(this.l("zoomstart"),this.ua("zoomstart")),this.set("zoom",a),this.ua("zoomchange"),this.ua("zoomend"),this.l("zoomend")),g&&(k||d||(this.ua("movestart"),this.l("movestart")),this.set("center",b),this.ua("mapmove"),this.l("moveend",{AJ:d})),this.set("targetLevel",null);else{this.set("targetLevel", a);var l=a-this.get("zoom"),m=b.Ja(this.get("center"));this.Rb=new X.hi(1,0,null,0.001);this.Rb.tz=f;this.Rb.Up=g;this.Rb.XL=b;this.Rb.A0=a;this.Rb.transition=function(a,b,c){return Math.pow(1-Math.min(X.k.Cs,c)/X.k.Cs,2)};this.Rb.mq=function(c){if(0.02>c)this.Rb&&(this.Rb.stop(),this.Rb=null),f&&(this.set("zoom",a),this.ua("zoomchange"),this.ua("zoomend"),f=!1,this.l("zoomend")),g&&(c=b,this.set("center",c),this.l("mapmove"),this.l("moveend",{AJ:d})),this.set("targetLevel",null);else if(f&&this.set("zoom", a-l*c),g){c=b.Ja(m.sc(c));if(X.j.U){var h=this.pb(this.get("center")),k=this.pb(c);this.Vi(this.Wa.Cj,h.x-k.x,h.y-k.y);this.set("center",c,!0);this.set("centerCoords",this.Ub(c),!0)}else this.set("center",c);this.ua("mapmove")}this.set("display",1)};this.Rb.Nl(this);f&&!h&&(this.l("zoomstart"),this.ua("zoomstart"));!g||k||d||(this.l("movestart"),this.ua("movestart"))}}}}); ',true),_jsload_('layers', 'X.V={}; X.V.Af=X.W.extend({oa:[X.ca,X.gd],B:function(a,b){this.Za=a;this.Pc=[3,18];this.kv=X.g.zb(this);a&&this.ld(["opacity","visible","zIndex","zooms"],a);this.A=b;this.P("display",b)},De:function(){this.Wh&&this.vy();if(X.Ca&&X.Ca.nk&&X.Ca.nk.length){var a=X.g.indexOf(X.Ca.nk,this);-1!==a&&(X.Ca.nk=X.g.Li(X.Ca.nk,a))}if(a=this.kb){if(a.length)for(var b=0;b<a.length;b+=1)a[b].parentNode&&a[b].parentNode.removeChild(a[b]);else a.parentNode&&a.parentNode.removeChild(a);this.kb=null}this.Za.De&&this.Za.De();this.Za.Og= !1;this.Za.V=null;this.Wl();this.J&&(this.J.PH(),this.J=null)},ua:function(a,b){this.Za.l(a,b)},visibleChanged:function(){this.set("display",0)},zIndexChanged:function(){this.set("display",0)},cB:function(a){X.f.gk(a,this.opacity)},opacityChanged:function(){var a=this.get("opacity");this.opacity=Math.min(Math.max(0,a),1);if(a=this.kb)if(a.length)for(var b=0;b<a.length;b+=1)this.cB(a[b]);else this.cB(a)},mt:function(){var a=this.get("bounds");if(a){if(a instanceof X.Qc){var b=a.Zg(),c=a.Pj(),d=this.A.Ub(new X.O(180, 0)).x,f=this.A.Ub(b),g=this.A.Ub(c),h=this.A.get("center");b.I>c.I?0<h.I?g.x+=d:f.x-=d:0<h.I?(0>b.I&&(f.x+=d),0>c.I&&(g.x+=d)):(0<b.I&&(f.x-=d),0<c.I&&(g.x-=d));this.q=[f.x,f.y,g.x,g.y]}a instanceof X.Td&&(this.q=[a.$a.x,a.$a.y,a.Wb.x,a.Wb.y]);return this.q}return null}});function Oc(a,b,c){this.z=a;this.x=b;this.y=c}Oc.prototype.Tb=function(){return new Oc(this.z,this.x,this.y)};Oc.prototype.toString=function(){return[this.z,this.x,this.y].join("/")};X.Cf=function(a,b){this.Xa=a;this.key=a.toString();this.url=b};X.ph=Oc;X.V.Cf=X.V.Af.extend({B:function(a,b,c,d,f){arguments.callee.Ya.apply(this,arguments);this.P("tileSize",a);this.P("tiles",a);this.ld(["zooms","type","detectRetina","tileFun","errorUrl"],a);this.P("lang",b,!0);this.P("mapStyle",b,!0);this.P("features",b,!0);var g="overlayer"===a.get("type");this.vg=!g&&!X.j.U;if(X.j.pd||X.j.Z5)this.vg=!1;var h=b.get("size"),h=h.width*h.height/65536;this.pa=X.j.U&&X.j.pa&&this.get("detectRetina");X.j.Jc&&X.j.U&&9<h&&(this.vg=!1);this.uh=!g;this.vh=!g;this.P("reload", a);this.D0=c;this.uf=d;this.aY=f},langChanged:function(){this.set("reload");this.Za.Cn()},mapStyleChanged:function(){this.set("reload");this.Za.Cn()},featuresChanged:function(){this.set("reload");this.Za.Cn()},reloadChanged:function(){this.set("display",0)},tileFunChanged:function(){this.set("reload")},Qj:function(){return{Vc:this.get("tileSize"),visible:this.get("visible"),q:this.mt(),Pc:this.get("zooms"),Fs:this.vg,uh:this.uh,vh:this.vh,opacity:this.get("opacity"),Ph:this.D0||this.get("tileFun"), Jc:this.Za.$j?!1:this.get("detectRetina")&&X.j.pa&&X.j.U}},Gh:function(a){if(X.J.mc.sg)return new X.J.mc.sg(this,a)}});X.V.kd=X.V.Af.extend({B:function(a,b){this.qb=Math.min(2,window.devicePixelRatio||1);this.Jc=X.j.pa&&!a.Vh;this.map=b;this.jk=0;this.$g=!1;this.ci=this.bi=0;this.ih=[];arguments.callee.Ya.apply(this,arguments);this.El=[];this.of=new X.V.SB;a&&(this.P("style",a),this.r0=a.get("stable")||!1,this.P("dataSources",a),this.P("bubble",a));this.P("display",b);this.XN()},Qj:function(){return{visible:this.get("visible"),Pc:this.get("zooms"),opacity:this.get("opacity"),zIndex:this.get("zIndex"),up:this.Za.get("alwaysRender")|| !1}},dataSourcesChanged:function(){var a=this.get("dataSources");a&&("string"===typeof a?(new X.na.ya(a)).e("complete",function(a){this.EK(a.data);this.jl=a.data;this.$g=!0;this.set("display");this.yb=!0;this.Za.l("complete")},this):a.length&&(this.EK(a),this.jl=a,this.$g=!0,this.set("display"),this.yb=!0,this.Za.l("complete")))},getDatas:function(){return this.jl},Z0:function(){if(this.Za.Vh){var a=this.xu;this.bi=a.size.width+a.anchor.x;this.ci=a.size.height+a.anchor.y}},ua:function(a,b){var c= {type:a,data:"mouseout"===a?this.UQ||null:b.Tk.Ma,target:this.Za};this.UQ="mouseout"===a?null:b.Tk.Ma;this.Za.l(a,c)},y2:function(){},tb:function(a){this.ua(a.type,a)},XN:function(){this.e("click",this.tb);this.e("dblclick",this.tb);this.e("mousedown",this.tb);this.e("mouseup",this.tb);this.e("mouseover",this.tb);this.e("mouseout",this.tb);this.e("touchstart",this.tb);this.e("touchend",this.tb)},G2:function(){this.C("click",this.tb);this.C("dblclick",this.tb);this.C("mousedown",this.tb);this.C("mouseup", this.tb);this.C("mouseover",this.tb);this.C("mouseout",this.tb);this.C("touchstart",this.tb);this.C("touchend",this.tb)},styleChanged:function(){this.xu=this.get("style");this.Z0();this.set("display",0)},EK:function(a){if(a){this.clear();for(var b=this.map.get("resolution",18),c=0;c<a.length;c+=1){var d=a[c].lnglat;a[c].lnglat=X.g.ha(d);d=this.map.Ub(d,18,b);d=new X.Rd({name:"point-"+X.g.zb(this),va:new X.ba.ne([d.x,d.y],!0)});d.uj=this;d.Ma=a[c];this.As(d)}}},FI:function(a){if("geojson"===a)return new X.IM({map:this.map}); if("topjson"===a)return new X.W1({map:this.map});if("subway"===a)return new X.T1({map:this.map})},LZ:function(a){if(a){var b=[],b=[],c={};if(a.rules){for(var b=a.rules,d=0,f=b.length;d<f;d+=1){for(var g=[],h=b[d].symbolizers,k=0,l=h.length;k<l;k+=1)h[k].fill&&(g[k]=new X.style.jd.TB(h[k].fill)),h[k].stroke&&(g[k]=new X.style.jd.nC(h[k].stroke));h=g;b[d].zu=h;b[d]=new X.style.aN(b[d])}c.rules=b}if(a.symbolizers){b=a.symbolizers;a=0;for(d=b.length;a<d;a+=1)b[a].fill&&(b[a]=new X.style.jd.TB(b[a].fill)), b[a].stroke&&(b[a]=new X.style.jd.nC(b[a].stroke));c.zu=b}a=new X.bv(c)}else a=new X.bv({});this.set("style",a);return a},F2:function(a,b){if(-1===X.g.indexOf(a,X.k.mb)){var c=new X.na.ya(a);c.e("complete",function(c){c=this.ra[a]=this.FI(b).$t(c);this.Xk(c);this.ua("complete")},this);c.e("error",this.Va,this)}else(new X.na.XMLHttpRequest(a)).e("complete",function(c){c=eval("("+c.data+")");c=this.ra[a]=this.FI(b).$t(c);this.Xk(c)},this)},YZ:function(a){a.Zi>this.Ti&&(this.Ti=a.Zi)},As:function(a){this.of.add(a); if(!this.dt&&!this.Za.Vh){0===a.name.indexOf("circle")&&(a.e("rad",this.YZ,this),this.Ti||(this.Ti=a.get("radius")),a.Zi>this.Ti&&(this.Ti=a.get("radius")));var b=a.get("strokeWeight")||0;if(!this.vn||b>this.vn)this.vn=b}this.r0||a.P("feature",this,!0)},Xk:function(a){this.$g=!0;for(var b=0,c=a.length;b<c;b+=1)this.As(a[b])},clear:function(){this.$g=!0;this.of.clear()},Yg:function(a){var b;return 0>a[0]?(b=[a[0]+X.g.Ua,a[1],X.g.Ua,a[3]],a=[0,a[1],a[2],a[3]],b=this.of.Yg(b),a=this.of.Yg(a),X.extend(b, a)):a[2]>X.g.Ua?(b=[a[0],a[1],X.g.Ua,a[3]],a=[0,a[1],a[2]-X.g.Ua,a[3]],b=this.of.Yg(b),a=this.of.Yg(a),X.extend(b,a)):this.of.Yg(a)},O3:function(a){var b,c=this.get("style"),d=a.Vf;c instanceof X.bv||(c=this.LZ(c));if(d&&0<d.length)b=c.IH(d,a);else{if(c.pL.length||c.Vf.length)b=c.ZV(a);b||(b=a.rX())}return b},TI:function(a){function b(a,b){return a.it-b.it}var c=[],d,f,g,h,k,l={};for(d in a)if(a.hasOwnProperty(d)){g=a[d];h=g.get("zIndex");for(f in l)if(l.hasOwnProperty(f)&&(k=c[l[f]][2],k===h))break; "undefined"===typeof l[h]&&(c.push([[],[],h]),l[h]=c.length-1);h=c[l[h]];h[0].push(g)}c.sort(this.n0);a=0;for(d=c.length;a<d;a+=1)c[a][0].sort(b);return c},featureChanged:function(a){this.$g=!0;var b=a.target,c=b.va;0!==this.of.wX([X.g.zb(b)]).length&&(this.of.remove(b,a.Fl),c&&!a.lW&&this.of.add(b))},VK:function(a){this.$g=!0;for(var b,c=0,d=a.length;c<d;c+=1)b=a[c],b.va.Fl=null,b.Lj(!0),b.fi("feature")},s5:function(a,b){return a[1].zIndex===b[1].zIndex?X.g.zb(a[1])-X.g.zb(b[1]):a[1].zIndex-b[1].zIndex}, n0:function(a,b){return a[2]-b[2]},k5:function(a){return a.S3()===X.V.b2.R1},Gh:function(a){return this.dt?new X.J.Tc.uk(this,a):"c"==this.map.get("overlayRender")&&X.J.canvas.uk?new X.J.canvas.uk(this,a):X.J.mc.uk&&"d"==this.map.get("overlayRender")?new X.J.mc.uk(this,a):null}});X.V.SB=X.W.extend({B:function(){this.clear()},clear:function(){this.wl=[];this.LA=new X.Bf},add:function(a){var b=X.g.zb(a),c=a.va;this.wl[b]||(this.count+=1,this.wl[b]=a,c&&!X.q.Hb(c.dc(),[Infinity,Infinity,-Infinity,-Infinity])&&this.LA.vt(c.dc(),a))},J3:function(){return this.wl},Yg:function(a){return this.LA.M_(a)},wX:function(a){var b=a.length,c=[],d;for(d=0;d<b;d+=1)this.wl[a[d]]&&c.push(this.wl[a[d]]);return c},remove:function(a,b){var c=X.g.zb(a).toString(),d=a.va;this.wl[c]&&(this.wl[c]= null,d&&(c="undefined"!==typeof b?b:d.dc(),this.LA.remove(c,a)))}});function Pc(a,b,c){this.url=a;this.od=b;this.oI=c;this.Gi=this.WA=!1}function Qc(a,b,c){var d=Rc;return function(){return d.call(this,a,b,c)}}function Rc(a,b,c){a.v3=+new Date;a.loaded=b;clearTimeout(a.F0);var d=a.HY;d.Wi.remove(a.url)&&d.VQ();d=a.rY?a.ra:a.sa;a.ra=null;(c||b||a.oI)&&a.od(b?d:null,a);a.DJ?(a.DJ.Hi(),a.DJ=null):d&&(d.onload=null,d.onerror=null,d.onabort=null,a.sa=null)} X.ZB=X.W.extend({f2:"assets/image/blank.gif",B:function(a,b,c){this.timeout=b||15E3;this.Kl=new X.fd(1024);this.Wi=new X.fd(1024);this.EH=a;this.bI=c},YC:function(a){a&&this.Wi.count>=this.EH&&(a=this.Wi.wb.Ia.value,a.Gi&&(this.Wi.remove(a.url),this.FC(a)));for(;this.Kl.count&&!(this.Wi.count>=this.EH);)this.aP(this.Kl.shift())},VQ:function(){if(!this.$C){this.$C=!0;var a=this;setTimeout(function(){a.$C=!1;a.YC()},0)}},aP:function(a){var b=document.createElement("img");b.src=a.url;a.sa=b;a.HY=this; a.startTime=+new Date;a.WA=!0;b.complete?Rc(a,!0):(this.Wi.set(a.url,a),b.onload=Qc(a,!0),b.onerror=Qc(a,!1,!0),b.onabort=Qc(a,!1),a.F0=setTimeout(Qc(a,!1,!0),this.timeout))},FC:function(a){a.WA&&(Rc(a,!1),a.Gi=!0,a.K2=!0)},w4:function(a,b,c){return this.MJ(a.url,b,c,!0,a.Xa.z+"_"+a.Xa.x+"_"+a.Xa.y)},MJ:function(a,b,c,d,f){var g=this.Wi.get(a);if(g&&g.Gi)g.Gi=!1,g.od=b,g.oI=c;else{g=new Pc(a,b,c);g.rY=d;g.key=f;if(this.Kl.get(X.g.zb(g)))return;this.Kl.set(X.g.zb(g),g);this.YC(!0)}return g},mV:function(a){a.Gi|| (a.Gi=!0,this.Kl.remove(X.g.zb(a)))},clear:function(a){this.Kl.forEach(function(a){a.Gi=!0});this.Kl.clear();if(a)for(;a=this.Wi.pop();)this.FC(a);else this.Wi.forEach(function(a){a.Gi=!0})}});var Sc=function(){function a(a){this.gv[X.g.zb(a)]=a;return this}function b(a){this.gv[X.g.zb(a)]=null;return this}return function(){function c(){var a=c.gv,b,g=[],h;for(h in a)Object.prototype.hasOwnProperty.call(a,h)&&g.push(a[h]);for(a=g.length-1;0<=a;a-=1)h=g[a].apply(this,arguments),void 0!==h&&(b=h);return b}c.gv={};c.tU=a;c.Y4=b;return c}}(); X.fd=X.W.extend({oa:[X.ca],B:function(a,b){this.lj=a|0;this.hr=!!b;this.count=0;this.nK=Sc();this.clear();this.Pr=[]},cq:function(){return!this.count},k4:function(){return this.count>=this.lj},o5:function(a){this.lj!==a&&(this.lj=a|0)&&this.GG(this.lj)},rc:function(a){return!!this.A[a]},get:function(a,b){var c=this.DD(a);return c?c.value:b},set:function(a,b){var c=this.DD(a);c?c.value=b:(c=new X.fd.sk(a,b),this.A[a]=c,this.qE(c),this.count+=1)},Yl:function(a){this.remove(a)},remove:function(a){return Object.prototype.hasOwnProperty.call(this.A, a)?(this.ap(this.A[a]),!0):!1},forEach:function(a,b){for(var c=this.wb.next;c!==this.wb;c=c.next)a.call(b,c.value,c.key,this)},zn:function(a,b){return Object.prototype.hasOwnProperty.call(this.A,a)?this.A[a].value:b},R4:function(){return this.wb.next.value},S4:function(){return this.wb.Ia.value},shift:function(){return this.LF(this.wb.next)},EV:function(){this.Pr.length=0},KY:function(a){this.Pr.push(a)},push:function(a){a=new X.fd.sk("",a);0===this.count?(this.wb.Ia=null,a.Ia=this.wb,this.wb.next= a):(this.kp.next=a,a.Ia=this.kp);this.count+=1;this.kp=a},Hu:function(a){a=new X.fd.sk("",a);0===this.count?(this.wb.Ia=null,a.Ia=this.wb,this.kp=this.wb.next=a):(this.wb.next.Ia=a,a.next=this.wb.next,a.Ia=this.wb,this.wb.next=a);this.count+=1},bZ:function(){if(this.count){this.count-=1;var a=this.wb.next;a.next?(a.next.Ia=this.wb,this.wb.next=a.next):(this.wb.next=null,this.kp=this.wb.Ia=null);a.next=null;a.Ia=null;return a.value}return null},pop:function(){return this.LF(this.wb.Ia)},DD:function(a){if(Object.prototype.hasOwnProperty.call(this.A, a))return a=this.A[a],this.hr&&(a.remove(),this.qE(a)),a},qE:function(a){this.hr?(a.next=this.wb.next,a.Ia=this.wb,this.wb.next=a,a.next.Ia=a):(a.Ia=this.wb.Ia,a.next=this.wb,this.wb.Ia=a,a.Ia.next=a);this.lj&&this.FT(this.lj)},FT:function(){var a=this;a.lp||(a.lp=setTimeout(function(){a.lp=null;a.GG(a.lj)},0))},GG:function(a){this.lp&&(clearTimeout(this.lp),this.lp=null);for(var b=this.hr?this.wb.Ia:this.wb.next,c={},d=0,f=this.Pr.length;d<f;d++)c[this.Pr[d]]=!0;for(;b&&this.count>a&&(d=this.hr? b.Ia:b.next,b.key&&!c[b.key]&&(this.ap(b),this.nK(b.value)),b=d,b!==this.wb&&b!==this.kp););},ap:function(a){a.remove();delete this.A[a.key];this.count-=1},LF:function(a){this.wb!==a&&this.ap(a);return a.value},clear:function(){this.A={};this.wb=new X.fd.sk("",null);this.wb.Ia=this.wb.next=this.wb;this.count=0}});X.fd.sk=function(a,b){this.key=a;this.value=b};X.fd.sk.prototype.Ia=null;X.fd.sk.prototype.next=null; X.fd.sk.prototype.remove=function(){this.Ia.next=this.next;this.next.Ia=this.Ia;this.next=this.Ia=null};X.Bf=X.W.extend({B:function(a){this.WJ="undefined"!==typeof a?a:6;this.Kt=Math.floor(this.WJ/2);this.lu={q:[Infinity,Infinity,-Infinity,-Infinity],Da:[]};this.count=0},yV:function(a,b){var c=-1,d=[],f;d.push(b);var g=b.Da;do{-1!==c&&(d.push(g[c]),g=g[c].Da,c=-1);for(var h=g.length-1;0<=h;h-=1){var k=g[h];if("undefined"!==typeof k.Al){c=-1;break}var l=X.Bf.On(k.q[2]-k.q[0],k.q[3]-k.q[1],k.Da.length+1),k=X.Bf.On((k.q[2]>a.q[2]?k.q[2]:a.q[2])-(k.q[0]<a.q[0]?k.q[0]:a.q[0]),(k.q[3]>a.q[3]?k.q[3]:a.q[3])- (k.q[1]<a.q[1]?k.q[1]:a.q[1]),k.Da.length+2);if(0>c||Math.abs(k-l)<f)f=Math.abs(k-l),c=h}}while(-1!==c);return d},vt:function(a,b,c){a={q:a,Al:b};"undefined"!==typeof c&&(a.type=c);this.nJ(a,this.lu);this.count+=1},nJ:function(a,b){var c;if(0===b.Da.length)b.q=X.q.Tb(a.q),b.Da.push(a);else{var d=this.yV(a,b),f=a;do{if(c&&"undefined"!==typeof c.Da&&0===c.Da.length){var g=c;c=d.pop();for(var h=0,k=c.Da.length;h<k;h+=1)if(c.Da[h]===g||0===c.Da[h].Da.length){c.Da.splice(h,1);break}}else c=d.pop();g=f instanceof Array;if("undefined"!==typeof f.Al||"undefined"!==typeof f.Da||g){if(g){g=0;for(h=f.length;g<h;g+=1)X.q.extend(c.q,f[g].q);c.Da=c.Da.concat(f)}else X.q.extend(c.q,f.q),c.Da.push(f);c.Da.length<=this.WJ?f={q:X.q.Tb(c.q)}:(f=g=this.BY(c.Da),1>d.length&&(c.Da.push(g[0]),d.push(c),f=g[1]))}else X.q.extend(c.q,f.q),f={q:X.q.Tb(c.q)}}while(0<d.length)}},BY:function(a){for(var b=this.OZ(a);0<a.length;)this.PZ(a,b[0],b[1]);return b},OZ:function(a){for(var b=a.length-1,c=0,d=a.length-1,f=0,g=a.length-2;0<= g;g-=1){var h=a[g];h.q[0]>a[c].q[0]?c=g:h.q[2]<a[b].q[1]&&(b=g);h.q[1]>a[f].q[1]?f=g:h.q[3]<a[d].q[3]&&(d=g)}Math.abs(a[b].q[2]-a[c].q[0])>Math.abs(a[d].q[3]-a[f].q[1])?b>c?(b=a.splice(b,1)[0],c=a.splice(c,1)[0]):(c=a.splice(c,1)[0],b=a.splice(b,1)[0]):d>f?(b=a.splice(d,1)[0],c=a.splice(f,1)[0]):(c=a.splice(f,1)[0],b=a.splice(d,1)[0]);return[{q:X.q.Tb(b.q),Da:[b]},{q:X.q.Tb(c.q),Da:[c]}]},PZ:function(a,b,c){for(var d=X.Bf.On(b.q[2]-b.q[0],b.q[3]-b.q[1],b.Da.length+1),f=X.Bf.On(c.q[2]-c.q[0],c.q[3]- c.q[1],c.Da.length+1),g,h,k,l=a.length-1;0<=l;l-=1){var m=a[l],n=[b.q[0]<m.q[0]?b.q[0]:m.q[0],b.q[2]>m.q[2]?b.q[2]:m.q[2],b.q[1]<m.q[1]?b.q[1]:m.q[1],b.q[3]>m.q[3]?b.q[3]:m.q[3]],n=Math.abs(X.Bf.On(n[1]-n[0],n[3]-n[2],b.Da.length+2)-d),m=[c.q[0]<m.q[0]?c.q[0]:m.q[0],c.q[2]>m.q[2]?c.q[2]:m.q[2],c.q[1]<m.q[1]?c.q[1]:m.q[1],c.q[3]>m.q[3]?c.q[3]:m.q[3]],m=Math.abs(X.Bf.On(m[1]-m[0],m[3]-m[2],c.Da.length+2)-f),p=Math.abs(m-n);if(!h||!g||p<g)h=l,g=p,k=m<n?c:b}d=a.splice(h,1)[0];b.Da.length+a.length+1<= this.Kt?(b.Da.push(d),X.q.extend(b.q,d.q)):c.Da.length+a.length+1<=this.Kt?(c.Da.push(d),X.q.extend(c.q,d.q)):(k.Da.push(d),X.q.extend(k.q,d.q))},remove:function(a,b){var c=[];c[0]={q:a};(c[1]=b)||(c[1]=!1);c[2]=this.lu;this.count-=1;if(!1===c[1]){var d=0,f=[];do d=f.length,f=f.concat(this.YK.apply(this,c));while(d!==f.length);return f}return this.YK.apply(this,c)},YK:function(a,b,c){var d=[],f=[],g=[];if(!a||!X.q.Ld(a.q,c.q))return g;a=X.q.Tb(a.q);var h;f.push(c.Da.length);d.push(c);do{c=d.pop(); var k=f.pop()-1;if("undefined"!==typeof b)for(;0<=k;){var l=c.Da[k];if(X.q.Ld(a,l.q))if(b&&"undefined"!==typeof l.Al&&l.Al===b||!b&&("undefined"!==typeof l.Al||X.q.FH(a,l.q))){"undefined"!==typeof l.Da?(g=this.Ln(l,!0,[],l),c.Da.splice(k,1)):g=c.Da.splice(k,1);X.Bf.NA(c);b=void 0;c.Da.length<this.Kt&&(h=this.Ln(c,!0,[],c));break}else"undefined"!==typeof l.Da&&(f.push(k),d.push(c),c=l,k=l.Da.length);k-=1}else if("undefined"!==typeof h){c.Da.splice(k+1,1);0<c.Da.length&&X.Bf.NA(c);k=0;for(l=h.length;k< l;k+=1)this.nJ(h[k],c);h.length=0;0===d.length&&1>=c.Da.length?(h=this.Ln(c,!0,h,c),c.Da.length=0,d.push(c),f.push(1)):0<d.length&&c.Da.length<this.Kt?(h=this.Ln(c,!0,h,c),c.Da.length=0):h=void 0}else X.Bf.NA(c)}while(0<d.length);return g},search:function(a,b){return this.Ln({q:a},!1,[],this.lu,b)},M_:function(a,b){return this.Ln({q:a},!1,[],this.lu,b,!0)},Ln:function(a,b,c,d,f,g){var h={},k=[];if(!X.q.Ld(a.q,d.q))return c;k.push(d.Da);do{d=k.pop();for(var l=d.length-1;0<=l;l-=1){var m=d[l];if(X.q.Ld(a.q, m.q))if("undefined"!==typeof m.Da)k.push(m.Da);else if("undefined"!==typeof m.Al)if(b)c.push(m);else if("undefined"===typeof f||m.type===f)m=m.Al,"undefined"!==typeof g?h[X.g.zb(m)]=m:c.push(m)}}while(0<k.length);return"undefined"!==typeof g?h:c}});X.Bf.NA=function(a){var b=a.Da.length,c=a.q;if(0===b)X.q.empty(c);else{var d=a.Da[0].q;c[0]=d[0];c[2]=d[2];c[1]=d[1];c[3]=d[3];for(d=1;d<b;d+=1)X.q.extend(c,a.Da[d].q)}};X.Bf.On=function(a,b,c){var d=(a+b)/2;a*=b;return a*c/(a/(d*d))}; ',true),_jsload_('overlay0', 'X.Ea=X.Ea||{}; X.Ea.ej=X.W.extend({oa:[X.ca,X.gd],AZ:["position","visible","clickable","bubble"],B:function(a,b){this.map=b;this.ld(this.AZ,a);this.P("zIndex",a);this.P("draggable",a);X.j.ed&&this.dO();X.j.U||this.xv();this.Zb=a;this.Zb.Ea=this},draggableChanged:function(){this.get("draggable")?this.wv():this.Xw()},ua:function(a,b){var c;c=b?{type:a,pixel:b.Ob,target:this.Zb,lnglat:b.af}:{type:a};this.Zb&&this.Zb.l(a,c)},tb:function(a){("click"!==a.type&&"rightclick"!==a.type&&"dblclick"!==a.type||this.get("clickable"))&& this.ua(a.type,a)},vv:function(){this.e("click",this.tb);this.e("rightclick",this.tb);this.e("dblclick",this.tb)},IG:function(){this.C("click",this.tb);this.C("rightclick",this.tb);this.C("dblclick",this.tb)},xv:function(){this.get("clickable")&&this.vv();this.e("mousemove",this.tb);this.e("mouseout",this.tb);this.e("mouseover",this.tb);this.e("mousedown",this.tb);this.e("mouseup",this.tb)},I2:function(){this.IG();this.C("mousemove",this.tb);this.C("mouseout",this.tb);this.C("mouseover",this.tb); this.C("mousedown",this.tb);this.C("mouseup",this.tb)},clickableChanged:function(){this.get("clickable")?this.vv():this.IG()},dO:function(){this.get("clickable")&&this.vv();this.e("touchstart",this.tb,this);this.e("touchmove",this.tb,this);this.e("touchend",this.tb,this)},wv:function(){this.e("dragstart",this.Mk);this.e("dragging",this.Kk);this.e("dragend",this.Lk)},Mk:function(a){this.map.QJ(a);this.sf=a.Ob;this.ua("dragstart",a)},Kk:function(a){var b=a.Ob.Ja(this.sf),c=b.x,b=b.y;this.sf=a.Ob;var d= this.map.get("rotation")*Math.PI/180;this.Vi(new X.K(c*Math.cos(d)+Math.sin(d)*b,-Math.sin(d)*c+Math.cos(d)*b));this.ua("dragging",a)},Lk:function(a){this.map.mM();this.ua("dragend",a)},Xw:function(){this.C("dragstart",this.Mk);this.C("dragging",this.Kk);this.C("dragend",this.Lk)},ND:function(a){var b,c,d=[];b=0;for(c=a.length;b<c;b+=1)d.push(this.ew(a[b]));return d},ew:function(a){a=this.map.Ub(a);return[a.x,a.y]},Ib:function(a){var b=this.F.Pa||this.map.get("centerCoords"),c=this.map.get("crs").Oh(Math.floor(this.map.get("zoom"))); return[(a[0]-b.x)/c,(a[1]-b.y)/c]}});X.Ea.Sd=X.Ea.ej.extend({CA:"content contentDom icon opacity angle autoRotation offset shadow title label isTop shape topWhenClick topWhenMouseOver noSelect".split(" "),B:function(a,b){arguments.callee.Ya.apply(this,arguments);this.ld(this.CA,a);this.P("move",a);this.fV();this.al();this.set("AnimationOffset",new X.K(0,0));this.P("raiseOnDrag",a);this.GU={AMAP_ANIMATION_NONE:!1,AMAP_ANIMATION_DROP:X.hi.Easing.Bounce,AMAP_ANIMATION_BOUNCE:X.hi.Easing.Cubic};this.P("animation",a)},uw:function(a,b,c){if(this.get("animation")&& "AMAP_ANIMATION_NONE"!==this.get("animation")){var d=this;this.eh=new X.hi;this.eh.transition=function(c,g,h){if(a&&600<=h)return d.eh.stop(),0;c=0===Math.floor(h/600)%2?"Out":"In";"out"===b?c="Out":"in"===b&&(c="In");return d.GU[d.get("animation")][c](h%600/600)};c=c||40;this.eh.mq=function(a){d.set("AnimationOffset",d.Zw.add(new X.K(0,-1*c*a)))};this.Zw=new X.K(0,0);this.eh.Nl()}},AnimationOffsetChanged:function(){this.positionChanged()},UF:function(){this.eh&&(this.eh.stop(),this.set("AnimationOffset", this.Zw));this.set("AnimationOffset",new X.K(0,-40));if(this.$n)this.$n.set("position",this.get("position"));else{var a=new Z({zIndex:this.get("zIndex")-1,icon:new Jc({image:X.k.mb+"/theme/v1.3/dragCross.png",size:new X.Yb(14,11)}),offset:new X.K(-4,-5),position:this.get("position")});a.ea=!0;this.$n=a}this.$n.setMap(this.map.Ba)},uD:function(){this.set("animation","AMAP_ANIMATION_DROP",!0);this.uw(!0,"in");this.$n.setMap(null)},animationChanged:function(){this.eh&&(this.eh.stop(),this.set("AnimationOffset", this.Zw),this.eh=null);var a=this.get("animation");a&&"AMAP_ANIMATION_NONE"!==a&&("AMAP_ANIMATION_DROP"===a?this.uw(!0,"in",100):this.uw())},xg:function(){this.$n&&this.$n.set("position",this.get("position"))},raiseOnDragChanged:function(){this.get("raiseOnDrag")?(this.e("dragstart",this.UF,this),this.e("dragging",this.xg,this),this.e("dragend",this.uD,this)):(this.C("dragstart",this.UF,this),this.C("dragging",this.xg,this),this.C("dragend",this.uD,this))},Vi:function(a){var b=this.get("position"); a=this.map.Ub(b).add(a.sc(this.map.get("resolution")));b instanceof X.O?this.set("position",this.map.Se(a)):this.set("position",a)},fV:function(){var a=this.get("content"),b=this.get("shadow"),c=this.get("offset"),d=this.get("label"),a=a?this.kH(a,c):this.ky(this.get("icon"),c);this.set("contentDom",a);b&&(b=this.nH(b,c),this.set("shadowDom",b));d&&d.content&&this.set("labelDom",this.mH(d.content))},mH:function(a){var b=document.createElement("div");b.className="amap-marker-label";b.innerHTML=a;return b}, al:function(){if(this.map&&this.get("position")&&!this.F){var a=this.map,b=this.map.Ub(this.get("position")),a=this.F=new X.Rd({name:"marker-"+X.g.zb(this),map:a,va:new X.ba.ne([b.x,b.y])});a.uj=this;this.P("coords",a,!0);a.P("offset",this,!0);a.P("isTop",this,!0);a.P("zIndex",this,!0);a.P("params",this,!0);a.P("noSelect",this,!0)}},getParams:function(){return{zIndex:this.get("zIndex"),YG:this.get("angle"),Hj:this.get("contentDom"),vY:this.get("labelDom"),l0:this.get("shadowDom"),opacity:this.get("opacity"), title:this.get("title"),label:this.get("label"),LB:this.get("AnimationOffset"),offset:this.get("offset"),uY:this.get("isTop"),shape:this.get("shape"),visible:this.get("visible")}},offsetChanged:function(){if(this.F&&this.F.S){var a=this.map.Ub(this.get("position")).Ja(this.F.ia).Gb(this.map.get("resolution"));this.F.S&&(this.F.S.style.left=Math.floor(a.x)+this.get("offset").x+this.get("AnimationOffset").x+"px",this.F.S.style.top=Math.floor(a.y)+this.get("offset").y+this.get("AnimationOffset").y+"px")}}, positionChanged:function(){if(this.F){var a=this.map.Ub(this.get("position"));this.set("coords",[a.x,a.y]);this.F.S&&this.F.S.cx&&(a=a.Ja(this.F.HJ.ia).Gb(this.map.get("resolution")),this.F.S.style.left=Math.floor(a.x)+this.get("offset").x+this.get("AnimationOffset").x+"px",this.F.S.style.top=Math.floor(a.y)+this.get("offset").y+this.get("AnimationOffset").y+"px",this.F.S.parentNode!==this.F.S.cx&&this.F.S.cx.appendChild(this.F.S))}},contentChanged:function(){if(this.F){this.map.Vb.Tp=!0;-1===X.g.indexOf(this.map.Vb.ih, this.F)&&this.map.Vb.ih.push(this.F);this.F.S&&this.F.S.removeChild(this.get("contentDom"));var a=this.get("content"),b=this.get("offset"),a=this.kH(a,b);this.set("contentDom",a);this.F.S?(X.j.kg&&X.g.iepngFix(a),this.F.S.appendChild(a),this.F.Hj=a):this.map&&this.map.set("display")}},iconChanged:function(){if(this.F&&this.F.S&&!this.get("content")){this.map.Vb.Tp=!0;-1===X.g.indexOf(this.map.Vb.ih,this.F)&&this.map.Vb.ih.push(this.F);this.F.S&&this.get("contentDom")&&this.F.S.removeChild(this.get("contentDom")); var a=this.get("icon"),b=this.get("offset"),a=this.ky(a,b);this.set("contentDom",a);this.F.S?(X.j.kg&&X.g.iepngFix(a),this.F.S.appendChild(a),this.F.Hj=a):this.map&&this.map.set("display")}},shadowChanged:function(){if(this.F&&this.F.S){var a=this.get("shadowDom");this.F.S&&a&&a.parentNode===this.F.S&&this.F.S.removeChild(a);if(a=this.get("shadow")){var b=this.get("offset"),a=this.nH(a,b);this.set("shadowDom",a);this.F.S&&this.F.S.appendChild(a)}}},titleChanged:function(){this.F&&this.F.Hj&&"string"=== typeof this.get("title")&&this.F.Hj&&this.get("title")&&(this.F.Hj.title=this.get("title"))},labelChanged:function(){if(this.F&&this.F.S){var a=this.get("label"),b=this.F.S;if(b&&a&&a.hasOwnProperty("content")){this.get("labelDom")&&b.removeChild(this.get("labelDom"));var c="";if(a.content){var c=this.mH(a.content),d=0,f=0;a.offset&&(d=a.offset.y+"px",f=a.offset.x+"px");c.style.top=d;c.style.left=f;b.appendChild(c)}this.set("labelDom",c)}}},isTopChanged:function(){var a=this.map.Vb.Cu,b=this.get("isTop"), c=this.get("zIndex");a?a===this?this.F&&this.F.S&&(this.F.S.style.zIndex=b?this.map.Vb.jk+10:c,this.map.Vb.Cu=b?this:null):(a.F&&a.F.S&&(a.F.S.style.zIndex=b?a.get("zIndex"):this.map.Vb.jk+10),this.F&&this.F.S&&(this.F.S.style.zIndex=b?this.map.Vb.jk+10:c),this.map.Vb.Cu=b?this:a):(this.map.Vb.Cu=this,this.F&&this.F.S&&(this.F.S.style.zIndex=b?this.map.Vb.jk+10:c))},visibleChanged:function(){this.F&&this.F.S&&(this.get("visible")?this.F.S.style.display="block":this.F.S.style.display="none")},angleChanged:function(){if(this.F&& this.F.S){var a={x:-1*this.get("offset").x,y:-1*this.get("offset").y};X.f.rotate(this.F.S,this.get("angle")||0,a)}},zIndexChanged:function(){var a=this.get("zIndex");if(a>this.map.Vb.jk){this.map.Vb.jk=a;var b=this.map.Vb.Cu;b&&b.F&&b.F.S&&(b.F.S.style.zIndex=a+10)}this.F&&this.F.S&&(this.F.S.style.zIndex=this.get("isTop")?this.map.Vb.jk+10:this.get("zIndex"))},opacityChanged:function(){var a=this.get("contentDom"),b=this.get("shadowDom");a&&X.f.gk(a,this.get("opacity"));b&&X.f.gk(b,this.get("opacity"))}, kH:function(a){var b;b=document.createElement("div");b.className="amap-marker-content";"string"!==typeof a?b.appendChild(a):(b.innerHTML=a,b.childNodes[0]&&!b.childNodes[0].style&&(b.style["white-space"]="pre"));X.f.gk(b,this.get("opacity"));return b},ky:function(a){var b,c=0,d=0,f,g,h,k;a?("string"===typeof a?(b=a,k=!0):(b=a.get("image"),d=a.get("size"),f=a.get("imageSize"),c=d.width,d=d.height,f&&(g=f.width,h=f.height)),c||(c=0),d||(d=0),a="string"!==typeof a?a.get("imageOffset"):{x:0,y:0}):(b= X.k.Be+"/mark_bs.png",a={x:0,y:0},c=19,d=33,g=19,h=33);f=document.createElement("div");f.className="amap-icon";f.style.position="absolute";k&&!X.j.pd&&(f.style.overflow="inherit");c&&(f.style.width=c+"px");d&&(f.style.height=d+"px");c=document.createElement("img");c.src=b;g&&h&&(c.style.width=g+"px",c.style.height=h+"px");c.style.top=a.y+"px";c.style.left=a.x+"px";X.j.pd&&k||f.appendChild(c);X.f.gk(X.j.pd&&k?c:f,this.get("opacity"));return X.j.pd&&k?c:f},nH:function(a,b){var c=this.ky(a,b);c.style.zIndex= -1;return c},moveChanged:function(){var a=this.get("move");if(!1===a)return this.v0();void 0!==a&&("pause"===a.action?this.NZ():"[object Array]"===Object.prototype.toString.call(a.af)?a.af&&("resume"===a.action&&this.Mr?this.moveTo(a.af[a.af.xi||0],a.speed,a.Ha):(this.Mr&&this.l("movestop"),a.af.xi=0,this.set("position",a.af[0]),this.WY(a.af,a.speed,a.Ha,a.AV))):this.moveTo(a.af,a.speed,a.Ha,!0))},moveTo:function(a,b,c,d){var f=this.get("position");a.Ja(f);var g=Math.round(a.xe(f)/1E3/b*36E5);if(0=== g)return this.l("moveend");this.Ce&&(this.Ce.stop(),this.Ce=null);this.Ce=new X.hi(f,a);c=c||function(a){return a};this.Ce.transition=function(a,b,d){if(d>=g)return b;var f=(b.I-a.I)*c(d/g)+a.I;a=(b.M-a.M)*c(d/g)+a.M;return new X.O(f,a)};this.Ce.mq=function(b){this.set("position",b);b.Hb(a)?(this.Ce&&(this.Ce.stop(),this.Ce=null),this.Zb.l("moveend"),this.l("moveend")):(d&&this.Zb.l("moving",{passedPath:[this.Ce.start,this.get("position")]}),this.l("moving"))};this.get("autoRotation")&&!X.j.pd&&(b= this.BP(f,a),this.set("angle",b));this.Ce.Nl(this)},v0:function(){this.Ce&&(this.Ce.stop(),this.Ce=null,this.l("movestop"))},NZ:function(){this.Ce&&(this.Ce.stop(),this.Ce=null,this.l("movepause"))},WY:function(a,b,c,d){function f(){var b=a.slice(0,a.xi||0);b.push(this.get("position"));this.Zb.l("moving",{passedPath:b})}function g(){a.xi<a.length-1?(a.xi+=1,this.moveTo(a[a.xi],b,c)):(this.ua("movealong"),d?(a.xi=0,this.set("position",a[0]),this.moveTo(a[a.xi],b,c)):this.l("movestop"))}var h=Math.min(a.xi|| 0,a.length-1);this.Mr||(this.Mr=!0,this.e("moving",f,this),this.e("moveend",g,this),this.e("movestop",function l(){this.Mr=!1;this.C("moveend",g,this);this.C("moving",f,this);this.C("movestop",l,this)},this));this.moveTo(a[h],b,c)},BP:function(a,b){var c=this.map,d=c.Ub(a),c=c.Ub(b),f=0;c.xe(d);var g=c.y-d.y,h=c.x-d.x;0!==c.x-d.x?(f=Math.atan((c.y-d.y)/(c.x-d.x)),0<=g&&0>h?f=Math.PI+f:0>g&&0>=h?f=Math.PI+f:0>g&&0<=h&&(f=2*Math.PI+f)):f=c.y>d.y?Math.PI/2:3*Math.PI/2;return X.g.Wg(180*f/Math.PI,1)}});X.Ea.Ou=X.Ea.ej.extend({B:function(a,b){arguments.callee.Ya.apply(this,arguments);this.P("items",a,!0);this.P("content",a,!0);this.P("resolution",b);this.P("centerCoords",b);this.wp=a},kK:function(){this.be();this.Tn();this.mk();this.map.e("movestart",this.Fg,this);this.map.e("mapmove",this.Fg,this);this.map.e("zoomstart",this.Fg,this);this.map.e("click",this.Fg,this);this.map.e("closeOverlays",this.Fg,this);this.map.e("rotate",this.Fg,this)},Fg:function(){this.wp.map&&this.wp.close()},mapChanged:function(){}, positionChanged:function(){this.mk()},be:function(){this.D&&(this.D.parentNode&&this.D.parentNode.removeChild(this.D),this.D=null);var a=X.f.create("div",null,"amap-menu");X.r.e(a,"mousedown",function(a){X.r.stopPropagation(a)},this);this.D=a;this.map.Wa.Ea.appendChild(this.D)},Tn:function(){var a=this,b=this.D;b.innerHTML="";var c=this.get("content");if("object"===typeof c)b.appendChild(c);else if("string"===typeof c)b.innerHTML=c;else if((c=this.get("items"))&&c.length){var d=X.f.create("ul",b, "amap-menu-outer");c.sort(function(a,b){return isNaN(a.Qt)||isNaN(b.Qt)?0:a.Qt-b.Qt});for(b=0;b<c.length;b+=1)(function(b){var c=b.kM,h=b.Ha,k=X.f.create("li",d);k.innerHTML=c;X.r.e(k,"click",function(){h.call(k);a.wp.close()},k)})(c[b])}else this.D.innerHTML=""},mk:function(){var a=this.map,b=this.D;if(a&&b){var c=a.Ub(this.get("position")),d=this.get("centerCoords"),b=(c.x-d.x)/this.get("resolution"),c=(c.y-d.y)/this.get("resolution"),a=a.get("size"),c=c+a.height/2,b=b+a.width/2,d=X.f.Sp(this.D); b>a.width-d.width-5&&(b-=d.width);c>a.height-d.height-5&&(c-=d.height);this.D.style.right="";this.D.style.bottom="";this.D.style.left=b+"px";this.D.style.top=c+"px"}},De:function(){this.D&&(this.map.C("click",this.dD,this),this.map.Wa.Ea.removeChild(this.D),this.wp.Og=!1,this.D=this.wp.pi.map=null,this.map.C("movestart",this.Fg,this),this.map.C("zoomstart",this.Fg,this),this.map.C("click",this.Fg,this),this.map.C("closeOverlays",this.Fg,this),this.map.C("rotate",this.Fg,this))},visibleChanged:function(){this.D&& (this.get("visible")?this.D.style.display="block":this.D.style.display="none")},itemsChanged:function(){this.D&&this.Tn()}});X.Ea.qh=X.Ea.ej.extend({B:function(a,b){arguments.callee.Ya.apply(this,arguments);this.ld("content contentDom position contentU isCustom autoMove showShadow closeWhenClickMap size offset".split(" "),a);this.P("retainWhenClose",a,!0);a.P("toBeClose",this);this.Yk=a},kK:function(a){this.SV||(this.be(),this.Tn(),this.KV());this.fi("resolution");this.fi("centerCoords");this.fi("render");this.P("resolution",a);this.P("centerCoords",a);this.P("render",a);this.map=a;a.Wa.Ea.appendChild(this.fb);this.zB(); this.mk();this.JC();this.SV=!0;this.Zb.l("onAdd",{type:"onAdd",target:this.Zb})},be:function(){var a=X.f.create("div");a.className="amap-info";var b=X.f.create("div",a),c=X.f.create("div",a),d=X.f.create("div",c);a.style.position="absolute";c.style.position="absolute";c.style.bottom=-1*(this.get("offset").y||0)+"px";c.style.left=(this.get("offset").x||0)+"px";b.style.position="absolute";b.style.bottom=-1*(this.get("offset").y||0)+"px";b.style.left=(this.get("offset").x||0)+"px";this.fb=a;this.Hc= c;this.Bq=b;this.ve=d;this.set("contentDom",this.ve,!0)},Tn:function(){var a=this.get("contentU");if(a){var b=this.get("isCustom"),c=this.ve,d=this.Bq;c.innerHTML="";var f=null;if(b){if("string"===typeof a)c.innerHTML=a;else if(a instanceof Array)for(f=0;f<a.length;f+=1)c.appendChild(a[f]);else c.appendChild(a);f=c;d.parentNode&&d.parentNode.removeChild(d)}else{f=d=X.f.create("div",c,"amap-info-content amap-info-outer");"string"===typeof a?d.innerHTML=a:d.appendChild(a);this.TV=d;a=X.f.create("a", this.ve,"amap-info-close");a.innerHTML="\\u00d7";this.uy=a;a.href="javascript: void(0)";X.j.ed&&(X.r.e(a,"touchstart",function(a){X.r.stop(a)},this),X.r.e(a,"touchend",function(a){X.r.stop(a);this.Yk.close()},this),X.r.e(a,"click",function(a){X.r.stop(a);this.Yk.close()},this));X.j.U||(X.r.e(a,"mousedown",function(a){X.r.stop(a)},this),X.r.e(a,"click",function(a){X.r.stop(a);this.Yk.close()},this));if(a=this.get("size",!0))0!==a.width&&(d.style.width=a.width+"px"),0!==a.height&&(d.style.height=a.height+ "px");a=X.f.create("div",c,"amap-info-sharp");a.style.height="23px";if(X.j.kg||X.j.Yp)a.style.marginLeft=c.childNodes[0].offsetWidth/2-5;this.Bq.style.display="block"}X.r.u0(f)}},zB:function(){var a=this.get("isCustom"),b=this.get("showShadow");if(!a&&b){var a=this.Bq,b=X.f.Sp(this.ve),c=b.height-23,d=b.width;if(X.j.kg||X.j.Yp)c=this.ve.childNodes[0].offsetHeight,d=this.ve.childNodes[0].offsetWidth+26;b="background-image:url("+X.k.mb+(X.j.kg?"/theme/v1.3/iws.gif);":"/theme/v1.3/iws.png);");a.innerHTML= "";var f=[],g;g=f[1]={};g.height=0.5*c+4;g.width=d;g.offsetX=400;g.offsetY=16;g.top=-g.height-10-15;g.left=23;g=f[2]={};g.height=f[1].height;g.width=f[1].height;g.offsetX=1075-g.width;g.offsetY=f[1].offsetY;g.top=f[1].top;g.left=23+f[1].width;g=f[3]={};g.height=10;g.width=22;g.offsetX=30;g.offsetY=445;g.top=-25;g.left=23+(X.j.Yp||X.j.kg?5:0);g=f[4]={};g.height=10;g.width=d/2-15-f[3].left-f[3].width;g.offsetX=132;g.offsetY=445;g.top=-25;g.left=f[3].left+f[3].width;g=f[5]={};g.height=10;g.width=70; g.offsetX=80;g.offsetY=445;g.top=-25;g.left=f[4].left+f[4].width;g=f[6]={};g.height=10;g.width=d-f[5].left-f[5].width;g.offsetX=132;g.offsetY=445;g.top=-25;g.left=f[5].left+f[5].width;g=f[7]={};g.height=10;g.width=30;g.offsetX=621;g.offsetY=445;g.top=-25;g.left=d;g=f[8]={};g.height=15;g.width=70;g.offsetX=47;g.offsetY=470;g.top=-15;g.left=d/2-15;for(c=1;8>=c;c+=1)d=X.f.create("div",a),g=[],g.push("position:absolute;"),g.push(b),g.push("top:"+f[c].top+"px;"),g.push("left:"+f[c].left+"px;"),g.push("width:"+ f[c].width+"px;"),g.push("height:"+f[c].height+"px;"),g.push("background-position:"+-f[c].offsetX+"px "+-f[c].offsetY+"px;"),d.style.cssText=g.join("")}},J5:function(){},mk:function(){var a=this.map,b=this.fb,c=this.get("position"),d=this.get("resolution");if(a&&b&&c){var c=a.Ub(this.get("position")),f=this.get("centerCoords"),b=(c.x-f.x)/d,d=(c.y-f.y)/d,a=a.get("size"),c=X.f.Sp(this.ve);if(X.j.kg||X.j.Yp)c.width=this.ve.childNodes[0].offsetWidth+14;c=this.get("isCustom")?c.width/2:(c.width-30)/2; this.fb.style.left=Math.round(b+a.width/2-c)+"px";this.fb.style.top=Math.round(d+a.height/2)+"px";b=this.TV;if(this.uy&&b.childNodes[0]){for(d=a=0;d<b.childNodes.length;d+=1)a+=b.childNodes[0].clientHeight||0;a>(this.get("size").height||b.clientHeight)?this.uy.style.right="20px":this.uy.style.right="5px"}}},MO:function(){var a=new X.K(2-this.ve.offsetWidth/2,2-this.ve.offsetHeight),b=this.get("offset")||new X.K(0,0);this.get("isCustom")||(a=a.add(new X.K(0,-23)));return a.add(b)},JC:function(){if(this.get("position")&& this.get("autoMove")&&this.ve){var a=this.map,b=new X.Yb(this.ve.offsetWidth,this.ve.offsetHeight);a.Sz(this.get("position"));for(var c=a.Sz(this.get("position")).add(this.MO()),d=c.add(b.Rn()),f=a.get("size"),g=a.kX(),h=0,k=0,l=0;l<g.length;l+=1){var m=g[l],n=0,p=0;0===m[1]&&0===m[2]?(n=m[3]-(c.x+h),p=m[0]-(c.y+k),0<n&&0<p&&(Math.abs(n)<Math.abs(p)?h+=n:k+=p)):0===m[2]&&0===m[3]?(n=f.Ae()-m[1]-(d.x+h),p=m[0]-(c.y+k),0>n&&0<p&&(Math.abs(n)<Math.abs(p)?h+=n:k+=p)):0===m[0]&&0===m[3]?(n=f.Ae()-m[1]- (d.x+h),p=f.ye()-m[2]-(d.y+k),0>n&&0>p&&(Math.abs(n)<Math.abs(p)?h+=n:k+=p)):0===m[0]&&0===m[1]&&(n=m[3]-(c.x+h),p=f.ye()-m[2]-(d.y+k),0<n&&0>p&&(Math.abs(n)<Math.abs(p)?h+=n:k+=p))}c=c.add(new X.K(h,k));d=d.add(new X.K(h,k));l=g=0;0>c.x||b.Ae()>f.Ae()?g=20-c.x:f.Ae()<d.x&&(g=f.Ae()-d.x-25);0>c.y||b.ye()>f.ye()?l=5-c.y:f.ye()<d.y&&(l=f.ye()-d.y-15);g+=h;l+=k;(g||l)&&a.Ba.panBy(g,l)}},KV:function(){this.get("closeWhenClickMap")&&this.map.e("closeInfo",this.dD,this,!1)},dD:function(){this.Yk.Og&&this.Yk.close()}, De:function(){this.fb&&(this.get("retainWhenClose")?this.map.Bk.appendChild(this.fb):(this.fb.parentNode===this.map.Wa.Ea&&this.map.Wa.Ea.removeChild(this.fb),this.Yk.Ea=null),this.map=null,this.Yk.Og=!1,this.Zb.l("close",{type:"close",target:this.Zb}))},o2:function(){if(!this.get("isCustom"))return this.ve.offsetWidth;for(var a=this.qe,b=a.firstChild,c=a.lastChild;b&&c&&b.style&&c.style&&b===c;)a=b,b=a.firstChild,c=a.lastChild;a=X.f.Cc(a,"width");return a=parseInt(a.replace("px",""),10)},renderChanged:function(){this.mk()}, positionChanged:function(){this.map&&this.fb&&(this.mk(),this.JC())},offsetChanged:function(){var a=this.get("offset");this.Hc.style.bottom=-1*(a.y||0)+"px";this.Hc.style.left=(a.x||0)+"px";this.Bq.style.bottom=-1*(a.y||0)+"px";this.Bq.style.left=(a.x||0)+"px"},contentChanged:function(){this.Tn();this.zB();this.mk()},sizeChanged:function(){this.Tn();this.zB();this.mk()}});X.ba={};X.ba.qk=X.W.extend({oa:[X.ca,X.gd],B:function(){},Tb:function(){return new this.B(this.Ga)},Wy:function(){return this.Ga},setCoords:function(a){this.V_(a)},V_:function(a){this.Fl=this.dc();this.nd=null;if(X.ba.Wc&&this instanceof X.ba.Wc){var b=a.length;this.df=Array(b);for(var c,d,f=0;f<b;f+=1)if(c=a[f],d=new X.ba.fC(c),this.df[f]=d,0===f){if(0===c.length)break;d.yl(c)||c.reverse()}else 0!==c.length&&d.yl(c)&&c.reverse()}else this.Ga=a}}); X.ba.tc=X.extend({},{em:"point",Su:"linestring",dC:"linearring",br:"polygon",Vu:"multipoint",Uu:"multilinestring",$q:"multipolygon",K1:"geometrycollection"});X.Rd=X.W.extend({oa:[X.ca,X.gd],B:function(a){a=a||{};this.Jr=a.Jr;this.map=a.map;this.it=a.aw||X.g.zb(this);this.name=a.name||"";this.fg=!1;this.set("visible",!0,!0);this.aB(a.va);this.Vf=a.zu;this.style=a.style},rW:function(){this.style=this.Vf=this.uj=this.HJ=this.va=this.name=this.map=null;this.Wl();this.Hi()},PX:function(){return this.Vf},f0:function(a){this.Vf=a;this.zIndex=this.Vf[0].zf||this.zIndex},L3:function(){return this.va},aB:function(a){a&&(this.va=a,this.P("coords",a,!0),this.Jr&& (a.P("radius",this),a.P("center",this),a.P("resolution",this),a.P("strokeWeight",this)))},setStyle:function(a){this.f0(a);this.Lj()},coordsChanged:function(){this.Lj()},radiusChanged:function(){this.va.Fl=this.va.dc();this.va.nd=null;this.Lj()},Lj:function(a){this.set("feature",{target:this,lW:a,Fl:this.va.Fl||this.va.dc(),$Y:this.va.dc()});this.va.Fl=this.va.dc()},visibleChanged:function(){this.Lj()},X3:function(a){for(var b=0;b<this.Vf.length;b+=1){var c=this.Vf[b];if(a.Hb(c.Xm(this)))return c}}, rX:function(){var a=this.va,b=[];a.ze()===X.ba.tc.br||a.ze()===X.ba.tc.$q?b.push(new X.style.nc.Wc({fillColor:"#78cdd1",Bc:0.2,strokeColor:"#122e29",wa:0.5,ib:1})):a.ze()===X.ba.tc.Su||a.ze()===X.ba.tc.dC||a.ze()===X.ba.tc.Uu?b.push(new X.style.nc.eC({color:"#888888",width:1,zIndex:10})):a.ze()!==X.ba.tc.em&&a.ze()!==X.ba.tc.Vu||b.push(new X.style.nc.Yq({url:X.k.mb+"/theme/v1.3/markers/0.png",width:36,height:36,rotation:0,a6:-12,b6:-36,zIndex:100}));return b}});X.Rd.F1="geometry";X.ba.ne=X.ba.qk.extend({B:function(a,b){this.Ga=a;this.Vh=b;this.nd=null},dc:function(){if(!this.nd){var a=this.Ga[0],b=this.Ga[1];if(this.Vh)this.nd=[a,b,a,b];else{var c=this.get("radius"),c=c?c/Math.cos(Math.PI*this.get("center").M/180):0,d=this.get("resolution")*this.get("strokeWeight")||0;this.nd=[a-c-d,b-c-d,a+c+d,b+c+d]}}return this.nd},ze:function(){return X.ba.tc.em}}); ',true),_jsload_('brender', 'X.J={canvas:{},mc:{},bj:{},Tc:{}};X.J.Af=X.W.extend({oa:[X.ca,X.gd],B:function(a,b){this.w=a;this.Vh=a.Za.Vh;this.Ik=b;this.A=b.A;this.P("display",b)},PH:function(){this.qK&&this.qK();this.Wl();this.A=this.Ik=this.w=null},$y:function(a,b){var c=this.zoom,d=[],f=this.w;if(Math.floor(c)!==c)b(d,f);else{c=[a.x,a.y];if(f.Tp){for(var g=f.ih,h=!0,k=[],l=0;l<g.length;l+=1){var m=g[l].Hj;if(m)if(m.parentNode&&m.parentNode.parentNode&&this.Ik&&m.parentNode.parentNode!==this.Ik.Bk&&"none"!==m.parentNode.style.display){var n=m.clientWidth,p= m.clientHeight;m.childNodes[0]&&(n=n||m.childNodes[0].clientWidth,p=p||m.childNodes[0].clientHeight);window.opera&&(n=Math.max(n,m.childNodes[0].scrollWidth),p=Math.max(p,m.childNodes[0].scrollHeight));m=Math.max(Math.abs(g[l].get("offset").x),Math.abs(g[l].get("offset").y))+Math.max(n,p);f.bi=Math.max(f.bi,m);f.ci=Math.max(f.ci,m);g[l].width=n;g[l].height=p}else h=!1,k.push(g[l])}h?(f.Tp=!1,f.ih=[]):f.ih=k}g=Math.max(f.bi,f.vn||0)*this.N;h=Math.max(f.ci,f.vn||0)*this.N;h=Math.max(h,f.Ti||0);g=Math.max(g, f.Ti||0);if(g=f.Yg([c[0]-g,c[1]-h,c[0]+g,c[1]+h])){for(var q in g)if(g.hasOwnProperty(q)&&(h=g[q],h.get("visible")&&!h.get("noSelect")))if(l=h.va,l instanceof X.ba.ne)if(this.Vh){var k=this.w.xu,p=k.size.width*this.N,m=k.size.height*this.N,s=k.anchor.x*this.N,t=k.anchor.y*this.N,p=X.q.hH([[c[0]-p+s,c[1]-m+t],[c[0]+s,c[1]+t]]);X.q.lf(p,l.Ga)&&d.push(h)}else if("undefined"!==typeof l.get("radius"))k=l.Ga,k=new X.K(k[0],k[1]),(new X.K(c[0],c[1])).xe(k)*Math.cos(h.get("center").M*Math.PI/180)<=l.get("radius")&& d.push(h);else{if(k=h.get("params"),k.visible){l=l.Ga;s=k.YG%360;n=[c[0],c[1]];if(s){var p=(c[0]-l[0])/this.N,m=(c[1]-l[1])/this.N,t=Math.PI*s/180,s=Math.cos(-t),t=Math.sin(-t),v=p*t+m*s;n[0]=l[0]+(p*s-m*t)*this.N;n[1]=l[1]+v*this.N}p=h.width*this.N;m=h.height*this.N;s=k.offset.x*this.N;t=k.offset.y*this.N;p=X.q.hH([[n[0]-p-s,n[1]-m-t],[n[0]-s,n[1]-t]]);l[0]instanceof Array||(l=[l]);for(m=l.length-1;0<=m;m-=1)if(X.q.lf(p,l[m])){k.shape?this.pY(h,n,l)&&d.push(h):d.push(h);break}}}else l.lf?l.lf(c)&& d.push(h):l.ct&&1.8*l.ct(c)<=h.get("strokeWeight")*this.N&&d.push(h);this.Vh||d.sort(function(a,b){return a.get("isTop")?-1:b.get("isTop")?1:a.get("zIndex")>b.get("zIndex")||a.get("zIndex")===b.get("zIndex")&&a.it>b.it?-1:1});b(d,f)}else b([],f)}},pY:function(a,b,c){var d=(b[0]-c[0][0])/this.N;b=(b[1]-c[0][1])/this.N;a=a.get("params");c=a.offset;var d=[d-c.x,b-c.y],f;a=a.shape;if("circle"===a.G.type){if(b=a.G.coords[0],c=a.G.coords[1],Math.sqrt((d[0]-b)*(d[0]-b)+(d[1]-c)*(d[1]-c))<=a.G.coords[2])return!0}else{if("poly"=== a.G.type)return f=a.G.coords,f=this.oV(f),X.cj.lf(d,f);if("rect"===a.G.type)return f=a.G.coords,a=f[0],b=f[1],c=f[2],f=f[3],f=[[a,b],[c,b],[c,f],[a,f]],X.cj.lf(d,f)}return!1},oV:function(a){for(var b=[],c=0;c/2<a.length/2;c+=2)b.push([a[c],a[c+1]]);return b},xI:function(a,b,c,d,f,g,h){var k=["position:absolute;"];k.push("top:"+Math.round(c)+"px;");k.push("left:"+Math.round(b)+"px;");k.push("width:"+Math.round(d)+"px;");k.push("height:"+Math.round(f)+"px;");1>g&&("opacity"in a.style?(k.push("opacity"), k.push(":"),k.push(g),k.push(";")):8<=document.documentMode?(k.push("-ms-filter:\'progid:DXImageTransform.Microsoft.Alpha(opacity="),k.push(Math.ceil(100*g)),k.push(")\';")):(k.push("filter:alpha(opacity="),k.push(Math.ceil(100*g)),k.push(");")));k.push("z-index:"+h+";");X.f.vL(a,k.join(""))}});X.J.zd=X.W.extend({oa:[X.ca,X.gd],B:function(a){this.A=a;this.Bk=a.Bk;this.D=a.Wa.V;this.P("display",a);this.P("rotateEnable",a)},$y:function(a,b,c,d){function f(a,d){a.length&&(h[X.g.indexOf(b,d)]=a);k-=1;0>=k&&(c(h),k=0)}for(var g=b.length,h=[],k=0,l,m=[],n=0;n<g;n+=1)l=b[n],l instanceof X.V.kd&&l.get("visible")&&(m.push(this.bz(l)),k+=1);for(g=0;g<m.length;g+=1)m[g].$y(a,f,d)}});X.J.canvas.zd=X.J.zd.extend({B:function(a){arguments.callee.Ya.apply(this,arguments)},bz:function(a){if(!a.J){var b=a.Gh(this);b&&!b.j3&&(a.J=b)}return a.J},ge:function(a){this.A.Wa.Cj.style.cssText="";for(var b=a.Aa,c=a.la,d=a.size.width,f=a.size.height,g=0;g<b.length;g+=1){var h=b[g],k=this.bz(h),l=b[g].Qj();if(k&&k.w)if(!l.visible||l.Pc[0]>c.zoom||l.Pc[1]<c.zoom||h.ns||h.ra&&0==h.ra.length){if(k=k.qf())if(k.length)for(l=0;l<k.length;l+=1)k[l].parentNode===this.D&&this.D.removeChild(k[l]);else k.parentNode=== this.D&&this.D.removeChild(k)}else{k.ge(a,l);var h=k.qf(),m,n,p=k.transform;if(p&&h){b[g].kb=h;h.length||(h=[h],p=[p]);for(var q=0;q<h.length;q+=1){m=h[q];n=p[q];var s=n.translate.x,t=n.translate.y;b[g].xt||(s=X.g.Wg(s,2),t=X.g.Wg(t,2));var v=n.scale;1E-5>Math.abs(s)&&(s=0);1E-5>Math.abs(t)&&(t=0);var x=[];x.push("position:absolute");x.push("z-index:"+(n.zf||b[g].get("zIndex")));b[g].dt?(x.push("top:"+Math.floor(f/2+t)+"px"),x.push("left:"+Math.floor(d/2+s)+"px")):m.xJ?(x.push("height:"+m.height* v+"px"),x.push("width:"+m.width*v+"px"),x.push("top:"+(f/2-t*v)+"px"),x.push("left:"+(d/2-s*v)+"px")):(1!==v&&(x.push(X.f.kk[X.f.Bd]+"-origin:"+s+"px "+t+"px"),x.push(X.f.kk[X.f.Bd]+":scale3d("+v+","+v+",1)")),x.push("top:"+Math.floor(f/2-t)+"px"),x.push("left:"+Math.floor(d/2-s)+"px"),k.Uj&&(x.push("height:"+m.height+"px"),x.push("width:"+m.width+"px")));k.xt||1===l.opacity||"number"!==typeof l.opacity||x.push(X.f.DI(m,l.opacity));(m.parentNode!==this.D||X.j.Lf)&&this.D.appendChild(m);X.f.vL(m,x.join(";"))}}else b[g].Uh&& (h.parentNode!==this.D||X.j.Lf)&&(this.D.appendChild(h),b[g].kb=h)}}a=this.A.Wa.Cj;h=this.A.Wa.V;b=this.A.Wa.Ea;X.f.Bd&&"number"===typeof c.rotation&&0!==c.rotation?(a.style[X.f.Bd+"Origin"]=d/2+"px "+f/2+"px",a.style[X.f.Bd]="rotate("+c.rotation+"deg)",a.style.overflow="visible",h.style.overflow="visible",b.style.overflow="visible"):(a.style.cssText="",h.style.cssText="-webkit-transform: translateZ(0);",b.style.cssText="");this.A.uu=!1}});X.J.sg=X.J.Af.extend({B:function(a,b){arguments.callee.Ya.apply(this,arguments);this.P("reload",a,!0);var c=X.j.size;if(this.A&&this.A.Ba){var d=this.A.Ba.get("tileCacheSize");d&&0<d&&(c=d)}this.Ka=new X.fd(c);var f=this;this.Ka.nK.tU(function(a){f.Vv(a)});this.bc=1;this.im=50;this.NN=!0;this.w.Ka=this.Ka;this.Bz=new X.ZB(6,null,a.bI);new X.ZB(5,null,a.bI)},qK:function(){this.clear();this.Ka.clear();this.rb&&(this.rb.C("tiles",this.pK,this),this.rb.C("ack",this.oK,this),this.rb.C("disable",this.mK, this),this.rb=null);this.Uj&&X.r.C(this.ta,"webglcontextlost",this.iA,this);this.A.C("zoomend",this.Vg,this);this.A.C("moveend",this.Vg,this)},reloadChanged:function(){this.w&&(this.w.yb=!1);this.Ka.clear();this.reload=!0;this.set("display")},OJ:function(a,b){if(!a.qn||a.qn.Gi){var c=this;a.loaded=!1;a.qn=b.MJ(a.url,function(b){a.qn=null;a.loaded=!0;c.Ka.set(a.key,a);c.w&&(a.sa=!0,a.$b=b,a.qn=null,c.set("display",0))},!1)}},H0:function(a,b,c,d){var f=[];c=c||18;b=Math.pow(2,b-c);for(var g=0;g<a.length;g+= 1){var h=a[g].Xa,k=Math.floor(h.x/b),h=Math.floor(h.y/b);d?(k=c+"/"+k+"/"+h,h=this.Ka.get(k)):(h=new X.ph(c,k,h),k=h+"",h=new X.Cf(h));!f[k]&&h&&(f.push(h),f[k]=1)}return f},PJ:function(a){for(var b=a.length-1;0<=b;b-=1){var c=a[b];if(c.length)if(this.Wh){var d=c[0].Xa.z;18<d&&(c=this.H0(c,d));this.LL(c,this.Uj?1:0);for(var f=0,g=0;f<c.length;)this.GY(c.slice(50*g,50*g+50),d),f+=50,g+=1}else for(this.LL(c),this.Wz+=c.length,d=c.length-1;0<=d;d-=1)this.OJ(c[d],this.Bz)}},nt:function(a,b){var c=a+""; return(b?this.Ka.zn(c):this.Ka.get(c))||new X.Cf(a.Tb(),this.Ph&&this.Ph(a.x,a.y,a.z))},vu:function(a,b){return this.Vc*Math.pow(2,a-b)},Vv:function(a){a.qn&&this.Bz.mV(a.qn);a.WA=!1;a.loaded=!1},Rs:function(a,b){var c=this.Ed,d=this.N,f=a.Wb.x,g=a.Wb.y,h=a.$a.x,k=a.$a.y;new X.K(0,0);d*=this.vu(this.zoom,c);b&&(h=Math.max(b[0],h)-b[0],k=Math.max(b[1],k)-b[1],f=Math.min(b[2],f)-b[0],g=Math.min(b[3],g)-b[1],new X.K(Math.floor(b[0]/d),Math.floor(b[1]/d)));f/=d;g/=d;f={Od:0===f%1?f-1:Math.floor(f),bd:0=== g%1?g-1:Math.floor(g),ee:Math.floor(h/d),Uc:Math.floor(k/d)};f.Zt=f.Od-f.ee+1;f.SK=f.bd-f.Uc+1;f.z=c;f.N=this.N*Math.pow(2,this.zoom-c);return f},Dz:function(a,b,c){return b<a.ee||b>a.Od||c<a.Uc||c>a.bd?!1:!0},LL:function(a,b){if(a.length){var c=this.za.Gb(this.Vc*Math.pow(2,this.xc-a[0].Xa.z)*this.yc),d=Math.floor(c.x),f=Math.floor(c.y);a.sort(function(a,c){var k=a.Xa,l=c.Xa,m=k.x-d,k=k.y-f,n=l.x-d,l=l.y-f;return(b?-1:1)*(n*n+l*l-(m*m+k*k))})}},clear:function(){this.Bz.clear()},Wt:function(a,b){this.tp= !1;b.Ph!==this.Ph&&(this.Ph=b.Ph,this.Ka.clear());this.clear();this.vh=b.vh;this.uh=b.uh;this.Vc=b.Vc;var c=a.la;this.Qd=b.Qd||a.la.Qd;this.Eh=c.Eh;this.size=a.size;this.rotation=c.rotation;this.za=c.za;this.ma=a.ma;this.zoom&&(this.pA=c.zoom>this.zoom?"in":c.zoom<this.zoom?"out":!1);this.yd=a.yd;this.Rf=a.Rf;this.zoom=c.zoom;this.xc=c.xc;this.Ed=!1==this.Wh&&!this.w.aY&&this.w.pa?this.xc+1:this.xc;this.uf&&this.Ed>this.uf&&(this.Ed=this.uf);this.N=c.N;this.yc=c.yc;c=a.ma;this.Tf=this.Rs(c,b.q);this.Rq= c.sM?this.Rs(c.sM,b.q):null;var d=this.Tf,f=this.ma.B0,g=null,g=f<this.zoom&&this.Rq?this.Rq:d,h=[],k=[],l,m=[],n=[],p=[],q=new X.ph(0,0,0),s,t=this.zoom,n=this.xr||"",v={},x={},u,r,M,F,A,B;this.wd=1E6*Math.random()<<0;for(s=n.length-1;0<=s;s-=1)if(l=n[s],!(l.gr<b.opacity))if(q.z=l.Xa.z,q.x=l.Xa.x,q.y=l.Xa.y,q.z===this.Ed)v[q+""]|=16;else if(q.z<this.Ed){if(v[q+""]|=64,this.vh)for(B=this.Ed-q.z,u=Math.max(d.ee,q.x<<B),t=Math.min(d.Od,(q.x+1<<B)-1),r=Math.max(d.Uc,q.y<<B),M=Math.min(d.bd,(q.y+1<<B)- 1),q.z=this.Ed,F=u;F<=t;F+=1)for(q.x=F,A=r;A<=M;A+=1)q.y=A,B=q+"",v[B]|=32,x[B]=x[B]?Math.max(l.Xa.z,x[B]):l.Xa.z}else if(this.uh)for(B=1;q.z>=this.Ed;){v[q+""]|=B;u=q.x>>1;r=q.y>>1;t=u<<1;M=r<<1;l=0;for(F=2;0<F;F-=1)for(q.x=t+F,A=2;0<A;A-=1)q.y=M+A,v[q+""]&5&&(l+=1);q.z-=1;q.x=u;q.y=r;B=4===l?4:2}n=[];q.z=this.Ed;s=!0;this.Ka.EV();for(F=g.ee;F<=g.Od;F+=1)for(q.x=F,A=g.Uc;A<=g.bd;A+=1)q.y=A,this.Ka.KY(""+q),l=this.nt(q),u=!1,l.sa?(l.wd=this.wd,this.Dz(d,F,A)&&(n.push(l),this.vg&&(l.bc!==this.bc|| 1>l.gr)&&(u=!0))):(s=!1,this.Dz(d,F,A)&&(u=!0),l.status||this.xc!=f||this.Rq&&!this.Dz(this.Rq,F,A)||m.push(l)),u&&p.push(l);s&&!this.w.yb&&(this.w.yb=!0,this.w.ua("complete"));this.tp=s;n.length&&(this.w.yb||s)&&(h.push(n),n.tp=s);k.push(m);m=!1;if(this.uh){p=p.slice(0);g=[];for(s=p.length-1;0<=s;s-=1)l=p[s],v[l.key]&4||g.push(l);l=b.Pc[1];for(t=this.Ed+1;p.length&&t<=l;t+=1){n=[];f=p;p=[];q.z=t;for(s=f.length-1;0<=s;s-=1)if(F=f[s],B=v[F.key],B&7)for(u=F.Xa.x<<1,r=F.Xa.y<<1,F=1;0<=F;F-=1)for(q.x= u+F,A=1;0<=A;A-=1)q.y=r+A,B=q+"",M=this.Ka.zn(B),v[B]&5&&M&&M.sa?(M.Vw=!0,M.wd=this.wd,n.push(M)):p.push(new X.Cf(q.Tb(),""));n.length&&(m=!0,h.push(n))}p=g}if(!m&&this.vh)for(F=!h.length||this.Uj?b.Pc[0]:Math.max(b.Pc[0],this.Ed-2),A=Math.max(F,this.Ed-this.u2),t=this.Ed-1;p.length&&t>=F;t-=1){r=t>=A;m=[];n=[];g={};f=p;p=[];for(s=f.length-1;0<=s;s-=1)l=f[s],q.z=t,q.x=l.Xa.x>>1,q.y=l.Xa.y>>1,l=this.nt(q,!r),g[l.key]||(g[l.key]=1,u=!1,l.sa&&(!this.z2||v[l.key]&64)?(q.x=Math.min(d.Od,Math.max(d.ee, q.x<<this.Ed-t)),q.y=Math.min(d.bd,Math.max(d.Uc,q.y<<this.Ed-t)),q.z=this.Ed,B=q+"","number"===typeof x[B]&&l.Xa.z>x[B]?u=!0:l.Vw=!0,l.wd=this.wd,n.push(l)):u=!0,u&&p.push(l));n.length&&h.push(n);r&&m.length&&k.push(m)}this.Vz=this.Wz=0;this.PJ(k,c);this.Hq=h;this.w.set("tiles",h)},U4:function(){if(!this.Wh){for(var a=this.Tf.Od+1,b=this.Tf.bd+1,c=this.Tf.ee-1,d=this.Tf.Uc-1,f,g=[],h=c;h<=a;h+=1)for(var k=d;k<=b;k+=1)if(h==c||h==a||k==d||k==b)f=new X.ph(this.xc,h,k),this.Ka.zn(void 0)||(f=this.nt(f), g.push(f));this.PJ([g])}}});X.J.mc.sg=X.J.sg.extend({B:function(a,b){arguments.callee.Ya.apply(this,arguments);this.im=400;this.Wh=!1;this.be();this.uf=a.uf},qf:function(){return this.kb},be:function(){this.kb=document.createElement("div");this.kb.className=this.w.Za.get("className")||"amap-layer";this.pl=document.createDocumentFragment()},Ml:function(a){var b=Math.pow(2,a.la.zoom-this.cd),c=a.la.za.Ja(this.Vj).Gb(this.vf);this.transform={translate:this.transform.translate.add(c),scale:b,rotate:0};this.za=a.la.za},gy:function(a, b){if(!this.ia||3E4<Math.abs(this.za.x-this.ia.x)/this.N||3E4<Math.abs(this.za.y-this.ia.y)/this.N)this.ia=this.za;this.cd=this.xc;this.vf=this.yc;this.$i=!1;this.currentTime=+new Date;this.AB=b.AB;var c=this.Tf;this.ac=[256*c.ee*this.yc,256*c.Uc*this.yc];this.vg=this.im&&b.Fs;var d=this.Hq,f=256*c.Zt,c=256*c.SK;this.yd=this.zoom<<0!==this.zoom;var g=this.za.Ja(this.ia);g.x<-X.g.Ua/2&&(g.x+=X.g.Ua);g.x>X.g.Ua/2&&(g.x-=X.g.Ua);this.ny=g.Gb(this.yc);return[d,f,c,b]},Hn:function(a,b){var c=this.gy(a, b);this.hu.apply(this,c);this.Kc(a)},ge:function(a,b){this.de=a.de;this.bo=a.bo;this.Rf=a.Rf;this.Wt(a,b);this.Vj&&X.j.Lf&&(a.yd||a.Rf)?this.Ml(a,b):this.Hn(a,b);this.Vj=this.za;this.$i&&this.set("display",0)},uq:function(){for(var a=this.kb.childNodes,b=a.length-1;0<=b;b-=1)a[b]&&a[b].bc!==this.bc&&this.kb.removeChild(a[b])},MA:function(a,b){return a.Uc===b.Uc&&a.ee===b.ee&&a.bd===b.bd&&a.Od===b.Od},hu:function(a){var b=this.bc;this.bc+=1;var c=!1,d,f,g;f=!1;var h=[];this.ia.x-this.za.x<-X.g.Ua/ 2?this.ia=new X.K(this.ia.x+X.g.Ua,this.ia.y):this.ia.x-this.za.x>X.g.Ua/2&&(this.ia=new X.K(this.ia.x-X.g.Ua,this.ia.y));for(d=a.length-1;0<=d;d-=1)if(g=a[d],g.length){f=g[0].Xa.z;for(var k,l=this.vu(this.xc,f),m=g.length-1;0<=m;m-=1){k=g[m];if(!k.hc&&this.ia===k.ia&&k.cd===this.cd){var n=k.$b;if(n&&n.parentNode===this.kb&&1===k.gr){h.push(k);n.bc=this.bc;k.bc=this.bc;continue}}k.ia=this.ia;k.cd=this.cd;f=k.Xa;var c=!0,p=new X.K(f.x*l*this.yc,f.y*l*this.yc);p.Ja(this.za);p=p.Ja(this.ia);p=p.Gb(this.yc); p.x=Math.floor(p.x);p.y=Math.floor(p.y);var q=1;if(!k.vD||this.NN&&k.bc!==b)k.vD=this.currentTime;this.vg&&!k.Vw?(n=Math.max(0,Math.abs(f.z-this.zoom)-1),q=Math.min(1,(this.currentTime-k.vD)/(1/Math.pow(1.32,n)*this.im)),1!==q&&(this.$i=!0)):k.Vw=!1;k.bc=this.bc;k.gr=q;k.sa?(n=k.$b,!n&&k.hc&&k.hc.$b&&(n=k.hc.$b),0!==q&&n&&(this.xI(n,p.x,p.y,l,l,q,f.z),n.parentNode!==this.kb&&(X.j.kg&&"overlayer"===this.w.get("type")&&(n.style.display="none"),this.pl.appendChild(n)),n.bc=this.bc,k.xc=this.xc,h.push(k))): k.wd=null}f=!0}1<a.length&&(this.$i=!0);this.xr=h;this.uq();this.kb.appendChild(this.pl);return c||!f},Kc:function(){this.transform={translate:this.ny,scale:Math.pow(2,this.zoom-this.xc),rotate:0}}});window.CanvasRenderingContext2D&&(window.CanvasRenderingContext2D.prototype.By=function(a,b,c,d,f){"undefined"===typeof f&&(f=[10,10]);this.moveTo(a,b);var g=c-a,h=d-b,k=Math.floor(Math.sqrt(g*g+h*h));d=g/k;c=h/k;f.Pz=0;for(var l=[],g=this.Zs,m=0,n=0,p=!1,q=h=0;q<f.length;q+=1)f.Pz+=f[q],l[q]={Iy:f[q]*d,Jy:f[q]*c,$e:h+=f[q]},g-=f[q],0>g&&!p&&(m=q,n=-g,p=!0);for(p=0;n+p<=k;)n<f[m]?(g=n*d,h=n*c):(g=l[m].Iy,h=l[m].Jy),a+=g,b+=h,this.Eq?this.moveTo(a,b):this.lineTo(a,b),p+=n,this.Eq=!this.Eq,n=f[(m+1)% f.length],m=(m+1)%f.length;k-=p;a+=k*d;b+=k*c;this.Eq?this.moveTo(a,b):this.lineTo(a,b);this.Zs=(this.Zs+p+k)%f.Pz},window.CanvasRenderingContext2D.prototype.bW=function(a,b,c,d){"undefined"===typeof d&&(d=[10,10]);var f=2*Math.PI*c,g=0>=d?f:Math.round(f/(d[0]+d[1])),h=(d[0]+d[1])/f*2*Math.PI;d=d[0]/f*2*Math.PI;for(f=0;f<g;f+=1)this.beginPath(),this.arc(a,b,c,f*h,f*h+d),this.stroke()}); ',true),_jsload_('mrender', 'X.J.Tc.uk=X.J.sg.extend({B:function(a,b){arguments.callee.Ya.apply(this,arguments);this.be()},LI:function(){return this.lb.UL},qf:function(){return this.kb},be:function(){this.kb=document.createElement("div");this.kb.className="amap-markers";this.lb=new X.J.Tc.kd(this.kb);this.lb.w=this.w;this.Ik.D.appendChild(this.kb)},Mq:function(a,b){this.pl=b.pl;this.gq=b;this.Qd=a.la.Qd;this.N=a.la.N;this.zoom=a.la.zoom;this.size=a.size;this.ma=a.ma;this.Pa=a.la.za;this.Eh=a.la.Eh;var c=!1;if(!this.ia||3E4<Math.abs(this.Pa.x- this.ia.x)/this.N||3E4<Math.abs(this.Pa.y-this.ia.y)/this.N)c=!0;if(c||this.zoom<<0!==this.zoom||this.cd!==this.zoom)this.ia=this.Pa,this.cd=this.zoom},lz:function(a){var b=a.ma.cb.y*this.N;a=a.ma.cb.x*this.N;return[this.Pa.x-a,this.Pa.y-b,this.Pa.x+a,this.Pa.y+b]},uq:function(){if(this.jh&&this.jh)for(var a in this.jh)if(this.jh.hasOwnProperty(a)){var b=this.jh[a];b.wd!==this.wd&&b.S&&this.Ik.Bk.appendChild(b.S)}},ge:function(a,b){this.wd=1E6*Math.random()<<0;this.Mq(a,b);this.la=a.la;this.size= a.size;var c=this.w;this.Vc=256;var d,f;f=this.lz(a);var g=0;c.Tp&&(g=50*this.N);f[0]-=this.w.bi*this.N+g;f[1]-=this.w.ci*this.N+g;f[2]+=this.w.bi*this.N+g;f[3]+=this.w.ci*this.N+g;c=c.Yg(f);for(d in c)c.hasOwnProperty(d)&&(c[d].wd=this.wd,c[d].HJ=this);this.uq(c);this.Mq.call(this.lb,a,b);this.lb.q_(c);this.jh=c;this.Kc(a)},Kc:function(){var a=Math.pow(2,this.zoom-this.xc);this.transform={translate:this.ia.Ja(this.Pa).Gb(this.N),scale:a,rotate:0}}});X.J.Tc.kd=X.W.extend({B:function(a){this.Il=a},q_:function(a){var b=document.createDocumentFragment(),c;for(c in a)if(a.hasOwnProperty(c)){var d=a[c],f,g=d.get("params");if(d.S)f=d.S;else{f=X.f.create("div");f.className="amap-marker";var h=g.Hj,k=g.l0;h&&f.appendChild(h);k&&f.appendChild(k);d.S=f;d.Hj=h;if(k=g.title)h.title=k;this.w.Tp=!0;-1===X.g.indexOf(this.w.ih,d)&&this.w.ih.push(d);d.fg=!0}var h=g.offset,k=h.x,l=h.y,m,n;if(d.fg){var p=[];m=this.Ib(d.va.Ga);d.ia=this.ia;n=g.LB;h=Math.round(m[1]+ l+n.y);m=Math.round(m[0]+k+n.x);p.push("top:"+h+"px");p.push("left:"+m+"px");p.push("z-index:"+(g.uY?this.w.jk+10:g.zIndex));X.j.pd||p.push(X.f.MX(f,g.YG,{x:-k,y:-l}));p.push("display:"+(g.visible?"block":"none")+";");f.style.cssText=p.join(";");(k=g.label)&&k.content&&(g=g.vY,m=h=0,k.offset&&(h=k.offset.y+"px",m=k.offset.x+"px"),g.style.top=h,g.style.left=m,f.appendChild(g))}else if(this.zoom<<0!==this.zoom||d.zoom!==this.zoom||f.parentNode!==this.Il||d.ia!==this.ia)m=this.Ib(d.va.Ga),d.ia=this.ia, n=g.LB,h=Math.round(m[1]+l+n.y),m=Math.round(m[0]+k+n.x),f.style.top=h+"px",f.style.left=m+"px";d.zoom=this.zoom;f.parentNode!==this.Il&&(X.j.kg&&X.g.iepngFix(f),b.appendChild(f),d.fg=!1);f.cx=this.Il}this.Il.appendChild(b)},Ib:function(a){return[(a[0]-this.ia.x)/this.N,(a[1]-this.ia.y)/this.N]}}); ',true),_jsload_('mouse', 'X.zd.Mc({Wv:"_docMsMov",$N:function(){var a=this.Wa.qd;X.r.e(a,"mousedown",this.VI,this);this.pz||(this.pz=function(){this.ww=!1},this.KL=function(a){var c=this.ng(a,!0);this.l(this.Wv,{event:a,RJ:c})});X.r.e(document,"mousedown",this.pz,this);X.r.e(document,"mousemove",this.KL,this);X.r.e(a,"mousemove",this.WI,this);X.r.e(a,"mouseup",this.XI,this);X.r.e(a,"contextmenu",this.dr,this);X.r.e(a,"rightclick",this.dr,this);this.e(this.Wv,this.aK,this)},tR:function(){var a=this.Wa.qd;X.r.C(a,"mousedown", this.VI,this);X.r.C(document,"mousedown",this.pz,this);this.C(this.Wv,this.aK,this);X.r.C(document,"mousemove",this.KL,this);X.r.C(a,"mousemove",this.WI,this);X.r.C(a,"mouseup",this.XI,this);X.r.C(a,"contextmenu",this.dr,this);X.r.C(a,"rightclick",this.dr,this)},bO:function(){X.r.e(this.Wa.qd,"mousewheel",this.UI,this)},wR:function(){X.r.C(this.Wa.qd,"mousewheel",this.UI,this)},aO:function(){this.e("mousemove",this.mF);this.e("mouseout",this.nF);this.e("mouseover",this.oF);this.e("mouseup",this.pF); this.e("mousedown",this.lF);this.e("rightclick",this.rF);this.e("contextmenu",this.gF);this.e("rdblclick",this.sF)},vR:function(){this.C("mousemove",this.mF);this.C("mouseout",this.nF);this.C("mouseover",this.oF);this.C("mouseup",this.pF);this.C("mousedown",this.lF);this.C("rightclick",this.rF);this.C("contextmenu",this.gF);this.C("rdblclick",this.sF)},keyboardEnableChanged:function(){this.get("keyboardEnable")?this.YN():this.Yw()},scrollWheelChanged:function(){this.get("scrollWheel")?this.e("mousewheel", this.qF):this.C("mousewheel",this.qF)},dr:function(a){X.r.preventDefault(a)},kR:function(a){var b=this.ng(a),c=0;a.wheelDelta?(c=a.wheelDelta/120,window.opera&&9.5>parseFloat(window.opera.version())&&(c=-c)):a.detail&&(c=-a.detail);this.Q.Fp=(this.Q.Fp||0)+c;this.l("mousewheel",b)},UI:function(a){if(this.get("scrollWheel"))if(this.kR(a),a.preventDefault)a.preventDefault();else return!1},qz:function(a,b){X.r.preventDefault(a);b=this.ng(a);var c=this.Q;if(!this.pq(b.Ob,c.Gk)){c.Gk=b.Ob;if(c.kj){if(!c.pc&& (b.Ob.x!==this.Q.ui.x||b.Ob.y!==this.Q.ui.y)){var d;this.yE(c.Fk)&&c.Fk.get("draggable")&&(d=c.Fk);!d&&this.get("dragEnable")&&(d=this);d&&(c.pc=!0,c.Hp=d,c.sf=c.ui,c.SH=c.HA)}c.pc&&(c.Gp=b,this.OF())}if(a.preventDefault)a.preventDefault();else return!1}},rt:function(a){X.f.vb(this.D,"amap-drag");a=this.ng(a);X.f.PW();X.f.$H();this.Q&&(this.Q.pc=!1);this.Tg&&(this.Tg.stop(),this.Q.pc=!1,this.set("display"));this.Q.Ak&&(this.Q.Ak=!1,this.Q.pc=!1,this.Q.Hp.l("dragend",a));this.Q.kj=!1;this.Q.Gk=null; this.Q.sf=null;X.r.C(document,"mousemove",this.qz,this);X.r.C(document,"mouseup",this.rt,this);try{X.r.C(window.parent.document,"mouseup",this.rt,this)}catch(b){}X.r.W0(this.Wa.qd)},TX:function(a,b){b=b||this.ng(a);var c=this.get("size"),d;0<=b.Ob.x&&b.Ob.x<=c.width&&0<=b.Ob.y&&b.Ob.y<=c.height&&(d=!0);this.uJ&&!d?this.l("mouseout",b):!this.uJ&&d&&this.l("mouseover",b);this.uJ=d},WI:function(a){X.r.preventDefault(a);X.j.ln&&(a=window.event);if(a){a=this.ng(a);var b=this.Q,c=a.Yd,d;this.Q.kj||(c instanceof X.Ea.ej?d=c.Zb.get("cursor"):c instanceof X.V.Af?d=c.get("style").cursor:c===this&&(d=c.get("defaultCursor")),d=this.Ba.get("optimalCursor")||d,this.D.style.cursor=d||"");d=b.TQ;var f=a.Tk;d!==f&&(d&&b.IE&&b.IE.l("mouseout",a),f&&c&&(c.l("mouseover",a),c.get("topWhenMouseOver")&&c.Zb.setTop(!0)));a.Yd.l("mousemove",a);a.Yd!==this&&this.l("mousemove",a);b.TQ=a.Tk||null;b.IE=a.Yd||null}},Q:{pc:!1},VI:function(a){this.ww=!0;X.f.pW();X.f.RH();this.Tg&&(this.Tg.stop(),this.Q.pc=!1);this.Q.Gk=null;this.Q.sf= null;var b=this.ng(a,!0);this.Q.xW=new Date;this.Q.Fk=b.Yd;this.Q.ui=b.Ob;this.Q.RQ=b.button;this.Q.kj=!0;this.Q.SQ=b;this.Q.pc||(this.Q.HA=b);this.Kd&&this.Kd.stop();var c=b.Yd;!c.Zb&&c.get("dragEnable")&&(this.Q.kj=!0);X.f.ob(this.D,"amap-drag");b.Yd.l("mousedown",b);b.Yd!==this&&this.l("mousedown",b);X.r.T_(this.Wa.qd);X.r.e(document,"mousemove",this.qz,this);X.r.e(document,"mouseup",this.rt,this);try{window.parent.document&&X.j.ln&&X.r.e(window.parent.document,"mouseup",this.rt,this)}catch(d){}X.r.stopPropagation(a)}, aK:function(a){this.TX(a.event,a.RJ)},p3:function(a){this.qz(a.event,a.RJ)},XI:function(a){a=this.ng(a);var b=a.Yd,c=this.Ba.get("allBubble")||b.get("bubble");b!==document&&(b.l("mouseup",a),a.Yd!==this&&c&&this.l("mouseup",a));this.pq(a.Ob,this.Q.ui)&&(this.Kf&&this.pq(this.Q.Aw,a.Ob)&&a.button===this.Q.RQ?(clearTimeout(this.Kf),this.Kf=null,X.r.yJ(a)?c?(b.l("dblclick",a),b!==this&&this.l("dblclick",a)):b.l("dblclick",a):b.l("rdblclick",a),this.Q.Aw=null):(X.r.yJ(a)?(c?(b.l("click",a),b!==this&& this.l("click",a)):(b.l("click",a),this.l("closeOverlays",a)),this.l("closeInfo",a),b.get("topWhenClick")&&b.Zb.setTop(!0)):c?(b.l("rightclick",a),b!==this&&this.l("rightclick",a),this.l("contextmenu",a)):(b.l("rightclick",a),b.l("contextmenu",a)),this.Q.Aw=a.Ob,this.Kf&&clearTimeout(this.Kf),this.Kf=setTimeout(X.g.bind(function(){clearTimeout(this.Kf);this.Kf=null;this.Q.Aw=null},this),260)))}});X.zd.Mc({qF:function(a){this.ua("mousewheel",a);var b=this;if(1<=Math.abs(this.Q.Fp)&&!this.rM){var c=this.Q.Fp;if(1<=c)c=1;else if(-1>=c)c=-1;else return;b.Xr(a.pg,c);this.Q.Fp=0;this.rM=!0;setTimeout(function(){b.rM=!1;b.Q.Fp=0},X.j.Gt?50:40)}},mF:function(a){this.ua("mousemove",a)},nF:function(a){this.ua("mouseout",a)},oF:function(a){this.ua("mouseover",a)},pF:function(a){this.ua("mouseup",a)},lF:function(a){this.ua("mousedown",a)},rF:function(a){this.ua("rightclick",a)},gF:function(a){this.ua("contextmenu", a)},sF:function(a){this.get("doubleClickZoom")&&this.get("zoomEnable")&&this.Xr(a.pg,-1);this.ua("rdblclick",a)}});X.zd.Mc({DQ:function(){this.Mo={left:[37],right:[39],wW:[40],yB:[38],A1:[187,107,61],B1:[189,109,173]};this.BO={left:this.Pm(this.Vr(100,0)),right:this.Pm(this.Vr(-100,0)),wW:this.Pm(this.Vr(0,-100)),yB:this.Pm(this.Vr(0,100)),A1:this.Pm(this.QG(1)),B1:this.Pm(this.QG(-1))}},YN:function(){this.get("keyboardEnable")&&(this.Mo||this.DQ(),X.r.e(document,"keydown",this.Tr,this),X.r.e(document,"keyup",this.eF,this))},Yw:function(){X.r.C(document,"keydown",this.Tr,this);X.r.C(document,"keyup",this.eF,this)}, eF:function(a){var b=a.keyCode;!a.ctrlKey||37!==b&&39!==b||this.set("refresh",1)},Tr:function(a){var b=a.keyCode,c;for(c in this.Mo)if(this.Mo.hasOwnProperty(c))for(var d=0;d<this.Mo[c].length;d+=1)if(b===this.Mo[c][d]){if(!this.ww)return;if(!a.ctrlKey){this.BO[c]();X.r.preventDefault(a);return}37===b?(this.WQ(),X.r.preventDefault(a)):39===b&&(this.ET(),X.r.preventDefault(a))}},Pm:function(a){return function(){a()}},WQ:function(){this.get("rotateEnable")&&(this.l("rotate"),this.set("rotation",-15+ parseFloat(this.get("rotation"))%360))},ET:function(){this.get("rotateEnable")&&(this.l("rotate"),this.set("rotation",(15+parseFloat(this.get("rotation")))%360))},QG:function(a){var b=this.Ba;return function(){1===a?b.zoomIn():b.zoomOut()}},Vr:function(a,b){var c=this.Ba;return function(){c.panBy(a,b)}}}); ',true),_jsload_('vectorlayer', '(function(a){a.j.pn&&(a.Dl=new a.ev(function(){function a(b,c,d){for(var f=0,g=d.length;f<g;f++){var h=d.charCodeAt(f);if(128>h)b.setUint8(c++,h>>>0&127|0);else if(2048>h)b.setUint8(c++,h>>>6&31|192),b.setUint8(c++,h>>>0&63|128);else if(65536>h)b.setUint8(c++,h>>>12&15|224),b.setUint8(c++,h>>>6&63|128),b.setUint8(c++,h>>>0&63|128);else if(1114112>h)b.setUint8(c++,h>>>18&7|240),b.setUint8(c++,h>>>12&63|128),b.setUint8(c++,h>>>6&63|128),b.setUint8(c++,h>>>0&63|128);else throw Error("bad codepoint "+ h);}}function c(a,b,c){var d="",f=b;for(b+=c;f<b;f++)if(c=a.getUint8(f),0===(c&128))d+=String.fromCharCode(c);else if(192===(c&224))d+=String.fromCharCode((c&15)<<6|a.getUint8(++f)&63);else if(224===(c&240))d+=String.fromCharCode((c&15)<<12|(a.getUint8(++f)&63)<<6|(a.getUint8(++f)&63)<<0);else if(240===(c&248))d+=String.fromCharCode((c&7)<<18|(a.getUint8(++f)&63)<<12|(a.getUint8(++f)&63)<<6|(a.getUint8(++f)&63)<<0);else throw Error("Invalid byte "+c.toString(16));return d}function d(a){for(var b= 0,c=0,d=a.length;c<d;c++){var f=a.charCodeAt(c);if(128>f)b+=1;else if(2048>f)b+=2;else if(65536>f)b+=3;else if(1114112>f)b+=4;else throw Error("bad codepoint "+f);}return b}function f(a,b){this.offset=b||0;this.view=a}function g(c,f,h){var k=typeof c;if("string"===k){var q=d(c);if(32>q)return f.setUint8(h,q|160),a(f,h+1,c),1+q;if(256>q)return f.setUint8(h,217),f.setUint8(h+1,q),a(f,h+2,c),2+q;if(65536>q)return f.setUint8(h,218),f.setUint16(h+1,q),a(f,h+3,c),3+q;if(4294967296>q)return f.setUint8(h, 219),f.setUint32(h+1,q),a(f,h+5,c),5+q}if(c instanceof ArrayBuffer){q=c.byteLength;if(256>q)return f.setUint8(h,196),f.setUint8(h+1,q),(new Uint8Array(f.buffer)).set(new Uint8Array(c),h+2),2+q;if(65536>q)return f.setUint8(h,197),f.setUint16(h+1,q),(new Uint8Array(f.buffer)).set(new Uint8Array(c),h+3),3+q;if(4294967296>q)return f.setUint8(h,198),f.setUint32(h+1,q),(new Uint8Array(f.buffer)).set(new Uint8Array(c),h+5),5+q}if("number"===k){if(c<<0!==c)return f.setUint8(h,203),f.setFloat64(h+1,c),9;if(0<= c){if(128>c)return f.setUint8(h,c),1;if(256>c)return f.setUint8(h,204),f.setUint8(h+1,c),2;if(65536>c)return f.setUint8(h,205),f.setUint16(h+1,c),3;if(4294967296>c)return f.setUint8(h,206),f.setUint32(h+1,c),5;throw Error("Number too big 0x"+c.toString(16));}if(-32<=c)return f.setInt8(h,c),1;if(-128<=c)return f.setUint8(h,208),f.setInt8(h+1,c),2;if(-32768<=c)return f.setUint8(h,209),f.setInt16(h+1,c),3;if(-2147483648<=c)return f.setUint8(h,210),f.setInt32(h+1,c),5;throw Error("Number too small -0x"+ (-c).toString(16).substr(1));}if("undefined"===k)return f.setUint8(h,212),f.setUint8(h+1,0),f.setUint8(h+2,0),3;if(null===c)return f.setUint8(h,192),1;if("boolean"===k)return f.setUint8(h,c?195:194),1;if("object"===k){var k=0,s=Array.isArray(c);if(s)q=c.length;else var t=Object.keys(c),q=t.length;16>q?(f.setUint8(h,q|(s?144:128)),k=1):65536>q?(f.setUint8(h,s?220:222),f.setUint16(h+1,q),k=3):4294967296>q&&(f.setUint8(h,s?221:223),f.setUint32(h+1,q),k=5);if(s)for(s=0;s<q;s++)k+=g(c[s],f,h+k);else for(s= 0;s<q;s++)var v=t[s],k=k+g(v,f,h+k),k=k+g(c[v],f,h+k);return k}throw Error("Unknown type "+k);}function h(a){var b=typeof a;if("string"===b){var c=d(a);if(32>c)return 1+c;if(256>c)return 2+c;if(65536>c)return 3+c;if(4294967296>c)return 5+c}if(a instanceof ArrayBuffer){c=a.byteLength;if(256>c)return 2+c;if(65536>c)return 3+c;if(4294967296>c)return 5+c}if("number"===b){if(a<<0!==a)return 9;if(0<=a){if(128>a)return 1;if(256>a)return 2;if(65536>a)return 3;if(4294967296>a)return 5;if(1.8446744073709552E19> a)return 9;throw Error("Number too big 0x"+a.toString(16));}if(-32<=a)return 1;if(-128<=a)return 2;if(-32768<=a)return 3;if(-2147483648<=a)return 5;if(-9223372036854775E3<=a)return 9;throw Error("Number too small -0x"+a.toString(16).substr(1));}if("undefined"===b)return 3;if("boolean"===b||null===a)return 1;if("object"===b){b=0;if(Array.isArray(a))for(var c=a.length,f=0;f<c;f++)b+=h(a[f]);else for(var g=Object.keys(a),c=g.length,f=0;f<c;f++)var k=g[f],b=b+(h(k)+h(a[k]));if(16>c)return 1+b;if(65536> c)return 3+b;if(4294967296>c)return 5+b;throw Error("Array or object too long 0x"+c.toString(16));}throw Error("Unknown type "+b);}var k={i4:function(a){if(void 0===a)return"undefined";var b,c;a instanceof ArrayBuffer?(c="ArrayBuffer",b=new DataView(a)):a instanceof DataView&&(c="DataView",b=a);if(!b)return JSON.stringify(a);for(var d=[],f=0;f<a.byteLength;f++){if(20<f){d.push("...");break}var g=b.getUint8(f).toString(16);1===g.length&&(g="0"+g);d.push(g)}return"<"+c+" "+d.join(" ")+">"}};k.N5=a; k.M5=c;k.L5=d;k.Kp=function(a){var b=new ArrayBuffer(h(a)),c=new DataView(b);g(a,c,0);return b};k.mf=function(a){var b=new DataView(a),b=new f(b),c=b.parse();if(b.offset!==a.byteLength)throw Error(a.byteLength-b.offset+" trailing bytes");return c};f.prototype.map=function(a){for(var b={},c=0;c<a;c++){var d=this.parse();b[d]=this.parse()}return b};f.prototype.hy=function(a){var b=new ArrayBuffer(a);(new Uint8Array(b)).set(new Uint8Array(this.view.buffer,this.offset,a),0);this.offset+=a;return b};f.prototype.wu= function(a){var b=c(this.view,this.offset,a);this.offset+=a;return b};f.prototype.Zx=function(a){for(var b=Array(a),c=0;c<a;c++)b[c]=this.parse();return b};f.prototype.parse=function(){var a=this.view.getUint8(this.offset);if(160===(a&224))return this.offset++,this.wu(a&31);if(128===(a&240))return this.offset++,this.map(a&15);if(144===(a&240))return this.offset++,this.Zx(a&15);if(0===(a&128))return this.offset++,a;if(224===(a&224))return a=this.view.getInt8(this.offset),this.offset++,a;if(212===a&& 0===this.view.getUint8(this.offset+1))this.offset+=3;else{switch(a){case 217:return a=this.view.getUint8(this.offset+1),this.offset+=2,this.wu(a);case 218:return a=this.view.getUint16(this.offset+1),this.offset+=3,this.wu(a);case 219:return a=this.view.getUint32(this.offset+1),this.offset+=5,this.wu(a);case 196:return a=this.view.getUint8(this.offset+1),this.offset+=2,this.hy(a);case 197:return a=this.view.getUint16(this.offset+1),this.offset+=3,this.hy(a);case 198:return a=this.view.getUint32(this.offset+ 1),this.offset+=5,this.hy(a);case 192:return this.offset++,null;case 194:return this.offset++,!1;case 195:return this.offset++,!0;case 204:return a=this.view.getUint8(this.offset+1),this.offset+=2,a;case 205:return a=this.view.getUint16(this.offset+1),this.offset+=3,a;case 206:return a=this.view.getUint32(this.offset+1),this.offset+=5,a;case 207:var a=this.view.getUint32(this.offset+1),b=this.view.getUint32(this.offset+5);this.offset+=9;return 4294967296*a+b;case 208:return a=this.view.getInt8(this.offset+ 1),this.offset+=2,a;case 209:return a=this.view.getInt16(this.offset+1),this.offset+=3,a;case 210:return a=this.view.getInt32(this.offset+1),this.offset+=5,a;case 211:return a=this.view.getInt32(this.offset+1),b=this.view.getUint32(this.offset+5),this.offset+=9,4294967296*a+b;case 222:return a=this.view.getUint16(this.offset+1),this.offset+=3,this.map(a);case 223:return a=this.view.getUint32(this.offset+1),this.offset+=5,this.map(a);case 220:return a=this.view.getUint16(this.offset+1),this.offset+= 3,this.Zx(a);case 221:return a=this.view.getUint32(this.offset+1),this.offset+=5,this.Zx(a);case 202:return a=this.view.getFloat32(this.offset+1),this.offset+=5,a;case 203:return a=this.view.getFloat64(this.offset+1),this.offset+=9,a}throw Error("Unknown type 0x"+a.toString(16));}};return{Kp:function(a,b){b(null,{kn:a.kn,xd:a.xd,Bb:k.Kp(a.Bb)})},mf:function(a,b){b(null,{kn:a.kn,xd:a.xd,Bb:k.mf(a.Bb)})}}},{hostWorker:a.pt,clientId:"msg",lazy:!0}))})(X);X.dN=X.W.extend({oa:[X.ca],B:function(){this.VT=X.k.qM+"://"+X.k.Ju;this.Ei=[];this.wh=X.g.zb(this);this.UN=1;this.Mb="closed";this.count=0;this.VA=[];X.event.T(window,"beforeunload",this.MY,this);X.Dl&&X.Dl.Tm()},MY:function(){this.VA.length&&new X.na.ya(X.k.zc+"://webapi.amap.com/count?"+["type=v","k="+X.k.key,"u="+X.k.Zk,"m="+(X.j.U?1:0),"pf="+X.j.qq,"frq="+this.VA.join(",")].join("&"))},close:function(){this.rb&&(this.Mb="closed",this.Ei=[],this.$v())},PV:function(){var a=this;if("closed"===a.Mb){var b= new WebSocket(this.VT);b.binaryType="arraybuffer";a.Mb="connecting";b.onopen=X.g.bind(this.ZR,this);b.onclose=X.g.bind(this.FR,this);b.onerror=X.g.bind(this.Va,this);b.ontimeout=X.g.bind(this.Va,this);b.onmessage=X.g.bind(this.hS,this);this.rb=b;b.RV=setTimeout(function(){b.readyState!==WebSocket.OPEN&&a.lq()},1200)}},qJ:function(){return"connected"===this.Mb},lq:function(){this.Mb="unsupport";this.Ei=[];this.$v();this.l("disable")},Va:function(){this.lq()},ZR:function(){this.QV=!0;this.flush();this.l("open")}, FR:function(){this.QV?(this.Mb="closed",this.$v()):this.lq()},dF:function(a,b){if("unsupport"===this.Mb)return!1;"connected"===this.Mb?this.jG(a):("closed"===this.Mb&&this.PV(),this.Ei.push({data:a,zq:b}));this.count+=1},NR:function(a){if("ack"===a.type)switch(a.command){case "tiles":this.l("ack",a);break;case "retain":this.Mb="connected";this.flush();break;case "close":this.lq()}else 0===a.content.errcode&&("tiles"===a.type?this.l("tiles",a):"traffic"===a.type&&this.l("traffic",a))},pZ:function(a){"encode"=== a.xd?this.dF(a.Bb):"decode"===a.xd&&this.NR(a.Bb)},send:function(a){var b=this.UN++,c=this;X.Dl.Kp({xd:"encode",Bb:a,kn:this.wh},function(a,f){a||c.dF(f.Bb,b)});return b},jG:function(a){var b=this,c=b.rb;c.readyState==WebSocket.OPEN&&(c.send(a),b.Xn&&clearTimeout(b.Xn),b.Xn=setTimeout(function(){b.lq();b.Xn=null},5E3),b.EB&&clearTimeout(b.EB),b.EB=setTimeout(function(){b.close();b.EB=null},1E4))},$v:function(){var a=this.rb;a&&(clearTimeout(a.RV),a.onopen=a.onmessage=a.onerror=null,a.close(),this.rb= null)},flush:function(){if("connected"===this.Mb){for(var a=0;a<this.Ei.length;a+=1)this.jG(this.Ei[a].data);this.Ei=[]}},JW:function(a){for(var b=0;b<this.Ei.length;b+=1)if(this.Ei[b].zq===a)return this.Ei.splice(b,1),!0;return!1},hS:function(a){this.Xn&&(clearTimeout(this.Xn),this.Xn=null);var b=this;X.Dl.Bs([a.data]);X.Dl.mf({kn:b.wh,xd:"decode",Bb:a.data},function(a,d){a||b.pZ(d)})}});X.Tj={jM:function(){0===X.Ca.Dc&&X.Tj.$I()},K5:function(a,b){if(!a)return!1;for(var c=0,d=a.length;c<d;c++)if(a[c]&&a[c].Un===b)return!0},DV:function(a,b){var c="limg-"+a.key+"-"+b.w.wh;X.Ca[c]&&delete X.Ca[c]},fX:function(a){return X.Ca[a.Un?a.Un:a]},iq:function(a){var b=null,c=null,d=!1;a.Un?(b=a,c=b.Un,(a=b.url)&&(d=!0)):c=a;var f=X.Ca[c];d&&f&&f.src!==a&&(f=X.Ca[c]=null);if(!f&&a){d="data:"===a.substr(0,5);f=document.createElement("img");d||(f.crossOrigin="Anonymous");X.Ca[c]=f;f.loaded=!1;X.Ca.Dc+= 1;X.r.e(f,"load",this.st,this);X.r.e(f,"error",this.ZI,this);var g=this;f.Pn=setTimeout(function(){f.loaded||g.$I()},300);f.src=a;b&&(f.J2=c,b.url=null)}},$I:function(){for(var a=0;a<X.Ca.nk.length;a+=1)X.Ca.nk[a].set("display")},xH:function(a){X.r.C(a,"load",this.st,this);X.r.C(a,"error",this.ZI,this)},st:function(a){a=a.target;a.loaded=!0;X.Ca.Dc-=1;this.xH(a);this.jM();a.Pn&&(clearTimeout(a.Pn),a.Pn=null)},ZI:function(a){a=a.target;a.loaded=!1;X.Ca.Dc-=1;this.xH(a);this.jM();a.Pn&&(clearTimeout(a.Pn), a.Pn=null)}};X.V.ug=X.V.Af.extend({B:function(a,b){X.Ca.nk.push(this);this.wh=X.g.wI("layer");this.qb=2;a.get("textRatio");this.UB=25;this.P("tiles",a);this.f1=a.get("vdataUrl")||b.Ba.get("vdataUrl")||X.k.Ju;this.Wh=!0;this.Za=a;this.vg=X.j.U?!1:!0;this.A=b;this.vh=this.uh=!0;this.ld("zoom center crs centerCoords resolution coordsBound display".split(" "),b);this.ld("zooms detectRetina visible zIndex textIndex watermark opacity".split(" "),a);this.P("lang",b,!0);this.get("watermark")&&(this.Zn=new Image,this.Zn.src= this.get("watermark"));this.Ka={};this.of={};this.Vc=256;this.El=[];this.bi=this.ci=0;this.pa=X.j.pa&&this.get("detectRetina");this.Vc=256*(this.pa?2:1);this.P("mapStyle",b);this.Ki=0;this.P("features",b);this.Zm=this.get("crs");this.uf=18;this.P("reload",a)},mapStyleChanged:function(){var a=this.get("mapStyle");this.qi=X.k.qi[a]||X.k.qi["default"];this.Cq=!1;"normal"==a&&(this.Cq=!!this.A.get("showBuildingBlock"));this.featuresChanged()},featuresChanged:function(){this.set("reload")},langChanged:function(){this.set("reload"); this.Za.Cn()},gU:function(){if(this.Je){var a=this.ZD();if(a){var b="active"===this.Je.Go;a.Ev(this.Je);b&&a.sm(this.Je,"active")}}},qv:function(){this.gU()},Lq:function(a,b){var c=!0;if("hotspotout"===a)this.A.Ba.set("optimalCursor",null);else if("hotspotover"===a)this.A.Ba.set("optimalCursor","pointer");else if("mouseup"===a||"mousedown"===a)c=!1;var d=this.ZD();if(d&&!X.j.zV)switch(a){case "hotspotout":d.Sx(b);break;case "hotspotover":d.sm(b,"hover");break;case "mouseup":d.sm(b,"hoverup");break; case "mousedown":d.sm(b,"active")}c&&(c=b.Ga,c=new X.K(c[0],c[1]),c=this.A.Se(c,3),this.A.Ba.l(a,{name:b.name,lnglat:c,id:b.oq,isIndoorPOI:b.wJ}))},ZD:function(){if(!X.j.YX){if(!this.J)return null;var a=this.A?this.A.Ba.get("hotspotOptions"):{},a=X.extend({},a);if(a.disableHighlight)return null;this.gp||(this.gp=new X.V.ug.fN(this.J));return this.gp}},oj:function(a){(a=this.EI(a))&&this.Lq("hotspotclick",a)},zm:function(a){if(!this.A.xg||"mousemove"!==a.type){var b=this.EI(a);switch(a.type){case "mousemove":b&& this.Je!==b&&(this.Je&&this.Lq("hotspotout",this.Je),this.Lq("hotspotover",b));!b&&this.Je&&this.Lq("hotspotout",this.Je);break;case "mouseup":case "mousedown":b&&this.Lq(a.type,b)}this.Je=b}},textIndexChanged:function(){this.set("display")},rZ:function(){this.A.e("click",this.oj,this);this.A.e("mousemove",this.zm,this);this.A.e("mousedown",this.zm,this);this.A.e("mouseup",this.zm,this)},vy:function(){this.A.C("click",this.oj,this);this.A.C("mousemove",this.zm,this);this.A.C("mousedown",this.zm,this); this.A.C("mouseup",this.zm,this)},EI:function(a){var b=this.A.Ht.bz(this);if(b)return b.tX(a)},Ph:function(){return null},Qj:function(){return{Wh:!0,Vc:256,visible:this.get("visible"),q:this.mt(),Pc:this.get("zooms"),Fs:this.vg&&this.yb,uh:!this.A.Du,vh:!this.A.Du,opacity:this.get("opacity"),Jc:!1}},Gh:function(a){if(X.J.canvas.ug)return new X.J.canvas.ug(this,a)},Is:function(a){this.url=X.k.zc+"://"+this.f1+"/tiles?mapType="+a+"&v=2&style="+(X.j.U&&!this.pa?"6":"5");this.url+=this.pa?"&rd=2":"&rd=1"; this.url+="&flds="+this.ra;this.url+="&t="}}); X.V.oe=X.V.ug.extend({Gh:function(a){var b=this;if(!b.Zn&&X.j.nn&&"vw"===b.A.get("baseRender")){if(X.J.bj.oe)return new X.J.bj.oe(b,a);X.Qa.load("wgl",function(){b.set("display")})}else{if(X.J.canvas.oe)return new X.J.canvas.oe(b,a);X.Qa.bf(["cmng","cgl"],function(){b.set("display")})}},featuresChanged:function(){var a=this.get("features"),b=[];"all"===a?b=["region","building","road"]:a&&(-1!==X.g.indexOf(a,"bg")&&b.push("region"),-1!==X.g.indexOf(a,"building")&&b.push("building"),-1!==X.g.indexOf(a, "road")&&b.push("road"));this.ra=b;this.Is(this.get("mapStyle")||"normal");this.set("reload")}}); X.V.tg=X.V.ug.extend({Gh:function(a){var b=this;if(this.gJ()){if(this.Iu=!0,X.J.canvas.rC)return this.dV(),a=new X.J.canvas.rC(this,a),a.e("afterLabelRender",this.qv,this),a}else{b.Iu=!1;if(X.J.canvas.qC)return a=new X.J.canvas.qC(this,a),a.e("afterLabelRender",this.qv,this),a;a=["cmng","labelcanvas"];X.j.Hy&&a.push("labelDir");X.Qa.bf(a,function(){b.set("display")})}},gJ:function(){return"normal"!==this.get("mapStyle")||this.A.get("nolimg")?!1:X.j.Iu?!0:!1},dY:function(){return"normal"!==this.get("mapStyle")|| this.A.get("nolimg")||X.j.Jc||X.j.U?!1:!0},featuresChanged:function(){var a=this.get("features"),b=this.get("mapStyle"),c=[];"all"===a?c=["roadlabel","poilabel"]:a&&(-1!==X.g.indexOf(a,"road")&&c.push("roadlabel"),-1!==X.g.indexOf(a,"point")&&c.push("poilabel"));a=this.gJ();c.length&&(a||this.dY())&&c.unshift("limg");this.ra=c;this.Is(b);this.set("reload");this.J&&a^this.Iu&&(this.gp&&(this.gp=this.gp.J=null),this.J.C("afterLabelRender",this.qv,this),this.J.PH(),this.J=null)},dV:function(){this.zl= X.k.zc+"://vdata.amap.com/limg?";var a=this.pa?2:1;this.zl+="&font="+(X.j.U&&!this.pa?"big":"small");this.zl+="&scl="+a;this.zl+="&t="}});X.V.ug.fN=X.W.extend({B:function(a){this.LT(a)},LT:function(a){this.J=a},Sx:function(a){if(a.Go){a.Go=!1;var b=this.J;b&&b.Sx.apply(b,arguments)}},Ev:function(a){a.Go=!1;var b=this.J;b&&b.Ev.apply(b,arguments)},sm:function(a,b){b||(console.warn("hlStyle is required, e.g. hover, active.."),b="hover");if(a.Go!==b){a.Go=b;var c=this.J;c&&c.sm.apply(c,arguments)}}});X.dv={yv:function(a,b){this.Dd={};this.Dd.kn=X.g.zb(this.Dd);b.rb||(b.rb=new X.dN);this.rb=b.rb;this.rb.e("tiles",this.pK,this);this.rb.e("ack",this.oK,this);this.rb.e("disable",this.mK,this);this.P("mapStyle",a,!0)},tK:function(a){if(this.w&&a.IJ===this.w.wh){var b=this.w.ra,b=b[b.length],c=null,c="poilabel"==b||"roadlabel"==b?"labels":"allbase";this.yd||this.Rf?this.JA([this.w,"groupcomplete",null,null,c]):(this.Vg(),this.Bm.Ws(this.w,"groupcomplete",null,null,c));b=0;for(c=a.fh.length;b<c;b+=1)this.mA(a.fh[b], a.Dt,a.xq,a.U)}},mA:function(a,b){var c=a.xd,d=this.Ka.get(a.bM);if(d){var f=this.w.ra;d.ra||(d.Xb={});d.ra||(d.ra=[]);var g="";"poilabel"===c||"roadlabel"===c?(a.Yh||(g=a.Bb,a.Yh=null),d.ra.push.apply(d.ra,a.Bb),c===this.w.ra[this.w.ra.length-1]&&(d.Yh=null)):d.Xb[c]=a.Bb;"building"!==c&&"poilabel"!==c||!a.Ez||d.Ef||(d.Ef={},d.Ef.Hd=a.Ez,X.cm&&X.cm.l("vecTileParsed.buildings",{Au:d}));if("roadlabel"!==c&&"poilabel"!==c||!X.j.Hy)this.yd||this.Rf?this.JA([this.w,g,d,b,c]):(this.Vg(),this.Bm.Ws(this.w, g,d,b,c));c===f[f.length-1]&&(c="roadlabel"===c||"poilabel"===c?"labels":"allbase",this.yd||this.Rf?this.JA([this.w,"tileComplete",d,b,c]):(this.Vg(),this.Bm.Ws(this.w,"tileComplete",d,b,c)))}},tH:function(){if(this.rb&&"unsupport"!==this.rb.Mb){var a={command:"status",payload:{mapType:this.get("mapStyle"),style:X.j.U&&!this.w.pa?"6":"5",rd:this.w.pa?2:1}};this.rb.send(a)}},mapStyleChanged:function(){this.tH()},mK:function(){for(var a in this.Dd)this.Dd.hasOwnProperty(a)&&this.Dd[a].Bu&&(this.wo(this.Dd[a].Bu, this.Dd[a].Xj),delete this.Dd[a]);this.rb=null;this.fi("mapStyle");this.set("display",1)},oK:function(a){var b=a.reqId;this.Dd[b]&&(!a.content.status&&this.Dd[b]&&this.wo(this.Dd[b].Bu,this.Dd[b].Xj),delete this.Dd[b])},pK:function(a){if(this.Dd[a.reqId]){var b=a.content.opt;b===this.Ed?this.lA(a.content.data,b):this.wo(this.Dd[a.reqId].Bu,this.Dd[a.reqId].Xj)}},GY:function(a,b){if(a.length){var c=1,d=[];18<b&&(c=Math.pow(2,b-18));for(var f=this.w.Zm.Oh(a[0].Xa.z),g=0;g<a.length;g+=1){var h=a[g], k=h.Xa;h.Xj=b;k.N=f;if(18<b&&!this.Uj){for(var l=0;l<c;l+=1)for(var m=0;m<c;m+=1){var n=new X.Cf(new X.ph(b,c*k.x+l,c*k.y+m));this.Ka.rc(n.key)||(this.Ka.set(n.key,n),n.status="loading")}this.Ka.set(h.key+"/"+b,h)}else{this.Ka.set(h.key,h);if(this.Uj&&10>k.z&&this.bX(h)){this.set("display",0);continue}h.status="loading"}h=k.x;l=k.y;k=k.z;10>k&&(m=Math.pow(2,k),h>=m||0>h)&&(h=(h+m)%m);d.push(X.g.Ly(h,l,k).join(","))}d.length&&(!this.Bt&&this.rb&&"unsupport"!==this.rb.Mb?(1>this.rb.count||3<this.Gx? this.Uz(a,b,d):(2!==this.rb.count&&"connected"===this.rb.Mb||this.tH(),this.FY(a,b,d)),this.rb.count+=1,this.rb.GJ&&this.rb.VA.push(Math.ceil((new Date-this.rb.GJ)/1E3)),this.rb.GJ=new Date):this.Uz(a,b,d))}},FY:function(a,b,c){var d=(new Date).getTime()+"-"+(this.rb.count+1&65535),f={command:"tiles",reqId:d,payload:{t:c,opt:b,cs:{level:b,flds:this.w.ra.join(",")}}},g;if(!this.rb.qJ()){var h=this;setTimeout(function(){h.rb&&!h.rb.qJ()&&(h.Gx?h.Gx++:h.Gx=1,h.rb.JW(g)&&(delete h.Dd[d],h.Uz(a,b,c)))}, 300)}g=this.rb.send(f);this.Dd[d]={Bu:a,Xj:b}},oA:function(a){a.yb||(a.status="",a.yb=void 0,a.sa=null,a.$b=null,a.hc&&(a.hc.$b=null,a.hc.hc=null,a.hc=null),this.Ka.Yl(a.key))},eW:function(a){a=a.split(";");for(var b=0,c=a.length;b<c;b+=1){a[b]=a[b].split(",");for(var d=0,f=a[b].length;d<f;d+=1)a[b][d]=parseInt(a[b][d],36)}return a},lA:function(a,b,c){if(this.w){for(var d=[],f=0,g=a.length;f<g;f+=1){var h=a[f];h&&(c&&(h=JSON.parse(h)),h["x-vd-v"]||this.kA(h,b,d))}if(d.length){var k=this;a=null;var l; this.Uj?(a=X.p1,l=a.DA):(a=X.pt,l=this.Bt?a["label:parseLabel"]:a["base:parseData"]);(function(){l({IJ:k.w.wh,Dt:b,xq:k.w.pa,mL:k.w.qb,U:X.j.U,Js:X.k.Js||null,fh:d,UZ:X.k.zc,gV:k.w.Cq},function(a,b){if(k.w)if(a)console.log(a);else{var c=b.icons;if(c)for(var d=0;d<c.length;d+=1)X.Tj.iq(c[d]);b.data&&k.tK(b.data)}})})()}}},kA:function(a,b,c){function d(d,f,g){f=[g,d,f].join("/");18<b&&!l.Uj&&(f+="/"+b);if((d=l.Ka.get(f))&&"loaded"!==d.status)if(l.aM(d,p)){if(-1!==n.indexOf(m))if("limg"===m){if(f=a[1], d.Yh=f,"string"===typeof f.b&&(f.b=l.eW(f.b)),g="",g="object"===typeof f.u?f.u.url:f.u)d={url:g,Un:"limg-"+d.key+"-"+l.w.wh},f.u=d,X.Tj.iq(d,!0)}else{f={Rl:d.Xa,bM:f,Bb:a,xd:m,WU:l.w.qi,nY:"building"===m,mn:"poilabel"===m||"roadlabel"===m||"building"===m&&l.w.Cq};if("poilabel"===m||"roadlabel"===m)f.Yh=d.Yh;m===n[n.length-1]&&(d.status="loaded");c.push(f)}}else l.dB(b,d,p,X.g.bind(l.oA,l)),18<b&&l.Ka.Yl(f)}var f=a[0].split("-"),g=parseInt(f[1]),h=parseInt(f[2]),k=parseInt(f[0]),l=this,m=f[3],n=this.w.ra, p=18<b?Math.pow(2,b-18):1,f=Math.ceil(l.Tf.Zt/2),q=Math.pow(2,k);10>k&&(g<=f&&d(g+q,h,k),g>=q-f&&d(g-q,h,k));d(g,h,k)},JA:function(a){this.Vk||(this.Vk=[]);this.Vk.push(a)},Vg:function(){if(this.Vk&&this.Vk.length){for(var a=0,b=this.Vk.length;a<b;a+=1)this.Bm.Ws.apply(this.Bm,this.Vk[a]);this.Vk=[]}},wo:function(a,b,c){c||(c=18<b?Math.pow(2,b-18):1);for(var d=0;d<a.length;d+=1){var f=a[d];this.dB(b,f,c,X.g.bind(this.oA,this));18<b&&this.Ka.Yl(f.key+"/"+b)}},rI:function(a,b){return this.w.url+b.join(";")+ "&lv="+a},Uz:function(a,b,c){function d(c,d){if(b!==h.Ed)h.wo(a,b,k),f.wD=!0,f.startTime||(f.onreadystatechange="");else{var g=c.split("|");g[0]=d+g[0];var p=g,q="";g[g.length-1]&&(q=g[g.length-1],p=g.splice(0,g.length-1));h.lA(p,b,!0);return q}}var f=new XMLHttpRequest;c=this.rI(b,c,a);var g=0,h=this;f.Xt="";var k=18<b?Math.pow(2,b-18):1;f.onreadystatechange=function(){if(h.w)if(3===f.readyState){if(!f.wD){var c=f.responseText.substring(g);this.Xt=d(c,this.Xt);g=f.responseText.length;f.hD=!0}}else 4=== f.readyState&&(f.wD||(c=f.responseText.substring(g),h.Bt&&(c+="|"),d(c,this.Xt),this.Xt="",f.hD=!0),f.startTime&&(X.vd.mI=new Date-f.startTime,X.vd.XW=f.responseText.length/2),f.hD||h.wo(a,b,k))};f.onerror=function(){};this.UX||(this.UX=1,X.vd.Lp=f.startTime=new Date);f.open("GET",c,!0);f.send()},aM:function(a,b){var c=this.Rq||this.Tf,d=a.Xa.x,f=a.Xa.y;return d>Math.floor(c.Od/b)||d<Math.floor(c.ee/b)||f>Math.floor(c.bd/b)||f<Math.floor(c.Uc/b)?!1:!0},dB:function(a,b,c,d){if(18<a){b=b.Xa;for(var f= 0;f<c;f+=1)for(var g=0;g<c;g+=1){var h=new X.ph(a,c*b.x+f,c*b.y+g)+"";(h=this.Ka.get(h))&&d(h)}}else d(b),b.hc&&d(b.hc)}};X.J.canvas.tg=X.J.sg.extend({oa:[X.dv],B:function(a,b){arguments.callee.Ya.apply(this,arguments);this.wh=X.g.zb(this);this.im=300;this.uf=a.uf;this.Bt=this.Wh=!0;this.Jm=1;var c=this;this.kE=function(){c.aZ=!0;c.set("display",0)};this.be()},Vv:function(a){X.Tj.DV(a,this);var b=X.J.canvas.tg.pe.Vv;b&&b.apply(this,arguments)},be:function(){this.Bg=document.createElement("canvas");this.Bg.className="amap-labels";this.Bg.draggable=!1;this.Bg.xJ=!0;this.Dk=this.Bg.getContext("2d");this.Wp=[];this.fq=[]; this.ig=this.w.pa?16:8},Ml:function(a){var b=Math.pow(2,a.la.zoom-this.xc),c=this.w.pa?this.w.qb:1,d=a.la.za.Ja(this.Vj).Gb(this.yc);this.transform={translate:this.transform.translate.add(d.sc(c)),scale:b/c,rotate:0};this.za=a.la.za},Hn:function(a,b){if(!this.ia||3E4<Math.abs(this.za.x-this.ia.x)/this.N||3E4<Math.abs(this.za.y-this.ia.y)/this.N)this.ia=this.za;this.cd=this.xc;this.vf=this.yc;this.$i=!1;this.currentTime=+new Date;this.AB=b.AB;this.ac=[this.ma.$a.x,this.ma.$a.y];this.vg=b.Fs;var c= this.Hq;this.yd=this.zoom<<0!==this.zoom;var d=this.za.Ja(this.ia);d.x<-X.g.Ua/2&&(d.x+=X.g.Ua);d.x>X.g.Ua/2&&(d.x-=X.g.Ua);this.ny=d.Gb(this.yc);for(j=c.length-1;0<=j;j-=1)if(d=c[j],d.length){var f=d[0].Xa.z,g=!1;!1===a.QU||!d.tp||X.Ca.Dc||!(f<=this.zoom&&"in"==this.pA||f>=this.zoom&&"out"==this.pA)&&this.pA||this.labels&&this.labels.de===this.de&&this.MA(this.labels.qB,this.Tf)||(g=!0,this.labels&&this.labels.dh?(this.Wj=this.labels.dh,this.Wj.zoom=this.labels.zoom):(this.Wj=[],this.Wj.zoom=null), this.labels=[],this.labels.zoom=f,this.labels.de=this.de,this.labels.qB=this.Tf);if(g){for(f=d.length-1;0<=f;f-=1){var h=d[f],g=!1,k=h.ra;!k&&h.hc&&h.hc.ra&&(k=h.hc.ra,g=!0);if(k){for(var h=0,l=k.length;h<l;h+=1)k[h].reverse=g;Array.prototype.push.apply(this.labels,k)}}this.labels.sort(function(a,b){return a.ek>b.ek?-1:a.pf>=b.pf?-1:1})}}this.tV(a)&&this.m_(a);this.aZ=!1;this.Kc(a)},ge:function(a,b){this.de=a.de;this.bo=a.bo;this.Wt(a,b);this.yd||this.Vg();this.Vj&&(a.gM||a.sB&&X.j.Lf||a.Rf&&!a.yd&& a.XU)?this.Ml(a,b):this.Hn(a,b);this.Vj=this.za;this.Lh=this.labels;this.$i&&this.set("display",0)},Kc:function(a){var b=this.za.Ja(this.ia);b.x<-X.g.Ua/2&&(b.x+=X.g.Ua);b.x>X.g.Ua/2&&(b.x-=X.g.Ua);this.transform={translate:new X.K(a.ma.cb.x*(this.w.pa?this.w.qb:1),a.ma.cb.y*(this.w.pa?this.w.qb:1)),scale:1/(this.w.pa?this.w.qb:1),rotate:0}},MA:function(a,b){return a.Uc===b.Uc&&a.ee===b.ee&&a.bd===b.bd&&a.Od===b.Od},tX:function(a){var b;this.labels&&(b=this.vX(a))&&(b.wJ=!1);!b&&this.Cb&&(b=this.uX(a))&& (b.wJ=!0);return b||null},vX:function(a){var b=a.pg.x/this.N;a=a.pg.y/this.N;for(var c=this.labels.dh||this.labels,d=c.length-1;0<=d;d-=1){var f=c[d],g=f.Ga[0]/this.N,h=f.Ga[1]/this.N;if(f.oq&&this.sJ(f,b,a,g,h))return f}},uX:function(a){var b=a.pg.x/this.N;a=a.pg.y/this.N;for(var c=this.Cb.length-1;0<=c;c-=1){var d=this.Cb[c],f=d.Ga[0]/this.N,g=d.Ga[1]/this.N;if(d.oq&&this.sJ(d,b,a,f,g))return d}},sJ:function(a,b,c,d,f){for(var g=0;g<a.Pb.length;g+=1){var h=a.Pb[g][2],k=a.Pb[g][3],l=a.Pb[g][0],m= a.Pb[g][1];this.w.pa&&(h/=this.w.qb,k/=this.w.qb,l/=this.w.qb,m/=this.w.qb);if(b>=d+l-1&&b<=d+l+h+1&&c>=f+m-1&&c<=f+m+k+1)return!0}return!1},reloadChanged:function(){this.w&&(this.w.yb=!1,X.vd.Lp=null);this.Ka.clear();this.labels=[];this.Wp=[];this.fq=[];this.kb&&this.kb.parentNode&&this.kb.parentNode.removeChild(this.kb);this.Bg&&this.Bg.parentNode&&this.Bg.parentNode.removeChild(this.Bg);this.set("display")},qf:function(){return this.Bg}});X.J.canvas.rC=X.J.canvas.tg.extend({rI:function(a,b){return this.w.zl+b.join(";")+"&lv="+a},lA:function(a,b){if(this.w){for(var c=[],d=0,f=a.length;d<f;d+=1){var g=a[d];g&&(g=JSON.parse(g),this.kA(g,b,c))}this.set("display")}},NK:function(a,b){var c=0,d=0,f=1,c=256*b.x,d=256*b.y,f=b.N;return[(c+a[0])*f,(d+a[1])*f]},kA:function(a,b){function c(c,g,h){if(c=m.Ka.get([h,c,g].join("/")))if(g=c.Xa,h=X.k.zc+"://vdata.amap.com/icons/"+(d||f?"b":"n")+(10>g.z?"39":"18")+"/1/",c&&"loaded"!==c.status)if(m.aM(c, q)){if(-1!==p.indexOf(n))if("limg"===n)a[1]&&(c.Yh={url:"data:image/png;base64,"+a[1],Un:"limg-"+c.key+"-"+m.w.wh},X.Tj.iq(c.Yh,!0));else{if("roadlabel"===n)for(var k=1;k<a.length;k+=1){var l=a[k];l.Fq=l[0];var t=X.g.xB(l[1]);if(!(0>t[0]||256<=t[0]||0>t[1]||256<=t[1])){var A=m.NK(t,g),t={Ga:A,name:l[0],At:!0,pg:t,Ca:[],Pb:[]},B=t.name;t.yq=5>l[2]?0:l[2];var A=l[3],T=A[2],K=A[3],O=-Math.floor(K/2);if(l[4]){var C=!1,O=parseInt(l[5]);153==O&&(0===B.indexOf("G")?(O="153g",C=!0):0===B.indexOf("S")&&(O= "153s",C=!0));if(151==O||150==O)C=!1,0===B.indexOf("G")&&(O=150,C=!0),0===B.indexOf("S")&&(O=151,C=!0);152===O&&(O=151);!0===C&&(h=X.k.zc+"://webapi.amap.com/theme/v1.3/icons/"+(d||f?"b/":"n/"));B=h+O+".png";X.Tj.iq(B);t.Ca.push(B);O=l[4][0]*s;l=l[4][1]*s;B=[-O/2,-l/2,O,l];t.Pb.push(B);T=Math.min(O-3,T);K=Math.min(l,K);O=-Math.floor(K/2)+(f?3:1)}t.Ca.push(c.Yh);t.pf=11;t.Pb.push([-Math.floor(T/2),O,T,K,A[0],A[1],A[2],A[3]]);c.ra||(c.ra=[]);c.ra.push(t)}}else if("poilabel"===n){T=[];for(k=1;k<a.length;k+= 1)if(l=a[k],l.Fq=l[0],t=X.g.xB(l[1]),!(0>t[0]||256<=t[0]||0>t[1]||256<=t[1])){A=m.NK(t,g);t={Ga:A,name:l[0].replace("^",""),zt:!0,pg:t,Ca:[],Pb:[]};t.ek=l[8];(O=l[6])&&l[3]&&(B=h+O+".png",X.Tj.iq(B),t.Ca.push(B),B=[-Math.round(l[3][0]/2),-Math.round(l[3][1]/2),l[3][0],l[3][1]],f&&(B[0]*=s,B[1]*=s,B[2]*=s,B[3]*=s),t.Pb.push(B));if(l[2]&&l[7])for(K=l[2],B=0;B<l[2].length;B+=1){t.Ca.push(c.Yh);A=l[7][B];f&&(K[B][0]=Math.round(K[B][0]*s),K[B][1]=Math.round(K[B][1]*s),K[B][2]=Math.round(K[B][2]*s),K[B][3]= Math.round(K[B][3]*s));var C=K[B][0],w=K[B][1]-(f?4:2),G=A[3],P=A[2];C<-P&&O&&l[3]&&(C=-P+t.Pb[0][0]);if("375"===O||"3751"===O)P=Math.min(K[B][2],f?24:14),C=-Math.floor(P/2),w=-Math.floor(G/2);t.Pb.push([C,w,P,A[3],A[0],A[1],A[2],A[3]])}t.jJ=l[5];t.jJ&&T.push(t.jJ);t.oq=l[4];t.Cl=l[9];t.C4=l[10];c.ra||(c.ra=[]);c.ra.push(t)}c.Ef||(c.Ef={},c.Ef.Hd=T)}n===p[p.length-1]&&(c.status="loaded",c.yb=c.sa=!0,c.hc&&(c.hc.yb=c.hc.sa=!0))}}else m.dB(b,c,q,X.g.bind(m.oA,m))}var d=X.j.U,f=this.w.pa,g=a[0].split("-"); 1==g.length&&(g=a[0].split("_"));var h=parseInt(g[1]),k=parseInt(g[2]),l=parseInt(g[0]),m=this,n=g[3],p=this.w.ra,q=18<b?Math.pow(2,b-18):1,g=Math.ceil(m.Tf.Zt/2),s=this.w.pa?this.w.qb:1,t=Math.pow(2,l);10>l&&(h<=g&&c(h+t,k,l),h>=t-g&&c(h-t,k,l));c(h,k,l)}});X.J.canvas.tg.Mc({m_:function(a){this.Jm++;var b=this.Bg,c=this.Dk;this.Rj={};var d=a.ma.$a.Gb(this.N);this.Rj.v5=d.x%this.ig-this.ig;this.Rj.w5=d.x%this.ig-this.ig;var f=this.w.pa?this.w.qb:1;0!==a.la.rotation?(d=2*Math.floor(a.ma.cb.x)*f,f*=2*Math.floor(a.ma.cb.y)):(d=a.size.width*f,f*=a.size.height);X.f.di(b,d,f,!0);c.textBaseline="bottom";this.bJ=0;a.Cb&&(this.OK(a.Cb,1,a.Cb),0===a.Cb.length&&this.labels&&this.labels.dh&&this.labels.zoom===this.zoom&&this.labels.dh.length!==this.labels.length&& (this.labels.dh=null));this.labels&&this.OK(this.labels,0,a.Cb);!X.j.U&&this.Wj&&this.Wj.length&&this.sX(a);this.Wp=this.Wp&&this.$K(c,this.Wp,480);this.fq=this.fq&&this.$K(c,this.fq,200);a.Cb&&this.cL(a.Cb,c,X.Ie.yI(this.A.Ba),this.bc,d,f);this.labels&&this.cL(this.labels,c,X.Ie.yI(this.A.Ba),this.bc,d,f);this.Wj=[];this.labels&&(this.labels.Jn=this.zoom,this.labels.Fn=this.za,this.labels.wq=this.rotation,this.labels.eL=this.w.pa,this.labels.size=a.size);a.Cb&&(this.Cb=a.Cb);this.Cb&&(this.Cb.Jn= this.zoom,this.Cb.Fn=this.za,this.Cb.wq=this.rotation,this.Cb.size=a.size);this.l("afterLabelRender")},aL:function(a,b){for(var c=0,d=b.Ca.length;c<d;c+=1)this.BW(a,b.Ca[c],b.Pb[c],b.yq);b.Fe&&this.VH&&this.VH(a,b)},BW:function(a,b,c,d){var f=this.Dk;b=this.Op(b);if(!b)return 1;var g=c[2],h=c[3],k=c[0],l=c[1];d=(d||0)%360*-Math.PI/180;if(0!==d){var m=Math.cos(d),n=Math.sin(d),p=a[0],q=a[1];f.transform(m,n,-n,m,(1-m)*p+n*q,(1-m)*q-n*p)}k=a[0]+k;a=a[1]+l;4===c.length?b.loaded&&f.drawImage(b,k,a,g,h): f.drawImage(b,c[4],c[5],c[6],c[7],k,a,g,h);0!==d&&f.setTransform(1,0,0,1,0,0)},Op:function(a){if("IMG"===a.tagName||"CANVAS"===a.tagName||(a=X.Tj.fX(a))&&a.loaded)return a},ot:function(a){var b=a.Ga,c=b[0];a.reverse&&(c>X.g.Ua/2?c-=X.g.Ua:c<-X.g.Ua/2&&(c+=X.g.Ua));return this.Ib(c,b[1])},Ib:function(a,b){var c=this.w.pa?this.w.qb:1,d=this.N,f=y=0,f=(a-this.ac[0])/d;y=(b-this.ac[1])/d;return[Math.round(f*c),Math.round(y*c)]},AX:function(a){var b=a.Ga,c=b[0];a.reverse&&(c>X.g.Ua/2?c-=X.g.Ua:c<X.g.Ua/ 2&&(c+=X.g.Ua));return[c/this.N,b[1]/this.N]},wY:function(a,b){var c=a.Ga;return c[0]>b.Wb.x||c[1]>b.Wb.y||c[0]<b.$a.x||c[1]<b.$a.y?!1:!0},sX:function(a){var b=this.Wj;if(this.Wj.zoom!==this.labels.zoom)for(var c=0,d=b.length;c<d;c+=1){var f=b[c];f.zt&&this.wY(f,a.ma)&&(this.fq.push(f),f.zoom=b.zoom,f.vz=new Date)}},OK:function(a,b,c){var d=!(!c||!c.length),f=a.zoom-this.zoom,g=a.dh||a;if(0<f||d){a.dh=[];for(var h=0,k=g.length;h<k;h+=1){var l=g[h],m=this.AX(l);l.zt||b?l.ut&&d&&c.eK&&-1!==X.g.indexOf(c.eK, l.ut)||(5>f&&this.bY(m,l,0<f,b,d)?a.dh.push(l):X.j.U||0==f&&!b||(this.Wp.push(l),l.zoom=this.labels?this.labels.zoom:this.xc,l.vz=new Date)):l.At&&a.dh.push(l)}}else a.dh=a;return!1},$K:function(a,b,c,d,f){for(var g=new Date,h=[],k=0,l=b.length;k<l;k+=1){var m=b[k],n=Math.max(0,Math.abs(m.zoom-this.zoom)),n=Math.max(0,1-(g-m.vz)/(1/Math.pow(1.3,n)*c));0<n?(h.push(m),a.globalAlpha=n,n=this.ot(m),-20>n[0]||n[0]>d+20||-20>n[1]||n[1]>f+20||this.aL(n,m)):m.vz=void 0}h.length&&(this.bJ=this.$i=1);return h}, cL:function(a,b,c,d,f,g){d=a.zoom!==this.zoom;18==a.zoom&&18<this.zoom&&(d=!1);b.globalAlpha=1;a=a.dh;b=0;for(var h=a.length;b<h;b+=1){var k=a[b];if(!(d&&k.At||k.ri&&c&&0<=c.indexOf(k.ri))){var l=this.ot(k);-20>l[0]||l[0]>f+20||-20>l[1]||l[1]>g+20||this.aL(l,k)}}},tV:function(a){this.Lh&&this.Lh.eL!==this.w.pa&&this.w.set("reload");if(this.bJ)return!0;if(a.Cb&&a.Cb.length)if(this.Cb&&this.Cb.length){if(this.Cb!==a.Cb||this.Cb.Jn!==this.zoom||this.Cb.Fn!==this.za||this.Cb.wq!==this.rotation||!this.Cb.size.Hb(a.size))return!0}else return!0; else if(this.Cb&&this.Cb.length)return!0;return!this.labels||this.labels===this.Lh&&this.Lh&&this.Lh.Jn===this.zoom&&this.Lh.Fn===this.za&&this.Lh.de===a.de&&this.Lh.wq===this.rotation&&this.Lh.eL===this.w.pa&&this.Lh.size.Hb(a.size)?!1:!0},bY:function(a,b,c,d,f){if(!f&&!c&&!d)return!0;var g;f=b.Ca.length;if(b.Cl>this.zoom)g=!0;else if(!c&&d)g=!1;else for(var h=0;h<f;h+=1){var k=b.Pb[h],l=k[2],m=k[3],n=k[0],k=k[1],n=a[0]+n,k=a[1]+k;this.cY(n,k,l,m)||(g=!0)}if(!g&&(c||d))for(h=0;h<f;h+=1)for(k=b.Pb[h], l=k[2],m=k[3],n=k[0],k=k[1],n=a[0]+n,k=a[1]+k,c=Math.ceil((n+l)/this.ig),d=Math.ceil((k+m)/this.ig),n=Math.floor(n/this.ig),k=Math.floor(k/this.ig),W=0,il=c-n;W<=il;W+=1)for(h=0,jl=d-k;h<=jl;h+=1)this.Rj[n+W]||(this.Rj[n+W]={}),this.Rj[n+W][k+h]=1;return!g},cY:function(a,b,c,d){c=Math.ceil((a+c)/this.ig);d=Math.ceil((b+d)/this.ig);a=Math.floor(a/this.ig);b=Math.floor(b/this.ig);W=0;for(il=c-a;W<=il;W+=1)if(this.Rj[a+W])for(j=0,jl=d-b;j<=jl;j+=1){if(1===this.Rj[a+W][b+j])return!1}else this.Rj[a+W]= {};return!0}});X.J.canvas.tg.KM=X.W.extend({B:function(a){this.J=a},KT:function(a){this.de=a;return this.zx([0,0,0])?!0:this.de=!1},zE:function(){return this.J.yd?!1:!0},oQ:function(a){if(a){var b=Array.prototype.slice.call(arguments,0);switch(a.type){case "icon":return this.rQ.apply(this,b);case "label":return this.sQ.apply(this,b);default:console.error("Unknown type",a)}}},UD:function(a,b,c){a=null;try{a=b.getImageData.apply(b,c)}catch(d){console.error(d),a=null}return a},fU:function(a){return 0>a?0:255<a?255: Math.round(a)},HG:function(a,b){for(var c=0;4>c;c++)a[b+c]=this.fU(a[b+c]);return a},yx:function(a,b){var c=259*(b+255)/(255*(259-b));return[c*(a[0]-128)+128,c*(a[1]-128)+128,c*(a[2]-128)+128]},CT:function(a){return[255-a[0],255-a[1],255-a[2]]},zx:function(a,b){isNaN(b)&&(b=20);var c=Math.max(0,0.299*a[0]+0.587*a[1]+0.114*a[2]-b);switch(this.de){case "normal":return[1*c,1.2*c,255];case "light":return[1*c,1*c,255];case "fresh":return[1*c,1*c,220];case "dark":return[1.5*a[0],1.5*a[1],1*a[2]];case "blue_night":case "mapv":return[2* a[0],1.5*a[1],1*a[2]]}return!1},tQ:function(a,b){var c=20,d=10;switch(b.vl){case "active":c+=20,d+=20}return this.yx(this.zx(a,c),d)},iE:function(a,b){var c=-110;switch(b.vl){case "active":c+=30}return this.yx(this.zx(this.CT(a),c),50)},qQ:function(a){return this.yx(a,20)},hE:function(a,b,c,d,f,g){var h=a[b],k=a[b+1],l=a[b+2];a=a[b+3];0<a?(f=f.call(this,[h,k,l,a],g),c[d]=f[0],c[d+1]=f[1],c[d+2]=f[2]):(c[d]=h,c[d+1]=k,c[d+2]=l);c[d+3]=a;this.HG(c,d)},KP:function(a){var b=a.data,c=a.width;a=a.height; for(var d=0,f=0,g=[Infinity,Infinity],h=[-Infinity,-Infinity],k=0;k<c;k++)for(var l=0;l<a;l++){var m=4*this.iw(k,l,c,a);if(!(76.5>b[m+3])){f++;k<g[0]&&(g[0]=k);l<g[1]&&(g[1]=l);k>h[0]&&(h[0]=k);l>h[1]&&(h[1]=l);for(var n=!0,p=0;4>p;p++)if(220>b[m+p]){n=!1;break}n&&d++}}return{u1:0<f?d/f:0,LV:[g[0],g[1],h[0]-g[0]+1,h[1]-g[1]+1]}},iw:function(a,b,c){return b*c+a},ps:function(a,b,c,d,f,g,h){var k=this.iw(b,c,d,f);d=a[4*k+0];f=a[4*k+1];var l=a[4*k+2];a=a[4*k+3];if(a/255<h.ZJ||h.ZL&&!h.ZL.call(this,d, f,l,a))return!1;g.push([b,c]);return!0},TS:function(a,b){var c=Math.abs(a[0]-b[0]),d=Math.abs(a[1]-b[1]);return Math.sqrt(c*c+d*d)},Cm:function(a,b){return 0.1>Math.abs(a[0]-b[0])&&0.1>Math.abs(a[1]-b[1])},UT:function(a,b){for(var c=[a[0]],d=1,f=a.length;d<f;d++){var g=a[d];this.TS(g,c[c.length-1])<=b&&c.push(g)}return this.Cm(c[c.length-1],a[a.length-1])?c:null},D2:function(){},AO:function(a,b,c,d){d=X.extend({ZJ:0.2,VJ:4},d);var f,g,h=[],k=[],l=[],m=[];for(f=0;f<c;f++){for(g=0;g<b&&!this.ps(a,g, f,b,c,h,d);g++);for(g=b-1;0<=g&&!this.ps(a,g,f,b,c,k,d);g--);}if(!h.length||!k.length)return null;for(g=0;g<b;g++){var n;f=h[0][0];n=k[0][0];if(g>=f&&g<=n)for(f=0;f<c&&!this.ps(a,g,f,b,c,l,d);f++);f=h[h.length-1][0];n=k[k.length-1][0];if(g>=f&&g<=n)for(f=c-1;0<=f&&!this.ps(a,g,f,b,c,m,d);f--);}if(!l.length||!m.length)return null;m.reverse();h.reverse();if(this.Cm(l[l.length-1],k[0])&&this.Cm(k[k.length-1],m[0])&&this.Cm(m[m.length-1],h[0])&&this.Cm(h[h.length-1],l[0])){b=[m,h,l,k];f=0;for(a=b.length;f< a;f++)if(!(2>b[f].length||(b[f]=this.UT(b[f],d.VJ),b[f])))return null;return[].concat(b[0]).concat(b[1].slice(1)).concat(b[2].slice(1)).concat(b[3].slice(1))}return null},vP:function(a){for(var b=[Infinity,Infinity],c=[-Infinity,-Infinity],d=0,f=a.length;d<f;d++){var g=a[d][0],h=a[d][1];b[0]>g&&(b[0]=g);b[1]>h&&(b[1]=h);c[0]<g&&(c[0]=g);c[1]<h&&(c[1]=h)}return b.concat([c[0]-b[0]+1,c[1]-b[1]+1])},$D:function(a,b){this.zG||(this.zG=document.createElement("canvas"));var c=this.zG;c.width=a;c.height= b;return c},OP:function(a){switch(a.length){case 2:return"lineTo";case 4:return"quadraticCurveTo"}return null},BD:function(a){switch(a.length){case 2:return[a[0]+0.5,a[1]+0.5];case 4:return[a[0]+0.5,a[1]+0.5,a[2]+0.5,a[3]+0.5]}return a},PC:function(a,b){a.beginPath();for(var c=0,d=b.length;c<d;c++){var f=b[c];0===c?(2<f.length&&(4===f.length?f=f.slice(-2):console.error("Unknown start point: ",b)),a.moveTo.apply(a,this.BD(f))):a[this.OP(f)].apply(a,this.BD(f))}},yP:function(a){a=this.iE([255,255,255], {vl:a.vl});this.HG(a,0);return"rgba("+a.slice(0,3).join(",")+", 0.8)"},pQ:function(a,b,c){function d(a){return[Math.round((a[0]-n)*q+n-m[0]),Math.round((a[1]-p)*s+p-m[1])]}c=X.extend({vl:"hover",ZG:!0,padding:[1.5,1.5]},c);var f=a.width,g=a.height,h=this.$D(2*f+10,g),k=h.getContext("2d"),l=this.vP(b),m=c.padding;X.j.Jc&&(m[0]+=2.5,m[1]+=2.5);for(var n=l[0],p=l[1],q=(l[2]+2*m[0])/l[2],s=(l[3]+2*m[1])/l[3],l=0,t=b.length;l<t;l++)switch(b[l].length){case 2:b[l]=d(b[l]);break;case 4:b[l]=d(b[l]).concat(d(b[l].slice(2))); break;default:console.error("Unknown point: ",b[l])}k.save();this.PC(k,b);k.closePath();k.fillStyle=c.fillStyle||"rgba(255,255,255,0.85)";k.fill();k.putImageData(a,f+6,0);k.drawImage(h,f+6,0,f,g,0,0,f,g);a=c.ZG&&10<b.length;var v=c.strokeStyle||this.yP(c);k.strokeStyle=a?"#fff":v;k.lineCap="butt";k.lineJoin="round";k.lineWidth=X.j.Jc?2:1.2;k.stroke();k.restore();return{sa:h,Zd:[0,0,f,g],Xx:a?function(a,c){this.WT(a,c,b,v)}:null}},WT:function(a,b,c,d){this.DO();var f=this.J.Jm;this.KC(a,c,{duration:200, FA:0,startTime:Date.now(),U_:function(a){a.strokeStyle=d;a.lineCap="butt";a.lineJoin="round";a.lineWidth=X.j.Jc?2:1;a.translate(b[0],b[1])},v1:function(){return this.J.Jm!==f}})},DO:function(){this.sv&&X.g.bl(this.sv)},KC:function(a,b,c,d){this.zE()?this.sv=X.g.Ee(function(){this.sv=null;if(c.v1.call(this))d&&d.call(this);else{var f=(Date.now()-c.startTime)/c.duration;1<f&&(f=1);var g=Math.round(b.length*f);if(c.FA<g){var h=1===f?b:b.slice(c.FA,g+1);h.length&&(a.save(),c.U_.call(this,a,f),this.PC(a, h),a.stroke(),a.restore());c.FA=g}1>f?this.KC(a,b,c,d):d&&d.call(this)}},this):d&&d.call(this)},KO:function(a,b,c){a=a.createImageData(b.width,b.height);var d=a.data,f=a.width,g=a.height,h=c[0]+c[2],k=c[1],l=c[1]+c[3];for(c=c[0];c<h;c++)for(var m=k;m<l;m++)for(var n=4*this.iw(c,m,f,g),p=0;4>p;p++)d[n+p]=b.data[n+p];return a},XQ:function(a,b,c){var d=a[1]+(b[1]-a[1])*c;return[Math.round(a[0]+(b[0]-a[0])*c),Math.round(d)]},JQ:function(a,b,c){for(var d=1/c,f=[],g=1;g<c;g++){var h=this.XQ(a,b,d*g);f.length&& this.Cm(h,f[f.length-1])||f.push(h)}return f},KQ:function(a,b){for(var c=1,d=a.length;c<d;c++){var f=a[c-1],g=a[c];2===g.length&&(4===f.length&&(f=f.slice(2)),2===f.length&&(f=this.JQ(f,g,b),a.splice.apply(a,[c,0].concat(f)),c+=f.length,d+=f.length))}},QP:function(a,b,c,d,f){f=Math.round(Math.min(c,d)*f);c--;d--;f?a=[[a+c,b+d-f],[a+c,b+d,a+c-f,b+d],[a+f,b+d],[a,b+d,a,b+d-f],[a,b+f],[a,b,a+f,b],[a+c-f,b],[a+c,b,a+c,b+f],[a+c,b+d-f]]:(f=[a+c,b+d],a=[f,[a,b+d],[a,b],[a+c,b],f]);this.KQ(a,5);return a}, rQ:function(a,b,c,d,f,g){b=a.Zd;var h=c?c.Az:this.UD(d,f,b);if(h){var k=c?c.dJ:null,l=h,m=a.padding,n=m?m[0]:0,p=m?m[1]:0;(m=0<n*p)&&(l=this.KO(f,l,[n,p,l.width-2*n,l.height-2*p]));d=l.data;b=l.width;var q=l.height;if(b&&q){c=(c=this.J.A)&&c.Ba?c.Ba.get("hotspotOptions"):{};c=X.extend({borderAnimation:!0},c);l=this.KP(l);a=!a.qY&&0.46<=l.u1;var s=f.createImageData(b,q);f=s.data;for(var t=a?this.iE:this.qQ,v=0,x=d.length;v<x;v+=4)this.hE(d,v,f,v,t,{vl:g});if(m&&(f=a&&!X.j.Jc?this.AO(d,b,q,{ZL:a?function(a, b,c){return!(220<a&&220<b&&220<c)}:null,ZJ:0.2,VJ:4}):null,f||(f=l.LV,f=this.QP(f[0],f[1],f[2],f[3],0.2)),f)){var u=this.pQ(s,f,{vl:g,fillStyle:"active"!==g?null:"#ddd",Ot:h,ZG:c.borderAnimation&&"hover"===g&&!k,padding:a?[1.5,1.5]:[2.5,2.5]}),s=null;return{Ot:h,Gn:function(a,b){k&&h&&a.putImageData(h,b[0],b[1]);a.drawImage(u.sa,u.Zd[0],u.Zd[1],u.Zd[2],u.Zd[3],b[0],b[1],b[2],b[3]);u.Xx&&(u.Xx.call(this,a,b),u.Xx=null)}}}return{Ot:h,Gn:function(a,b){if(m){var c=this.$D(s.width,s.height);c.getContext("2d").putImageData(s, 0,0);a.clearRect(b[0]+n,b[1]+p,b[2]-2*n,b[3]-2*p);a.drawImage(c,0,0,c.width,c.height,b[0],b[1],b[2],b[3])}else a.putImageData(s,b[0],b[1]);s=null}}}}},sQ:function(a,b,c,d,f,g){a=a.Zd;if(c=c?c.Az:this.UD(d,f,a))if(d=c.data,a=c.width,b=c.height,a&&b){var h=f.createImageData(a,b);f=h.data;a=0;for(b=d.length;a<b;a+=4)this.hE(d,a,f,a,this.tQ,{vl:g});return{Ot:c,Gn:function(a,b){a.putImageData(h,b[0],b[1]);h=null}}}},bE:function(a,b,c){var d=c[2],f=c[3],g=a[0]+c[0];a=a[1]+c[1];if(4===c.length||c.vE){if((b= this.J.Op(b))&&b.loaded)return c=[4,4],X.j.Jc&&(c[0]*=2,c[1]*=2),{type:"icon",qY:b.src&&b.src.indexOf&&0<=b.src.indexOf("/indoor_icon/"),padding:c,Zd:[g-c[0],a-c[1],d+2*c[0],f+2*c[1]]}}else return{type:"label",Zd:[g,a,d,f]}}}); X.J.canvas.tg.Mc({SD:function(){this.qw||(this.qw=new X.J.canvas.tg.KM(this));return!1===this.qw.KT(this.de)?null:this.qw},sm:function(a,b){var c=this.SD();if(c&&c.zE()&&a&&a.Ca&&a.Pb&&0===this.rotation){var d=this.Jm,f=this.ot(a),g=[],h;a.rj||(a.rj=[]);var k=a.rj;for(h=a.Pb.length-1;0<=h;h--){if(k[h]){if(k[h].rev!==d)continue;if(k[h].dJ===b)continue}var l=c.bE(f,a.Ca[h],a.Pb[h]);if(l){var m=c.oQ(l,a,k[h],this.Bg,this.Dk,b);m&&(k[h]={dJ:b,rev:d,Az:m.Ot},g.push({Gn:m.Gn,Zd:l.Zd,sq:"icon"===l.type? 2:1}))}}g.sort(function(a,b){return a.sq-b.sq});h=0;for(d=g.length;h<d;h++)g[h].Gn.call(c,this.Dk,g[h].Zd),g[h].Gn=null}},Ev:function(a){a.rj&&(a.rj.length=0,a.rj=null)},Sx:function(a){if(a&&a.Ca&&a.Pb&&a.rj){var b=this.Dk,c=this.SD();if(c){for(var d=this.Jm,f=this.ot(a),g=a.rj,h=0,k=a.Pb.length;h<k;h++){var l=g[h];if(l&&(g[h]=null,d===l.rev)){var m=c.bE(f,a.Ca[h],a.Pb[h]);m&&m.Zd&&b.putImageData(l.Az,m.Zd[0],m.Zd[1])}}a.rj=null;this.Jm++}}}}); ',true),_jsload_('overlay', 'X.ba.Wc=X.ba.qk.extend({B:function(a,b){var c=a.length;this.df=Array(c);for(var d,f,g=0;g<c;g+=1)if(d=a[g],f=new X.ba.fC(d),this.df[g]=f,!b)if(0===g){if(0===d.length)break;f.yl(d)||d.reverse()}else 0!==d.length&&f.yl(d)&&d.reverse()},dc:function(){if(0===this.df.length)return[Infinity,Infinity,-Infinity,-Infinity];if(!this.nd){for(var a=this.df[0].dc(),b=1;b<this.df.length;b+=1){var c=this.df[b].dc();X.q.FH(a,c)||X.q.extend(a,c)}this.nd=a}return this.nd},KI:function(){return this.df},ze:function(){return X.ba.tc.br}, lf:function(a){for(var b=this.df,c,d=0,f=b.length;d<f&&(c=b[d].lf(a),0<d&&(c=!c),c);d+=1);return c}});X.ba.jo=X.ba.qk.extend({B:function(a){var b=a.length;this.Id=Array(b);for(var c=0;c<b;c+=1){var d=new X.ba.Wc(a[c]);this.Id[c]=d}},dc:function(){if(!this.nd){for(var a=[Infinity,Infinity,-Infinity,-Infinity],b=this.Id,c=0,d=b.length;c<d;c+=1)X.q.extend(a,b[c].dc());this.nd=a}return this.nd},Wy:function(){return this.Ga},ze:function(){return X.ba.tc.$q},uI:function(){return this.Id},lf:function(a){for(var b=!1,c=0,d=this.Id.length;c<d;c+=1)if(this.Id[c].lf(a)){b=!0;break}return b}});X.ba.rk=X.ba.qk.extend({B:function(a){this.Ga=a},dc:function(){if(!this.nd){for(var a=[Infinity,Infinity,-Infinity,-Infinity],b=0,c=this.Ga.length;b<c;b+=1)X.q.eI(a,this.Ga[b]);this.nd=a}return this.nd},Wy:function(){return this.Ga},ze:function(){return X.ba.tc.Su},lX:function(){return this.Ga.length},ct:function(a){for(var b=this.Ga,c=Infinity,d=0,f=1,g=b.length;f<g;d=f,f+=1)c=Math.min(c,X.cj.q0(a,[b[d],b[f]]));return Math.sqrt(c)}});X.ba.fC=X.ba.rk.extend({ze:function(){return X.ba.tc.dC},yl:X.cj.yl,lf:function(a){return X.cj.lf(a,this.Ga)}});X.ba.ar=X.ba.qk.extend({B:function(a){var b=a.length;this.Id=Array(b);for(var c=0;c<b;c+=1){var d=new X.ba.rk(a[c]);this.Id[c]=d}},uI:function(){return this.Id},dc:function(){if(!this.nd){for(var a=[Infinity,Infinity,-Infinity,-Infinity],b=this.Id,c=0,d=b.length;c<d;c+=1)X.q.extend(a,b[c].dc());this.nd=a}return this.nd},Wy:function(){return this.Ga},ze:function(){return X.ba.tc.Uu},lX:function(){return this.Ga.length},ct:function(a){for(var b=Infinity,c=0,d=this.Id.length;c<d;c+=1)b=Math.min(b,this.Id[c].ct(a)); return b}});X.Ea.hd=X.Ea.ej.extend({B:function(a,b){arguments.callee.Ya.apply(this,arguments);this.KU=a;this.P("options",a);this.P("geodesic",a);this.P("path",a);this.P("noSelect",a);this.al();this.P("display",b);b.e("zoomend",this.qj,this)},geodesicChanged:function(){this.pathChanged()},Vi:function(a){var b=this.get("path"),c=a.sc(this.map.get("resolution")),d=[],f,g,h;f=0;for(g=b.length;f<g;f+=1)h=this.map.Ub(b[f]).add(c),d.push(this.map.Se(h));0<d.length&&this.set("path",d);if(this.nx&&0<this.nx.length)for(f= 0,b=this.nx.length;f<b;f+=1)this.nx[f].Vi(a);this.KU.l("movepoly",{IK:c})},Do:function(a){this.get("options");return this.tE()?this.GP(a):this.ND(a)},tE:function(){var a=this.get("options");return a&&!!a.geodesic},getStrokeWeight:function(){return this.get("options").strokeWeight},GP:function(a){if(!a||!a.length)return[];var b,c=[],d,f,g=[],h,k=this.map.get("resolution"),l=this.get("options").geodesicInterpolatePixelWidth||17;c.push(a[0]);g.push(this.ew(a[0]));d=1;for(f=a.length;d<f;d+=1)h=this.ew(a[d]), b=Math.round(Math.abs(h[0]-g[g.length-1][0])/k),b=Math.min(31,Math.round(b/l),Math.round(Math.abs(a[d-1].I-a[d].I))),b=X.O.BX(a[d-1],a[d],b),c.push.apply(c,b),g.push.apply(g,this.ND(b)),c.push(a[d]),g.push(h);return g},Gs:function(a){var b=[],c=[],d,f,g,h,k,l,m=a.va;m instanceof X.ba.rk?l=[m]:m instanceof X.ba.ar&&(l=m.Id);m=[];a=a.ga.rotation;b=this.map.get("size");d=Math.PI*a/180;a=(Math.abs(b.width*Math.cos(d))+Math.abs(b.height*Math.sin(d)))/2;var n=(Math.abs(b.width*Math.sin(d))+Math.abs(b.height* Math.cos(d)))/2;d=0;for(f=l.length;d<f;d+=1)if(g=l[d].Ga,g.length)for(h=0,k=g.length;h<k;h+=1)if(b=g[h],b=this.Ib(b),b[0]=Math.round(b[0]+a),b[1]=Math.round(b[1]+n),0===h)c[0]=NaN,c[1]=NaN,m.push("M"+b[0]+" "+b[1]);else if(b[0]!==c[0]||b[1]!==c[1])m.push("L"+b[0]+" "+b[1]),c[0]=b[0],c[1]=b[1];return m},al:function(){if(this.map&&!this.F){var a=this.map,b=this.get("path"),b=this.F=new X.Rd({aw:this.Zb.Lr,name:"polyline-"+X.g.zb(this),zIndex:this.get("options").zIndex||1,map:a,va:new X.ba.rk(this.Do(b)), style:this.get("options")});b.uj=this;this.P("resolution",a);this.P("center",a);this.P("coords",b);this.P("style",b);b.ld(["noSelect","visible","zIndex","strokeWeight","isOutline"],this)}},pathChanged:function(){var a=this.F,b=this.get("path");a&&(this.set("coords",this.Do(b)),a.fg=!0,"c"!==this.map.get("overlayRender")&&a.ga?(b=this.Gs(a),X.j.Pi||b.push("e"),b=b.join(" "),0===b.length&&a.ga?(a.ga.Hc.parentNode.removeChild(a.ga.Hc),a.ga.fb.parentNode&&a.ga.fb.parentNode.removeChild(a.ga.fb),a.ga= null):X.j.Pi?(a.ga.Hc.setAttribute("d",b),a.ga.fb&&a.ga.fb.setAttribute("d",b)):(a.ga.Hc.path=b,a.ga.fb&&(a.ga.fb.path=b))):this.set("display"))},qj:function(){this.tE()&&this.pathChanged()},visibleChanged:function(){this.F&&(this.F.ga?this.get("visible")?(this.F.ga.Hc.style.display="block",this.F.ga.fb&&(this.F.ga.fb.style.display="block")):(this.F.ga.Hc.style.display="none",this.F.ga.fb&&(this.F.ga.fb.style.display="none")):this.set("display"))},optionsChanged:function(){this.F&&(this.F.style=this.get("options"), this.F.zIndex=this.get("options").zIndex,this.F.Lj(),this.F.ga&&(this.F.ga.Hc.parentNode&&this.F.ga.Hc.parentNode.removeChild(this.F.ga.Hc),this.F.ga.fb&&this.F.ga.fb.parentNode&&this.F.ga.fb.parentNode.removeChild(this.F.ga.fb)));this.set("display")}});X.Ea.Wc=X.Ea.ej.extend({B:function(a,b){arguments.callee.Ya.apply(this,arguments);this.JU=a;this.P("options",a);this.P("path",a);this.al();this.P("display",b)},Vi:function(a){var b=this.get("path");a=a.sc(this.map.get("resolution"));var c=[],d,f;b.length&&b[0]instanceof X.O&&(b=[b],f=!0);for(var g=0,h=b.length;g<h;g+=1){for(var k=b[g],l=[],m=0,n=k.length;m<n;m+=1)d=this.map.Ub(k[m]).add(a),l.push(this.map.Se(d));c.push(l)}0<c.length&&this.set("path",f?c[0]:c);this.JU.l("movepoly",{IK:a})},Do:function(a){a.length&& a[0]instanceof X.O&&(a=[a]);for(var b,c,d=[],f,g=this.map,h=0;h<a.length;h+=1){var k=a[h];f=[];b=0;for(c=k.length;b<c;b+=1){var l=g.Ub(k[b]);f.push([l.x,l.y])}d.push(f)}return d},al:function(){if(this.map&&!this.F){var a=this.map,b=this.get("path"),b=this.F=new X.Rd({aw:this.Zb.Lr,name:"polygon-"+X.g.zb(this),zIndex:this.get("options").zIndex||1,map:a,va:new X.ba.Wc(this.Do(b)),style:this.get("options")});b.uj=this;this.P("resolution",a);this.P("center",a);this.P("coords",b);this.P("style",b);b.ld(["visible", "zIndex","strokeWeight"],this)}},pathChanged:function(){var a=this.F,b=this.get("path");a&&(this.set("coords",this.Do(b)),a.fg=!0,"c"!==this.map.get("overlayRender")&&a.S?(b=this.Hs(a),0===b.length?(a.S.parentNode.removeChild(a.S),a.S=null):X.j.Pi?a.S.setAttribute("d",b.join(" ")):(b.push("e"),a.S.path=b.join(" "))):this.set("display"))},getStrokeWeight:function(){return this.get("options").strokeWeight},visibleChanged:function(){this.F&&(this.F.S?this.get("visible")?this.F.S.style.display="block": this.F.S.style.display="none":this.set("display"))},optionsChanged:function(){this.F&&(this.F.style=this.get("options"),this.F.zIndex=this.get("options").zIndex,this.F.Lj());this.set("display")},Hs:function(a){var b=[NaN,NaN,0],c=[NaN,NaN],d,f,g,h,k,l,m,n=a.S.rotation,p=this.map.get("size");f=Math.PI*n/180;n=(Math.abs(p.width*Math.cos(f))+Math.abs(p.height*Math.sin(f)))/2;p=(Math.abs(p.width*Math.sin(f))+Math.abs(p.height*Math.cos(f)))/2;a=a.va;a instanceof X.ba.Wc?d=[a]:a instanceof X.ba.jo&&(d= a.Id);var q=[];a=0;for(f=d.length;a<f;a+=1)if(b=d[a],g=b.df,h=g.length,0<h)for(var s=0;s<h;s+=1){var t;k=g[s].Ga;l=0;for(m=k.length;l<m;l+=1)if(b=k[l],b=this.Ib(b),b[0]=Math.ceil(b[0]+n),b[1]=Math.ceil(b[1]+p),0===l)c[0]=NaN,c[1]=NaN,t=b,q.push("M"+b[0]+" "+b[1]);else if(b[0]!==c[0]||b[1]!==c[1])q.push("L"+b[0]+" "+b[1]),c=b;t&&q.push("L"+t[0]+" "+t[1])}return q}});X.Ea.ii=X.Ea.ej.extend({B:function(a,b){arguments.callee.Ya.apply(this,arguments);this.IU=a;this.P("center",a);this.P("draggable",a);this.P("radius",a);this.P("options",a);this.al();this.P("display",b)},Vi:function(a){var b=this.get("center");a=a.sc(this.map.get("resolution"));var c=this.map.Ub(b).add(a);b instanceof X.O?this.set("center",this.map.Se(c)):this.set("center",c);this.IU.l("movepoly",{IK:a})},al:function(){if(this.map&&!this.F){var a=this.map,b=a.Ub(this.get("center")),b=this.F=new X.Rd({Jr:!0, aw:this.Zb.Lr,name:"circle-"+X.g.zb(this),zIndex:this.get("options").zIndex||1,map:a,va:new X.ba.ne([b.x,b.y]),style:this.get("options")});b.uj=this;this.P("resolution",a);this.P("coords",b);this.P("style",b);b.P("visible",this,!0);b.ld(["radius","center","resolution","zIndex","strokeWeight"],this)}},getStrokeWeight:function(){return this.get("options").strokeWeight},centerChanged:function(){var a=this.F,b=this.map.Ub(this.get("center"));a&&(a.va.Ga=[b.x,b.y],this.set("coords",[b.x,b.y]),this.fg= !0,a.S?this.TK():this.set("display"))},visibleChanged:function(){this.F&&(this.F.S?this.get("visible")?this.F.S.style.display="block":this.F.S.style.display="none":this.set("display"))},optionsChanged:function(){this.F&&(this.F.style=this.get("options"),this.F.zIndex=this.get("options").zIndex,this.F.Lj(),this.F.fg=!0,this.set("display"))},jy:function(a){var b=[],c=[],d,c=a.va;c instanceof X.ba.ne&&(d=[c]);var c=this.map.get("crs").Oh(Math.floor(this.map.get("zoom"))),f=a.S.rotation,b=this.map.get("size"), g=Math.PI*f/180,f=(Math.abs(b.width*Math.cos(g))+Math.abs(b.height*Math.sin(g)))/2,g=(Math.abs(b.width*Math.sin(g))+Math.abs(b.height*Math.cos(g)))/2,b=this.Ib(d[0].Ga);b[0]=Math.round(b[0]+f);b[1]=Math.round(b[1]+g);a=a.get("remain")?5.23:this.get("radius")/(c*Math.cos(Math.PI*this.get("center").M/180));return c=["M",b[0],b[1]-a,"A",a,a,0,1,1,b[0]-0.01,b[1]-a,"Z"].join(" ")},TK:function(){var a=this.F,b=this.get("radius");if("c"!==this.map.get("overlayRender")&&a.S)if(X.j.Pi)b=this.jy(a),a.S.setAttribute("d", b);else{b=this.map.get("crs").Oh(Math.floor(this.map.get("zoom")));b=this.get("radius")/(b*Math.cos(Math.PI*this.get("center").M/180));a.S.style.width=Math.round(2*b);a.S.style.height=Math.round(2*b);var c=this.map.get("size").width/2,d=this.map.get("size").height/2,f=this.Ib(a.va.Ga);f[0]=Math.round(f[0]+c);f[1]=Math.round(f[1]+d);a.S.style.top=Math.round(f[1]-b);a.S.style.left=Math.round(f[0]-b)}else this.set("display")},radiusChanged:function(){var a=this.F,b=this.get("radius");a&&(a.fg=!0,a.l("rad", {Zi:b}),this.TK())}}); ',true),_jsload_('cmng', 'X.V.fr=X.W.extend({B:function(){this.qb=2;this.UB=X.j.Lf?16:12;this.L_={road:0,region:0,building:1,poilabel:1,roadlabel:1};this.Gq=[new X.fd,new X.fd,new X.fd,new X.fd,new X.fd,new X.fd,new X.fd];this.g1=[{type:"roadlabel",show:!0,mn:1},{type:"poilabel",show:!0,mn:1},null,{type:"region",show:!0,mn:0},{type:"road",show:!0,mn:0},{type:"building",show:!0,mn:0},null];this.Ki=0},Ws:function(a,b,c,d,f){if("first"!==b)if(c&&c.yb&&c.hc)c.hc.yb||(c.hc.$b=c.$b,c.hc.sa=c.hc.Ds=c.hc.yb=!0);else{c&&(c.Xj=d);var g; switch(f){case "roadlabel":g=0;break;case "poilabel":g=1;break;case "labels":g=2;break;case "region":g=3;break;case "road":g=4;break;case "building":g=5;break;case "allbase":g=6}"groupcomplete"==b?this.Gq[g].Hu(["groupcomplete",g,c,a]):"tileComplete"==b?this.Gq[g].Hu(["co",7,c,a]):(this.Gq[g].Hu(["co",g,c,a]),""!==b&&this.Gq[g].Hu([b,g,c,a]));this.Ki>g&&(this.Ki=g);this.s0()}},FK:function(){var a=new Date,b=!1;do if(b=this.parse(),new Date-a>=this.UB)break;while(!b);this.DK=b?null:X.g.Ee(this.FK, this)},s0:function(){this.DK||(this.DK=X.g.Ee(this.FK,this))},HH:function(){return document.createElement("canvas")},parse:function(){var a,b=!1,c=this.Ki,d=this.Gq[this.Ki];if(d.cq())6===c&&(b=!0),this.Ki=(this.Ki+1)%7;else{a=d.bZ();var f=a[3],g=f.pa?512:256;if("groupcomplete"==a[0])f.set("display",0);else{var h=a[2],k=h.Xj,l,m=h.key+(18<k?"/"+k:"");if(f.Ka.rc(m))if("co"===a[0])if(3===a[1])this.IA(h,g),k=this.lb.ta.getContext("2d"),k.fillStyle=f.qi,k.fillRect(0,0,h.$b.width,h.$b.height),h.Xb.region&& (this.lb.dL(h.Xb.region,0,h.Xa.z),h.Xb.region=null);else if(4===a[1])this.IA(h,g),h.Xb.road&&(this.lb.x_(h.Xb.road,h.Xa.z),h.Xb.road=null);else if(5===a[1]&&h.Xb&&h.Xb.building){a=X.Ie&&X.Ie.vJ(f.A.Ba);if(f.Cq){if(h.Hd=h.Xb.building,18<k)for(a=h.Xa,l=Math.pow(2,k-18),g=0;g<l;g+=1)for(m=0;m<l;m+=1){var n=f.Ka.get(k+"/"+(l*a.x+g)+"/"+(l*a.y+m));n&&(n.Hd=h.Hd)}}else this.IA(h,g),this.lb.dL(h.Xb.building,1,h.Xa.z,void 0,a);h.Xb.building=null}else{if(7===a[1])if(h.Xb=null,18<k){a=h.Xa;l=Math.pow(2,k-18); for(n=0;n<l;n+=1)for(var p=0;p<l;p+=1){var q=f.Ka.get(k+"/"+(l*a.x+n)+"/"+(l*a.y+p));if(q&&(q.yb=q.sa=!0,h.$b)){q.$b=this.HH();q.$b.width=q.$b.height=g;q.$b.getContext("2d").drawImage(h.$b,-n*g,-p*g);f.Zn&&0===(q.Xa.x+q.Xa.y)%2&&q.$b.getContext("2d").drawImage(f.Zn,0,0);q.status="loaded";if(!X.j.U){var s=document.createElement("img");s.src=q.$b.toDataURL();q.$b=s}q.Ds=!0}}f.Ka.Yl(m)}else h.$b&&(f.Zn&&0===(h.Xa.x+h.Xa.y)%2&&h.$b.getContext("2d").drawImage(f.Zn,0,0),h.Ds=!0,h.hc&&(h.hc.Ds=h.hc.sa=!0), X.j.U||(s=document.createElement("img"),s.src=h.$b.toDataURL(),h.$b=s)),h.Ct&&(h.Ct.we=null,h.Ct=null),h.yb=h.sa=!0,h.hc&&(h.hc.yb=h.hc.sa=!0)}else X.PM.DA(h,a[0],this.g1[a[1]].type,f)}d.cq()&&(6===c&&(b=!0),this.Ki=(this.Ki+1)%7)}return b},IA:function(a,b){this.lb||(this.lb=new X.J.canvas.oe.kd);var c=18<a.Xj?Math.pow(2,18-a.Xj):1;a.$b||(a.$b=this.HH(),a.$b.width=a.$b.height=b/c,a.Ds=!1);a.$b&&(this.lb.ta=a.$b,this.lb.yc=c)}});X.V.fr.xl=new X.V.fr; ',true),_jsload_('cgl', '(function(){X.j.dg&&X.Dl.mJ("base",function(){function a(a,b){if(a&&!a.length)return-1;if(a.indexOf)return a.indexOf(b);for(var c=0;c<a.length;c+=1)if(a[c]===b)return c;return-1}function b(a,b,c,f){b=b.split("&");var n="",p=0,q=0,s="butt",t="",v=0,x=0,u="butt",v=d(b[1]),x=(parseInt(b[0])*c||1)*(f?2:1);c=b[2];c===g[1]?u="round":c===g[2]?u="square":0!==c.indexOf(g[5])&&(0===c.indexOf(g[3])?t=eval("["+c.substring(5).split(")")+"]"):0===c.indexOf(g[4])&&(p=v,v="white",t=eval("["+c.substring(8).split(")")+ "]"),q=x+1+(f?1:0),x=x-1-(f?1:0)));b[3]&&(p=d(b[4]),q=parseInt(b[3])*(f?2:1)+x,b=b[5],b===g[1]?s="round":b===g[2]?s="square":0!==b.indexOf(g[5])&&0===b.indexOf(g[3])&&(n=eval("["+b.substring(5).split(")")+"]")));a.oL=v;a.J_=x;a.G_=u;a.H_=t;a.cH=p;a.UU=q;a.RU=s;a.SU=n}function c(a,b,c,d,f,g){a=c-a;c=f-c;if(0===a||0===c)return a===c?!0:!1;if((g-d)/c===(d-b)/a)return!0}function d(a){for(var b=[],c=0,d=a.length;c<d;c+=2)b.push(parseInt(a.substr(c,2),16));b.push((b.shift()/255).toFixed(2));return"rgba("+ b.join(",")+")"}var f=null,g="solid solid_roundcap solid_squarecap dash railway dash_crewel".split(" ");return{parseData:function(g,k){var l=g.Dt,m=g.xq;f=g.Js;for(var n=0,p=g.fh.length;n<p;n+=1){for(var q=g.fh[n],s=l,t=m,v=q.xd,x=q.Bb.slice(1),u=q.nY,r=q.Rl,M=q.mn,F={},A=void 0,B=void 0,A=void 0,T=[],K=0,O=x.length;K<O;K+=1){var A=x[K],B=A[1],C;C=A[0];for(var w=r,G=s,P=M,D=u,z=t,I=[],L=0,Q=C.length;L<Q;L+=1){for(var E=C[L],H=void 0,N=void 0,J=void 0,V=void 0,U=void 0,N=[],J=NaN,V=0,U=E.length;V< U;V+=1)H=E[V],H="ASDFGHJKLQWERTYUIO!sdfghjkl".indexOf(H),isNaN(J)?J=27*H:(N.push(J+H-333),J=NaN);var E=N,R=G,H=D,aa=z,N=[],V=J=void 0,ea=U=0,fa=void 0;if(P)for(U=256*w.x,ea=256*w.y,fa=w.N,R=0,aa=E.length;R<aa;R+=2)J=(U+E[R])*fa,V=(ea+E[R+1])*fa,N.push([J,V]);else for(fa=(18<R?Math.pow(2,18-R):1)/(aa?2:1),R=0,aa=E.length;R<aa;R+=2){for(;!H&&0!==R&&R<aa-2&&c(E[R-2],E[R-1],E[R],E[R+1],E[R+2],E[R+3]);)R+=2;1===fa?N.push([E[R],E[R+1]]):N.push([E[R]/fa,E[R+1]/fa])}E=N;E.length&&(I.push(E),I.Ls=I.Ls?I.Ls+ E.Ls:E.Ls)}C=I;if(u){C.g2=K;if((G=A[4])&&G.length)for(P=0,D=G.length;P<D;P+=1)for(z=G[P].split("-"),I=C[parseInt(z[0])],L=1,w=z.length;L<w;L+=1)I[parseInt(z[L])].Pt=!0;G=A[5];P=0;for(w=C.length;P<w;P+=1)C[P].Sj=A[3]*(t?2:1);if(G&&G.length)for(w=0,P=G.length;w<P;w+=1)for(z=G[w].split("-"),D=z[1].split("^"),C[parseInt(z[0])].pH=D,z=0,I=D.length;z<I;z+=1)-1==a(T,D[z])&&T.push(D[z])}A=A[2];A=F[A]?F[A]:F[A]={};A[B]?A[B].push.apply(A[B],C):("road"==v?(w=1,18<s&&(w=Math.pow(2,s-18)),b(C,B,w,t)):(w=C,G=B, P=t,D=u,G=G.split("&"),w.face=d(D&&f?f:G[0]),G[2]?(w.border=d(G[2]),w.width=(P?2:1)*(parseInt(G[1])||1)):w.border=null),A[B]=C)}q.Bb=F;T.length&&(q.Ez=T)}k(null,{data:g})}}},function(){})})(X);X.J.canvas.nN=X.W.extend({B:function(a,b){this.ta=a;this.La=a.getContext("2d");this.w=b;this.FB="rgba(227,219,210,0.7)";this.K_="rgba(252,249,244,0.7)"},W3:function(a,b){var c=a.la.Eh,d=c.M,c=c.I,f=new Date,g=new Date;g.setMonth(0);g.setDate(0);g.setHours(0);g.setMinutes(0);g=(f-g)/864E5+8;b[0]=120-15*(f.getHours()-12)-c;b[1]=d-(-23.5+(182.62>g?g:365.25-g)/182.62*47)},Yo:function(a,b,c,d){return{x:a.x-b*c,y:a.y-b*d}},QA:function(a,b){var c=Math.pow(2,b.la.zoom-18);this.N=b.la.N;this.ma=b.ma;for(var d= [],f=[],g=[],h=a.length-1;0<=h;h-=1){var k=a[h];if(k&&!k.hL){k.hL=1;var l=a[h].Xa,m;for(m in k)if(k.hasOwnProperty(m)){var n=k[m],p;for(p in n)if(n.hasOwnProperty(p))for(var q=n[p],s=0,t=q.length;s<t;s+=1){for(var v=q[s],x=v.Sj,u=[],r=[],M=[],F=0,A=v.length-1;F<A;F+=1){var B=this.Ib(v[F],l),T=this.Ib(v[F+1],l),K=this.Yo(B,x,0,0.3*c),O=this.Yo(T,x,0,0.3*c);(T.x-B.x)*(K.y-B.y)<(K.x-B.x)*(T.y-B.y)&&(u.unshift(B.x,B.y),u.push(K.x,K.y),u.unshift(T.x,T.y),u.push(O.x,O.y));v[F].Pt||d.push(u);u=[];r.push(K.x, K.y);v[F].Pt||M.push(K.x,K.y,O.x,O.y)}u.length&&d.push(u);r.length&&f.push(r);M.length&&g.push(M)}}}}this.La.shadowBlur=0;this.La.lineWidth=1.4;this.gP(g,this.FB);this.vo(d,this.FB);this.vo(f,this.K_,this.FB);for(h=a.length-1;0<=h;h-=1)if(k=a[h])k.hL=0},gP:function(a,b){var c=this.La;c.beginPath();for(var d=a.length-1;0<=d;d-=1){var f=a[d];if(!(4>f.length)){c.moveTo(f[0],f[1]);for(var g=0,h=f.length;g<h;g+=4)c.moveTo(f[g],f[g+1]),c.lineTo(f[g+2],f[g+3])}}c.strokeStyle=b;c.stroke()},vo:function(a, b){var c=this.La;c.beginPath();for(var d=a.length-1;0<=d;d-=1){var f=a[d];if(!(2>f.length)){c.moveTo(f[0],f[1]);for(var g=2,h=f.length;g<h;g+=2)c.lineTo(f[g],f[g+1])}}c.closePath();c.fillStyle=b;c.fill()},Ib:function(a){return{x:(a[0]-this.ma.$a.x)/this.N*(this.w.pa?this.w.qb:1),y:(a[1]-this.ma.$a.y)/this.N*(this.w.pa?this.w.qb:1)}}});X.J.canvas.oe=X.J.mc.sg.extend({oa:[X.dv],B:function(a,b){arguments.callee.Ya.apply(this,arguments);this.im=150;this.Wh=!0;this.uf=null;a.A.Ba.pn&&this.yv(a,b);this.Bm=X.V.fr.xl;a.A.e("zoomend",this.Vg,this);a.A.e("moveend",this.Vg,this)},reloadChanged:function(){this.w&&(this.w.yb=!1,X.vd.Lp=null);this.Ka.clear();this.kb&&this.kb.parentNode&&this.kb.parentNode.removeChild(this.kb);this.set("display")},qf:function(){return[this.kb,this.ir]},be:function(){this.kb=document.createElement("div");this.kb.className= "amap-layer";this.ir=document.createElement("canvas");this.ir.xJ=!0;this.TC=new X.J.canvas.nN(this.ir,this.w);this.pl=document.createDocumentFragment()},Ml:function(a){var b=Math.pow(2,a.la.zoom-this.cd),c=this.w.pa?this.w.qb:1,d=a.la.za.Ja(this.Vj).Gb(this.vf);this.transform=[{translate:this.transform[0].translate.add(d),scale:b,rotate:0},{translate:this.transform[1].translate.add(d),scale:b/c,rotate:0,zf:this.w.get("zIndex")+1}];this.za=a.la.za},Hn:function(a,b){this.yd||this.Vg();var c=this.gy(a, b);this.hu.apply(this,c);this.Kc(a);if(a.Rf||a.yd){if(this.We){var c=Math.pow(2,a.la.zoom-this.We.Jn),d=this.w.pa?this.w.qb:1,f=a.la.za.Ja(this.We.Fn).Gb(this.We.vf/(this.w.pa?this.w.qb:1));this.transform[1]={translate:this.transform[1].translate.add(f),scale:c/d,rotate:0,zf:this.w.get("zIndex")+1}}}else this.QA(a,c[1],c[2])},vV:function(a){if(this.Hd!==this.We||!this.We||this.We.Jn!==this.zoom||this.We.Fn!==this.za||this.We.wq!==this.rotation||!this.We.size.Hb(a.size))return!0},QA:function(a){var b= !1,c=this.Hq;if(0===this.Hq.length)this.Hd=null;else for(j=c.length-1;0<=j;j-=1){var d=c[j];if(d.length&&(b=!1,!d.tp||this.Hd&&this.MA(this.Hd.qB,this.Tf)||(b=!0,this.Hd=[],this.Hd.qB=this.Tf),b))for(b=d.length-1;0<=b;b-=1){var f=d[b].Hd;f&&this.Hd.push(f)}}this.vV(a)&&(c=this.ir,d=this.TC,d.yd=this.yd,b=this.w.pa?this.w.qb:1,0!==a.la.rotation?X.f.di(c,2*Math.floor(a.ma.cb.x)*b,2*Math.floor(a.ma.cb.y)*b,!0):X.f.di(c,a.size.width*b,a.size.height*b,!0),d.ac=[a.ma.$a.x,a.ma.$a.y],!(f=this.Hd)||!f.length|| 15>this.zoom||(this.TC.QA(f,a),this.We=this.Hd,this.We.Jn=this.zoom,this.We.Fn=this.za,this.We.vf=this.N,this.We.wq=this.rotation,this.We.size=a.size))},Kc:function(a){var b=Math.pow(2,this.zoom-this.xc),c=this.za.Ja(this.ia);c.x<-X.g.Ua/2&&(c.x+=X.g.Ua);c.x>X.g.Ua/2&&(c.x-=X.g.Ua);c.Gb(this.yc);a=new X.K(a.ma.cb.x*(this.w.pa?this.w.qb:1),a.ma.cb.y*(this.w.pa?this.w.qb:1));this.transform=[{translate:this.ny,scale:b,rotate:0},{translate:a,scale:1/(this.w.pa?this.w.qb:1),rotate:0,zf:this.w.get("zIndex")+ 1}]}});X.J.canvas.oe.kd=X.W.extend({B:function(a,b){this.ta=a;this.Ca={};this.Ck=b},dL:function(a,b,c,d,f){c=[];for(var g in a)a.hasOwnProperty(g)&&(a[g].$l=parseInt(g),c.push(a[g]));c.sort(function(a,b){return a.$l>b.$l?1:a.$l<b.$l?-1:0});for(g in c)if(c.hasOwnProperty(g)){a=c[g];for(var h in a)a.hasOwnProperty(h)&&(d=a[h],this.TA(d,d.face,d.border,d.width,b,f))}},TA:function(a,b,c,d,f){var g=this.ta.getContext("2d"),h,k,l,m,n=[NaN,NaN,0],p=[NaN,NaN];g.save();c&&d&&(g.strokeStyle=c,g.lineWidth=d);b&&(g.fillStyle= b);this.Wn={};g.beginPath();h=a.length;if(0<h)for(var q=0;q<h;q+=1)for(k=a[q],l=0,m=k.length;l<m;l+=1)if(n=k[l],0===l)p=n,g.moveTo(n[0],n[1]);else if(n[0]!==p[0]||n[1]!==p[1])g.lineTo(n[0],n[1]),p=n;b&&g.fill();if(f&&(g.beginPath(),h=a.length,0<h))for(q=0;q<h;q+=1)for(k=a[q],l=0,m=k.length;l<m;l+=1)if(n=k[l],0===l)p=n,g.moveTo(n[0],n[1]);else if(n[0]!==p[0]||n[1]!==p[1])p.Pt?(g.moveTo(n[0],n[1]),n.Pt&&g.lineTo(n[0],n[1])):g.lineTo(n[0],n[1]),p=n;c&&d&&g.stroke();g.restore();return!0},x_:function(a){var b= [],c;for(c in a)a.hasOwnProperty(c)&&(a[c].$l=parseInt(c),b.push(a[c]));b.sort(function(a,b){return a.$l>b.$l?1:-1});for(c in b)if(b.hasOwnProperty(c)){a=b[c];var d,f;for(d in a)a.hasOwnProperty(d)&&(f=a[d],f.cH&&this.fL(f,f.cH,f.UU,f.RU,f.SU));for(d in a)a.hasOwnProperty(d)&&(f=a[d],f.oL&&this.fL(f,f.oL,f.J_,f.G_,f.H_))}},fL:function(a,b,c,d,f){var g=this.ta.getContext("2d");g.save();g.lineWidth=c;g.strokeStyle=b;g.lineCap=d;g.lineJoin="bevel";g.setLineDash?(this.jH(g,a),f&&(g.setLineDash(f),g.lineDashOffset= f[0])):f&&1<f.length?this.bV(g,a,f):this.jH(g,a);g.stroke();g.restore();return!0},jH:function(a,b){a.beginPath();var c,d,f,g,h,k,l;c=0;for(g=b.length;c<g;c+=1)for(k=b[c],d=0,h=k.length;d<h;d+=1)if(f=k[d],0===d)a.moveTo(f[0],f[1]),l=f;else if(f[0]!==l[0]||f[1]!==l[1])a.lineTo(f[0],f[1]),l=f},bV:function(a,b,c){a.beginPath();var d,f,g,h,k,l,m;a.Zs=c[0]+c[1];a.Eq=!1;d=0;for(h=b.length;d<h;d+=1)for(l=b[d],f=0,k=l.length;f<k;f+=1)if(g=l[f],0===f)a.moveTo(g[0],g[1]),m=g;else if(g[0]!==m[0]||g[1]!==m[1])a.By(m[0], m[1],g[0],g[1],c),m=g;a.closePath()}}); ',true),_jsload_('sync', '(function(){if(X.k.od){var a=function(){var a=X.k.od.split("."),b=window;do if(b=b[a.shift()],!b)return null;while(a.length);return b||null},b=function(b){var c=a();if(c){if("function"!==typeof c)throw Error(X.k.od+" is not a function!");c()}else if(b)throw Error("Can not find callback: "+X.k.od+", try define it before load JsApi!");};document.body&&a()?b():setTimeout(function(){b(!0)},300)}var c=["s=rsv3&product=JsInit&key="+X.k.key,"t="+(new Date).getTime()];c.push("resolution="+window.innerWidth+ "*"+window.innerHeight);c.push("mob="+(X.j.U?1:0));c.push("vt="+(X.j.dg?1:0));c.push("dpr="+window.devicePixelRatio);c.push("scale="+X.j.CB||0);c.push("detect="+X.j.pa);new X.na.ya(X.k.gc+"/v3/log/init?"+c.join("&"),{callback:"callback"})})(); ',true)})()